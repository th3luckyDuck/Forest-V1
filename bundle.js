!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([function(e,t,n){e.exports=n(166)},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;u=new Error(t.replace(/%s/g,function(){return c[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}e.exports=r},function(e,t){"use strict";function n(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(e),r=Object.prototype.hasOwnProperty,i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o){var a=Object(o);for(var s in a)r.call(a,s)&&(n[s]=a[s])}}return n}e.exports=n},function(e,t,n){"use strict";var r=n(13),i=r;e.exports=i},function(e,t,n){"use strict";e.exports=n(304)},function(e,t){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;n>r;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function i(e){return e?e.nodeType===V?e.documentElement:e.firstChild:null}function o(e){var t=i(e);return t&&Y.getID(t)}function a(e){var t=s(e);if(t)if(B.hasOwnProperty(t)){var n=B[t];n!==e&&(h(n,t)?j(!1):void 0,B[t]=e)}else B[t]=e;return t}function s(e){return e&&e.getAttribute&&e.getAttribute(U)||""}function u(e,t){var n=s(e);n!==t&&delete B[n],e.setAttribute(U,t),B[t]=e}function c(e){return B.hasOwnProperty(e)&&h(B[e],e)||(B[e]=Y.findReactNodeByID(e)),B[e]}function l(e){var t=T.get(e)._rootNodeID;return S.isNullComponentID(t)?null:(B.hasOwnProperty(t)&&h(B[t],t)||(B[t]=Y.findReactNodeByID(t)),B[t])}function h(e,t){if(e){s(e)!==t?j(!1):void 0;var n=Y.findReactContainerForID(t);if(n&&L(n,e))return!0}return!1}function f(e){delete B[e]}function p(e){var t=B[e];return t&&h(t,e)?void(X=t):!1}function d(e){X=null,M.traverseAncestors(e,p);var t=X;return X=null,t}function v(e,t,n,r,i,o){_.useCreateElement&&(o=D({},o),n.nodeType===V?o[G]=n:o[G]=n.ownerDocument);var a=k.mountComponent(e,t,r,o);e._renderedComponent._topLevelWrapper=e,Y._mountImageIntoNode(a,n,i,r)}function m(e,t,n,r,i){var o=O.ReactReconcileTransaction.getPooled(r);o.perform(v,null,e,t,n,o,r,i),O.ReactReconcileTransaction.release(o)}function g(e,t){for(k.unmountComponent(e),t.nodeType===V&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function y(e){var t=o(e);return t?t!==M.getReactRootIDFromNodeID(t):!1}function b(e){for(;e&&e.parentNode!==e;e=e.parentNode)if(1===e.nodeType){var t=s(e);if(t){var n,r=M.getReactRootIDFromNodeID(t),i=e;do if(n=s(i),i=i.parentNode,null==i)return null;while(n!==r);if(i===z[r])return e}}return null}var w=n(29),x=n(49),_=(n(18),n(118)),E=n(8),S=n(125),M=n(30),T=n(37),C=n(128),A=n(10),k=n(25),P=n(76),O=n(11),D=n(2),R=n(39),L=n(140),F=n(83),j=n(1),N=n(56),I=n(86),U=(n(88),n(3),w.ID_ATTRIBUTE_NAME),B={},$=1,V=9,W=11,G="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),H={},z={},q=[],X=null,K=function(){};K.prototype.isReactComponent={},K.prototype.render=function(){return this.props};var Y={TopLevelWrapper:K,_instancesByReactRootID:H,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r){return Y.scrollMonitor(n,function(){P.enqueueElementInternal(e,t),r&&P.enqueueCallbackInternal(e,r)}),e},_registerComponent:function(e,t){!t||t.nodeType!==$&&t.nodeType!==V&&t.nodeType!==W?j(!1):void 0,x.ensureScrollValueMonitoring();var n=Y.registerContainer(t);return H[n]=e,n},_renderNewRootComponent:function(e,t,n,r){var i=F(e,null),o=Y._registerComponent(i,t);return O.batchedUpdates(m,i,o,t,n,r),i},renderSubtreeIntoContainer:function(e,t,n,r){return null==e||null==e._reactInternalInstance?j(!1):void 0,Y._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){E.isValidElement(t)?void 0:j(!1);var a=new E(K,null,null,null,null,null,t),u=H[o(n)];if(u){var c=u._currentElement,l=c.props;if(I(l,t)){var h=u._renderedComponent.getPublicInstance(),f=r&&function(){r.call(h)};return Y._updateRootComponent(u,a,n,f),h}Y.unmountComponentAtNode(n)}var p=i(n),d=p&&!!s(p),v=y(n),m=d&&!u&&!v,g=Y._renderNewRootComponent(a,n,m,null!=e?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):R)._renderedComponent.getPublicInstance();return r&&r.call(g),g},render:function(e,t,n){return Y._renderSubtreeIntoContainer(null,e,t,n)},registerContainer:function(e){var t=o(e);return t&&(t=M.getReactRootIDFromNodeID(t)),t||(t=M.createReactRootID()),z[t]=e,t},unmountComponentAtNode:function(e){!e||e.nodeType!==$&&e.nodeType!==V&&e.nodeType!==W?j(!1):void 0;var t=o(e),n=H[t];if(!n){var r=(y(e),s(e));r&&r===M.getReactRootIDFromNodeID(r);return!1}return O.batchedUpdates(g,n,e),delete H[t],delete z[t],!0},findReactContainerForID:function(e){var t=M.getReactRootIDFromNodeID(e),n=z[t];return n},findReactNodeByID:function(e){var t=Y.findReactContainerForID(e);return Y.findComponentRoot(t,e)},getFirstReactDOM:function(e){return b(e)},findComponentRoot:function(e,t){var n=q,r=0,i=d(t)||e;for(n[0]=i.firstChild,n.length=1;r<n.length;){for(var o,a=n[r++];a;){var s=Y.getID(a);s?t===s?o=a:M.isAncestorIDOf(s,t)&&(n.length=r=0,n.push(a.firstChild)):n.push(a.firstChild),a=a.nextSibling}if(o)return n.length=0,o}n.length=0,j(!1)},_mountImageIntoNode:function(e,t,n,o){if(!t||t.nodeType!==$&&t.nodeType!==V&&t.nodeType!==W?j(!1):void 0,n){var a=i(t);if(C.canReuseMarkup(e,a))return;var s=a.getAttribute(C.CHECKSUM_ATTR_NAME);a.removeAttribute(C.CHECKSUM_ATTR_NAME);var u=a.outerHTML;a.setAttribute(C.CHECKSUM_ATTR_NAME,s);var c=e,l=r(c,u);" (client) "+c.substring(l-20,l+20)+"\n (server) "+u.substring(l-20,l+20);t.nodeType===V?j(!1):void 0}if(t.nodeType===V?j(!1):void 0,o.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);t.appendChild(e)}else N(t,e)},ownerDocumentContextKey:G,getReactRootID:o,getID:a,setID:u,getNode:c,getNodeFromInstance:l,isValid:h,purgeID:f};A.measureMethods(Y,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),e.exports=Y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.connect=t.Provider=void 0;var i=n(283),o=r(i),a=n(284),s=r(a);t.Provider=o["default"],t.connect=s["default"]},function(e,t,n){"use strict";var r=n(18),i=n(2),o=(n(54),"function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103),a={key:!0,ref:!0,__self:!0,__source:!0},s=function(e,t,n,r,i,a,s){var u={$$typeof:o,type:e,key:t,ref:n,props:s,_owner:a};return u};s.createElement=function(e,t,n){var i,o={},u=null,c=null,l=null,h=null;if(null!=t){c=void 0===t.ref?null:t.ref,u=void 0===t.key?null:""+t.key,l=void 0===t.__self?null:t.__self,h=void 0===t.__source?null:t.__source;for(i in t)t.hasOwnProperty(i)&&!a.hasOwnProperty(i)&&(o[i]=t[i])}var f=arguments.length-2;if(1===f)o.children=n;else if(f>1){for(var p=Array(f),d=0;f>d;d++)p[d]=arguments[d+2];o.children=p}if(e&&e.defaultProps){var v=e.defaultProps;for(i in v)"undefined"==typeof o[i]&&(o[i]=v[i])}return s(e,u,c,l,h,r.current,o)},s.createFactory=function(e){var t=s.createElement.bind(null,e);return t.type=e,t},s.cloneAndReplaceKey=function(e,t){var n=s(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},s.cloneAndReplaceProps=function(e,t){var n=s(e.type,e.key,e.ref,e._self,e._source,e._owner,t);return n},s.cloneElement=function(e,t,n){var o,u=i({},e.props),c=e.key,l=e.ref,h=e._self,f=e._source,p=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,p=r.current),void 0!==t.key&&(c=""+t.key);for(o in t)t.hasOwnProperty(o)&&!a.hasOwnProperty(o)&&(u[o]=t[o])}var d=arguments.length-2;if(1===d)u.children=n;else if(d>1){for(var v=Array(d),m=0;d>m;m++)v[m]=arguments[m+2];u.children=v}return s(e.type,c,l,h,f,p,u)},s.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e["default"]:e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(393);t.syncFirebase=o(a);var s=n(390);t.firebaseToProps=o(s);var u=n(392);t.firebaseReducer=o(u);var c=n(14),l=i(c);t.firebaseActions=l;var h=n(384);t.FirebaseLogin=o(h);var f=n(385);t.FirebaseLogout=o(f);var p=n(386);t.FirebaseOAuth=o(p);var d=n(387);t.FirebaseRegistration=o(d);var v=n(388);t.FirebaseResetPassword=o(v);var m=n(389);t.FirebaseWrite=o(m);var g=n(58),y=r(g);t.Firebase=y["default"]},function(e,t,n){"use strict";function r(e,t,n){return n}var i={enableMeasure:!1,storedMeasure:r,measureMethods:function(e,t,n){},measure:function(e,t,n){return n},injection:{injectMeasure:function(e){i.storedMeasure=e}}};e.exports=i},function(e,t,n){"use strict";function r(){T.ReactReconcileTransaction&&w?void 0:m(!1)}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=l.getPooled(),this.reconcileTransaction=T.ReactReconcileTransaction.getPooled(!1)}function o(e,t,n,i,o,a){r(),w.batchedUpdates(e,t,n,i,o,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==g.length?m(!1):void 0,g.sort(a);for(var n=0;t>n;n++){var r=g[n],i=r._pendingCallbacks;if(r._pendingCallbacks=null,p.performUpdateIfNecessary(r,e.reconcileTransaction),i)for(var o=0;o<i.length;o++)e.callbackQueue.enqueue(i[o],r.getPublicInstance())}}function u(e){return r(),w.isBatchingUpdates?void g.push(e):void w.batchedUpdates(u,e)}function c(e,t){w.isBatchingUpdates?void 0:m(!1),y.enqueue(e,t),b=!0}var l=n(70),h=n(21),f=n(10),p=n(25),d=n(53),v=n(2),m=n(1),g=[],y=l.getPooled(),b=!1,w=null,x={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),S()):g.length=0}},_={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},E=[x,_];v(i.prototype,d.Mixin,{getTransactionWrappers:function(){return E},destructor:function(){this.dirtyComponentsLength=null,l.release(this.callbackQueue),this.callbackQueue=null,T.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return d.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),h.addPoolingTo(i);var S=function(){for(;g.length||b;){if(g.length){var e=i.getPooled();e.perform(s,null,e),i.release(e)}if(b){b=!1;var t=y;y=l.getPooled(),t.notifyAll(),l.release(t)}}};S=f.measure("ReactUpdates","flushBatchedUpdates",S);var M={injectReconcileTransaction:function(e){e?void 0:m(!1),T.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:m(!1),"function"!=typeof e.batchedUpdates?m(!1):void 0,"boolean"!=typeof e.isBatchingUpdates?m(!1):void 0,w=e}},T={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:u,flushBatchedUpdates:S,injection:M,asap:c};e.exports=T},function(e,t,n){var r=n(46),i=n(28),o=n(20),a="[object Array]",s=Object.prototype,u=s.toString,c=r(Array,"isArray"),l=c||function(e){return o(e)&&i(e.length)&&u.call(e)==a};e.exports=l},function(e,t){"use strict";function n(e){return function(){return e}}function r(){}r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})}function o(e,t){return{key:e,value:t}}function a(e,t){return{type:ee,payload:{field:e,value:t}}}function s(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.path,n=e.id,r=e.value;return{type:ne,payload:{path:t,id:n,value:r}}}function u(e,t){return{type:Z,payload:{field:e,error:t}}}function c(e,t){return{type:re,payload:{path:e,error:t}}}function l(e,t){return{type:te,payload:{field:e,value:t}}}function h(e){return{type:J,payload:e}}function f(e,t,n,r){return{type:B,payload:{path:e,key:t,value:o(t,n),previousChildKey:r}}}function p(e,t,n){return{type:$,payload:{path:e,key:t,value:o(t,n)}}}function d(e,t,n){return{type:V,payload:{path:e,key:t.key(),previousChildKey:n}}}function v(e,t){return{type:W,payload:{path:e,key:t.key()}}}function m(e,t,n){var r=Object.keys(n||[]).reduce(function(e,t){return e.push(o(t,n[t])),e},[]);return{type:G,payload:{path:e,value:o(t,r)}}}function g(e,t){return{type:H,payload:{path:e,value:o(t.key(),t.val())}}}function y(e,t){return{type:z,payload:{path:e,value:t}}}function b(){return{type:X}}function w(e){return function(t,n){var r=n(),i=r.firebase.initialFetchDone;if(!i){t({type:q,payload:{path:e}});var o=n(),a=o.firebase,s=a.initialValuesReceived,u=a.stores;(0,U["default"])(s).length===Object.keys(u).length&&t(b())}}}function x(){return{type:K}}function _(e){return{type:Y,payload:e}}function E(){return{type:Q}}function S(e,t){return function(n,r){return new Promise(function(i,o){n(a("login",!0));var s=r().firebase.url,c=new N["default"](s);c.authWithPassword({email:e,password:t},function(e){return e?(n(u("login",e.message)),n(a("login",!1)),o()):(n(a("login",!1)),n(l("login",!0)),i())})})}}function M(e,t){return function(n,r){return new Promise(function(i,o){n(a("login",!0));var s=r().firebase.url,c=new N["default"](s);c[e](t,function(e){return e?(n(u("login",e.message)),n(a("login",!1)),o()):(n(a("createUser",!1)),n(l("login",!0)),i())})})}}function T(){return function(e,t){var n=t().firebase.url;new N["default"](n).unauth()}}function C(e,t){return function(n,r){return new Promise(function(i,o){n(a("createUser",!0));var s=r().firebase.url,c=new N["default"](s);c.createUser({email:e,password:t},function(e,t){return e?(n(u("createUser",ie[e.code]||e.message)),n(a("createUser",!1)),o()):(n(a("createUser",!1)),n(l("createUser",!0)),i(t))})})}}function A(e){return function(t,n){t(a("resetPassword",!0));var r=n().firebase.url,i=new N["default"](r);i.resetPassword({email:e},function(e){e?(t(u("resetPassword",oe[e.code]||e.message)),t(a("resetPassword",!1))):(t(a("resetPassword",!1)),t(l("resetPassword",!0)))})}}function k(e){var t=e.method,n=e.path,r=void 0===n?"":n,o=e.value,a=e.ownProps;return function(e,n){return new Promise(function(u,l){var h=i(),f="function"==typeof r?r(n(),a):r;e(s({path:f,id:h,value:!0}));var p=""+n().firebase.url+f,d=new N["default"](p);d[t](o,function(t){return t?(e(c(f,t.message)),l()):(e(s({path:f,id:h,value:!1})),u())})})}}function P(){return u("login",null)}function O(){return u("createUser",null)}function D(){return u("resetPassword",null)}function R(e){return c(e,null)}function L(e){return u("permissions",e.toString())}function F(){return u("permissions",null)}Object.defineProperty(t,"__esModule",{value:!0}),t.updateConfig=h,t.addArrayChild=f,t.changeArrayChild=p,t.moveArrayChild=d,t.removeArrayChild=v,t.updateArray=m,t.updateObject=g,t.replaceValue=y,t.completeInitialFetch=b,t.receiveInitialValue=w,t.connect=x,t.authenticateUser=_,t.unauthenticateUser=E,t.passwordLogin=S,t.oAuthLogin=M,t.logout=T,t.createUser=C,t.resetPassword=A,t.write=k,t.clearLoginError=P,t.clearRegistrationError=O,t.clearResetPasswordError=D,t.clearWriteErrors=R,t.revokePermissions=L,t.clearPermissionsError=F;var j=n(58),N=r(j),I=n(184),U=r(I),B="ARRAY_CHILD_ADDED";t.ARRAY_CHILD_ADDED=B;var $="ARRAY_CHILD_CHANGED";t.ARRAY_CHILD_CHANGED=$;var V="ARRAY_CHILD_MOVED";t.ARRAY_CHILD_MOVED=V;var W="ARRAY_CHILD_REMOVED";t.ARRAY_CHILD_REMOVED=W;var G="ARRAY_UPDATED";t.ARRAY_UPDATED=G;var H="OBJECT_UPDATED";t.OBJECT_UPDATED=H;var z="VALUE_REPLACED";t.VALUE_REPLACED=z;var q="INITIAL_VALUE_RECEIVED";t.INITIAL_VALUE_RECEIVED=q;var X="INITIAL_FETCH_DONE";t.INITIAL_FETCH_DONE=X;var K="CONNECTED";t.CONNECTED=K;var Y="USER_AUTHENTICATED";t.USER_AUTHENTICATED=Y;var Q="USER_UNAUTHENTICATED";t.USER_UNAUTHENTICATED=Q;var J="CONFIG_UPDATED";t.CONFIG_UPDATED=J;var Z="ERROR_UPDATED";t.ERROR_UPDATED=Z;var ee="PROCESSING_UPDATED";t.PROCESSING_UPDATED=ee;var te="COMPLETED_UPDATED";t.COMPLETED_UPDATED=te;var ne="WRITE_PROCESSING_UPDATED";t.WRITE_PROCESSING_UPDATED=ne;var re="WRITE_ERRORS_UPDATED";t.WRITE_ERRORS_UPDATED=re;var ie={EMAIL_TAKEN:"The new user account cannot be created because the email is already in use.",INVALID_EMAIL:"The specified email is not a valid email."},oe={INVALID_USER:"The specified user account does not exist."}},function(e,t,n){function r(e){return i(e)?e:Object(e)}var i=n(16);e.exports=r},function(e,t){function n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){"use strict";var r=n(57),i=r({bubbled:null,captured:null}),o=r({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:o,PropagationPhases:i};e.exports=a},function(e,t){"use strict";var n={current:null};e.exports=n},function(e,t,n){function r(e){return null!=e&&o(i(e))}var i=n(102),o=n(28);e.exports=r},function(e,t){function n(e){return!!e&&"object"==typeof e}e.exports=n},function(e,t,n){"use strict";var r=n(1),i=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},o=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},s=function(e,t,n,r){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,e,t,n,r),o}return new i(e,t,n,r)},u=function(e,t,n,r,i){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,e,t,n,r,i),a}return new o(e,t,n,r,i)},c=function(e){var t=this;e instanceof t?void 0:r(!1),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},l=10,h=i,f=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||h,n.poolSize||(n.poolSize=l),n.release=c,n},p={addPoolingTo:f,oneArgumentPooler:i,twoArgumentPooler:o,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:u};e.exports=p},function(e,t){"use strict";var n=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.voteSkip=t.playNextVideoIfMaster=t.playNextVideo=t.removeAllDownvoted=t.removeVideo=t.unblockUser=t.blockUser=t.toggleRequestLocking=t.toggleHideVideo=t.changeVolume=t.voteOnVideo=t.requestVideo=t.addVideo=t.playVideo=t.gotAltspaceVolume=t.getAltspaceUserInfo=t.setPage=t.updateSearchQuery=t.searchVideo=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(9),s=n(40);n(411);var u=n(48),c=r(u),l=n(59),h=r(l),f=n(178),p=r(f),d=n(33),v=r(d),m=n(43),g=n(93),y=a.firebaseActions.write,b="AIzaSyDFmlHbUyfOA3O5lN0G9B2vQJ_hnwWxV-s",w=t.searchVideo=(0,s.createAction)("SEARCH_VIDEOS_RESPONE",function(e){if(!e||!e.length)return{items:[]};var t=c["default"].stringify({key:b,part:"id",maxResults:30,type:"video",videoEmbeddable:!0,q:e});return fetch("https://www.googleapis.com/youtube/v3/search?"+t).then(function(e){return e.json()}).then(function(e){var t=e.items,n=t.map(function(e){return e.id.videoId}),r=c["default"].stringify({key:b,part:"id,snippet,statistics,contentDetails",id:n.join(",")});return fetch("https://www.googleapis.com/youtube/v3/videos?"+r).then(function(e){return e.json()})})}),x=t.updateSearchQuery=(0,s.createAction)("UPDATE_SEARCH_QUERY"),_=t.setPage=(0,s.createAction)("SET_PAGE"),E=(t.getAltspaceUserInfo=(0,s.createAction)("GOT_ALTSPACE_USER_INFO",function(){if(!h["default"].inClient){var e=localStorage.getItem("video-jukebox-uid")||p["default"].raw();return localStorage.setItem("video-jukebox-uid",e),Promise.resolve({userId:e,displayName:"Non Altpsace User"})}return h["default"].getUser()}),t.gotAltspaceVolume=(0,s.createAction)("GOT_ALTSPACE_VOLUME"),function(e){var t=e.firebase.stores,n=e.authenticatedUser,r=t.viewers;return n&&r&&r.value[0]&&r.value[0].key===n.uid}),S=t.playVideo=function(e){return y({method:"set",path:g.firebaseBindings.nowPlaying.path,value:o({},e,{startedAt:a.Firebase.ServerValue.TIMESTAMP})})},M=t.addVideo=function(e){return function(t,n){var r=n().firebase.stores.nowPlaying;t(r.value&&r.value.id?y({method:"set",path:g.firebaseBindings.playlist.path+"/"+e.id,value:e}):S(e)),t(x("")),t(w()),t(_("home"))}},T=(t.requestVideo=function(e){return function(t,n){(0,m.logEvent)({action:"submit video",label:e.id});var r=n(),s=r.authenticatedUser,u=o({},e,{votes:i({},s.uid,!0),requester:s.uid,requesterDisplayname:s.displayName,addedAt:a.Firebase.ServerValue.TIMESTAMP});t(M(u))}},t.voteOnVideo=function(e,t){return function(n,r){var a=r(),s=a.authenticatedUser,u=0;t>0?(u=1,(0,m.logEvent)({action:"vote up",label:e})):0>t&&(u=-1,(0,m.logEvent)({action:"vote down",label:e})),n(y({method:"transaction",path:g.firebaseBindings.playlist.path+"/"+e,value:function(e){return e?o({},e,{votes:o({},e.votes,i({},s.uid,u))}):void 0}}))}},t.changeVolume=function(e){return function(t,n){t(y({method:"transaction",path:g.firebaseBindings.userSettings.path(n())+"/volume",value:function(t){return(0,m.clamp)(0,6,t+e)}}))}},t.toggleHideVideo=function(){return function(e,t){(0,m.logEvent)({action:"toggle video"}),e(y({method:"transaction",path:g.firebaseBindings.userSettings.path(t())+"/hideVideo",value:function(e){return!e}}))}},t.toggleRequestLocking=function(){return(0,m.logEvent)({action:"toggle requests"}),y({method:"transaction",path:g.firebaseBindings.requestsLocked.path,value:function(e){return!e}})},t.blockUser=function(e){return(0,m.logEvent)({action:"block user",label:e}),y({method:"set",path:g.firebaseBindings.blocked.path+"/"+e,value:!0})},t.unblockUser=function(e){return function(t,n){(0,m.logEvent)({action:"unblock user",label:e});var r=n().firebase.url,i=""+r+g.firebaseBindings.blocked.path+"/"+e;new a.Firebase(i).remove()}},t.removeVideo=function(e){return function(t,n){(0,m.logEvent)({action:"remove video",label:e});var r=n().firebase.url,i=""+r+g.firebaseBindings.playlist.path+"/"+e;new a.Firebase(i).remove()}}),C=(t.removeAllDownvoted=function(){return function(e,t){(0,m.logEvent)({action:"remove all downvoted"});var n=t().firebase.stores.playlist;v["default"].filter(n.value,function(e){return v["default"].reduce(e.value.votes,function(e,t){return e+t},0)<0}).map(function(e){return e.value.id}).forEach(function(t){return e(T(t))})}},t.playNextVideo=function(){return function(e,t){var n=t().firebase.stores,r=n.playlist,i=(n.nowPlaying,(0,m.mapAndSortPlaylist)(r)),o=i[0];o&&o.id&&e(T(o.id)),e(S(o||{}))}});t.playNextVideoIfMaster=function(){return function(e,t){var n=E(t());n&&e(C())}},t.voteSkip=function(){return function(e,t){var n=t().firebase.stores,r=t(),i=r.authenticatedUser,o=n.nowPlaying&&n.nowPlaying.value||{},a=o.voteSkips&&Object.keys(o.voteSkips).length||0;(0,m.logEvent)({action:"vote skip",label:o.id}),e(a+1>=(0,m.getRequiredVotesToSkip)(n.voters)?C():y({method:"set",path:g.firebaseBindings.nowPlaying.path+"/voteSkips/"+i.uid,value:!0}))}}},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){"use strict";function r(){i.attachRefs(this,this._currentElement)}var i=n(323),o={mountComponent:function(e,t,n,i){var o=e.mountComponent(t,n,i);return e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e),o},unmountComponent:function(e){i.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,n,o){var a=e._currentElement;if(t!==a||o!==e._context){var s=i.shouldUpdateRefs(a,t);s&&i.detachRefs(e,a),e.receiveComponent(t,n,o),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}};e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n;var i=this.constructor.Interface;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];s?this[o]=s(n):"target"===o?this.target=r:this[o]=n[o]}var u=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;u?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse}var i=n(21),o=n(2),a=n(13),s=(n(3),{type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null});o(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),r.Interface=s,r.augmentClass=function(e,t){var n=this,r=Object.create(n.prototype);o(r,e.prototype),e.prototype=r,e.prototype.constructor=e,e.Interface=o({},n.Interface,t),e.augmentClass=n.augmentClass,i.addPoolingTo(e,i.fourArgumentPooler)},i.addPoolingTo(r,i.fourArgumentPooler),e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.RectangleButton=t.RoundButton=void 0;var i=n(4),o=r(i),a=n(32),s=r(a);t.RoundButton=function(e){var t=e.className,n=e.icon,r=e.onClick,i=e.disabled,a=e.active;return o["default"].createElement("div",{className:(0,s["default"])("round-button","icon-"+n,{active:a,disabled:i},t),onClick:r})},t.RectangleButton=function(e){var t=e.className,n=e.progress,r=e.onClick,i=e.disabled,a=e.title;return o["default"].createElement("div",{className:(0,s["default"])("rectangle-button",t,{disabled:i}),onClick:r},void 0!=n&&o["default"].createElement("div",{className:"bar",style:{width:Math.floor(100*n)+"%"}}),o["default"].createElement("span",null,a))}},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&r>=e}var r=9007199254740991;e.exports=n},function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var i=n(1),o={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=o,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},u=e.DOMAttributeNames||{},c=e.DOMPropertyNames||{},l=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var h in n){s.properties.hasOwnProperty(h)?i(!1):void 0;var f=h.toLowerCase(),p=n[h],d={attributeName:f,attributeNamespace:null,propertyName:h,mutationMethod:null,mustUseAttribute:r(p,t.MUST_USE_ATTRIBUTE),mustUseProperty:r(p,t.MUST_USE_PROPERTY),hasSideEffects:r(p,t.HAS_SIDE_EFFECTS),hasBooleanValue:r(p,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(p,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(p,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(p,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(d.mustUseAttribute&&d.mustUseProperty?i(!1):void 0,!d.mustUseProperty&&d.hasSideEffects?i(!1):void 0,d.hasBooleanValue+d.hasNumericValue+d.hasOverloadedBooleanValue<=1?void 0:i(!1),u.hasOwnProperty(h)){var v=u[h];d.attributeName=v}a.hasOwnProperty(h)&&(d.attributeNamespace=a[h]),c.hasOwnProperty(h)&&(d.propertyName=c[h]),l.hasOwnProperty(h)&&(d.mutationMethod=l[h]),s.properties[h]=d}}},a={},s={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var n,r=a[e];return r||(a[e]=r={}),t in r||(n=document.createElement(e),r[t]=n[t]),r[t]},injection:o};e.exports=s},function(e,t,n){"use strict";function r(e){return p+e.toString(36)}function i(e,t){return e.charAt(t)===p||t===e.length}function o(e){return""===e||e.charAt(0)===p&&e.charAt(e.length-1)!==p}function a(e,t){return 0===t.indexOf(e)&&i(t,e.length)}function s(e){return e?e.substr(0,e.lastIndexOf(p)):""}function u(e,t){if(o(e)&&o(t)?void 0:f(!1),a(e,t)?void 0:f(!1),e===t)return e;var n,r=e.length+d;for(n=r;n<t.length&&!i(t,n);n++);return t.substr(0,n)}function c(e,t){var n=Math.min(e.length,t.length);if(0===n)return"";for(var r=0,a=0;n>=a;a++)if(i(e,a)&&i(t,a))r=a;else if(e.charAt(a)!==t.charAt(a))break;var s=e.substr(0,r);return o(s)?void 0:f(!1),s}function l(e,t,n,r,i,o){e=e||"",t=t||"",e===t?f(!1):void 0;var c=a(t,e);c||a(e,t)?void 0:f(!1);for(var l=0,h=c?s:u,p=e;;p=h(p,t)){var d;if(i&&p===e||o&&p===t||(d=n(p,c,r)),d===!1||p===t)break;l++<v?void 0:f(!1)}}var h=n(133),f=n(1),p=".",d=p.length,v=1e4,m={createReactRootID:function(){return r(h.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===p&&e.length>1){var t=e.indexOf(p,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,r,i){var o=c(e,t);o!==e&&l(e,o,n,r,!1,!0),o!==t&&l(o,t,n,i,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(l("",e,t,n,!0,!1),l(e,"",t,n,!1,!0))},traverseTwoPhaseSkipTarget:function(e,t,n){e&&(l("",e,t,n,!0,!0),l(e,"",t,n,!0,!0))},traverseAncestors:function(e,t,n){l("",e,t,n,!0,!1)},getFirstCommonAncestorID:c,_getNextDescendantID:u,isAncestorIDOf:a,SEPARATOR:p};e.exports=m},function(e,t){"use strict";function n(e,t){var n=e.length;for(n>t&&(n=t);e[n-1]===u;)n--;return n}function r(e){
return function t(r){for(var i=arguments.length,o=Array(i>1?i-1:0),a=1;i>a;a++)o[a-1]=arguments[a];var s=o[0],u=o[1],c=n(arguments);return c>=1?e(r,s,u):t}}function i(e){return function t(i,o){for(var a=arguments.length,s=Array(a>2?a-2:0),c=2;a>c;c++)s[c-2]=arguments[c];var l=s[0],h=s[1],f=n(arguments,2);if(o===u||l===u||h===u)throw new Error("Can only use placeholder on first argument of this function.");return f>=2?i===u?r(function(t,n,r){return e(t,o,n,r)}):e(i,o,l,h):1===f?r(function(t,n,r){return e(i,t,n,r)}):t}}function o(e){return function t(o,a,s){for(var c=arguments.length,l=Array(c>3?c-3:0),h=3;c>h;h++)l[h-3]=arguments[h];var f=l[0],p=l[1],d=n(arguments,3);if(s===u||f===u||p===u)throw new Error("Can only use placeholder on first or second argument of this function.");return d>=3?o===u?a===u?i(function(t,n,r,i){return e(t,n,s,r,i)}):r(function(t,n,r){return e(t,a,s,n,r)}):a===u?r(function(t,n,r){return e(o,t,s,n,r)}):e(o,a,s,f,p):2===d?o===u?i(function(t,n,r,i){return e(t,a,n,r,i)}):r(function(t,n,r){return e(o,a,t,n,r)}):1===d?i(function(t,n,r,i){return e(o,t,n,r,i)}):t}}function a(e){return function t(a,s,c,l){for(var h=arguments.length,f=Array(h>4?h-4:0),p=4;h>p;p++)f[p-4]=arguments[p];var d=f[0],v=f[1],m=n(arguments,4);if(l===u||d===u||v===u)throw new Error("Can only use placeholder on first, second or third argument of this function.");return m>=4?a===u?s===u?c===u?o(function(t,n,r,i,o){return e(t,n,r,l,i,o)}):i(function(t,n,r,i){return e(t,n,c,l,r,i)}):c===u?i(function(t,n,r,i){return e(t,s,n,l,r,i)}):r(function(t,n,r){return e(t,s,c,l,n,r)}):s===u?c===u?i(function(t,n,r,i){return e(a,t,n,l,r,i)}):r(function(t,n,r){return e(a,t,c,l,n,r)}):c===u?r(function(t,n,r){return e(a,s,t,l,n,r)}):e(a,s,c,l,d,v):3===m?a===u?s===u?o(function(t,n,r,i,o){return e(t,n,c,r,i,o)}):i(function(t,n,r,i){return e(t,s,c,n,r,i)}):s===u?i(function(t,n,r,i){return e(a,t,c,n,r,i)}):r(function(t,n,r){return e(a,s,c,t,n,r)}):2===m?a===u?o(function(t,n,r,i,o){return e(t,s,n,r,i,o)}):i(function(t,n,r,i){return e(a,s,t,n,r,i)}):1===m?o(function(t,n,r,i,o){return e(a,t,n,r,i,o)}):t}}function s(e){var t=arguments.length<=1||void 0===arguments[1]?e.length:arguments[1];return function(){return[e,r,i,o,a][t](e)}()}t.__esModule=!0,t.curry1=r,t.curry2=i,t.curry3=o,t.curry4=a,t["default"]=s;var u="@@updeep/placeholder";t._=u},function(e,t,n){var r,i;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===i)for(var a in r)o.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var o={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(r=[],i=function(){return n}.apply(t,r),!(void 0!==i&&(e.exports=i)))}()},function(e,t,n){var r;(function(e,i){(function(){function o(e,t){if(e!==t){var n=null===e,r=e===C,i=e===e,o=null===t,a=t===C,s=t===t;if(e>t&&!o||!i||n&&!a&&s||r&&s)return 1;if(t>e&&!n||!s||o&&!r&&i||a&&i)return-1}return 0}function a(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function s(e,t,n){if(t!==t)return y(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function u(e){return"function"==typeof e||!1}function c(e){return null==e?"":e+""}function l(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function h(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function f(e,t){return o(e.criteria,t.criteria)||e.index-t.index}function p(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,s=i.length,u=n.length;++r<s;){var c=o(i[r],a[r]);if(c){if(r>=u)return c;var l=n[r];return c*("asc"===l||l===!0?1:-1)}}return e.index-t.index}function d(e){return ze[e]}function v(e){return qe[e]}function m(e,t,n){return t?e=Ye[e]:n&&(e=Qe[e]),"\\"+e}function g(e){return"\\"+Qe[e]}function y(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function b(e){return!!e&&"object"==typeof e}function w(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function x(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;)e[n]===t&&(e[n]=z,o[++i]=n);return o}function _(e,t){for(var n,r=-1,i=e.length,o=-1,a=[];++r<i;){var s=e[r],u=t?t(s,r,e):s;r&&n===u||(n=u,a[++o]=s)}return a}function E(e){for(var t=-1,n=e.length;++t<n&&w(e.charCodeAt(t)););return t}function S(e){for(var t=e.length;t--&&w(e.charCodeAt(t)););return t}function M(e){return Xe[e]}function T(e){function t(e){if(b(e)&&!ks(e)&&!(e instanceof i)){if(e instanceof r)return e;if(ta.call(e,"__chain__")&&ta.call(e,"__wrapped__"))return pr(e)}return new r(e)}function n(){}function r(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function i(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Aa,this.__views__=[]}function w(){var e=new i(this.__wrapped__);return e.__actions__=et(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=et(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=et(this.__views__),e}function Z(){if(this.__filtered__){var e=new i(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function re(){var e=this.__wrapped__.value(),t=this.__dir__,n=ks(e),r=0>t,i=n?e.length:0,o=zn(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,h=l.length,f=0,p=Ea(u,this.__takeCount__);if(!n||V>i||i==u&&p==u)return nn(r&&n?e.reverse():e,this.__actions__);var d=[];e:for(;u--&&p>f;){c+=t;for(var v=-1,m=e[c];++v<h;){var g=l[v],y=g.iteratee,b=g.type,w=y(m);if(b==G)m=w;else if(!w){if(b==W)continue e;break e}}d[f++]=m}return d}function oe(){this.__data__={}}function ze(e){return this.has(e)&&delete this.__data__[e]}function qe(e){return"__proto__"==e?C:this.__data__[e]}function Xe(e){return"__proto__"!=e&&ta.call(this.__data__,e)}function Ke(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Ye(e){var t=e?e.length:0;for(this.data={hash:ga(null),set:new ha};t--;)this.push(e[t])}function Qe(e,t){var n=e.data,r="string"==typeof t||Li(t)?n.set.has(t):n.hash[t];return r?0:-1}function Je(e){var t=this.data;"string"==typeof e||Li(e)?t.set.add(e):t.hash[e]=!0}function Ze(e,t){for(var n=-1,r=e.length,i=-1,o=t.length,a=$o(r+o);++n<r;)a[n]=e[n];for(;++i<o;)a[n++]=t[i];return a}function et(e,t){var n=-1,r=e.length;for(t||(t=$o(r));++n<r;)t[n]=e[n];return t}function tt(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function nt(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function ot(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function at(e,t,n,r){for(var i=-1,o=e.length,a=r,s=a;++i<o;){var u=e[i],c=+t(u);n(c,a)&&(a=c,s=u)}return s}function st(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[++i]=a)}return o}function ut(e,t){for(var n=-1,r=e.length,i=$o(r);++n<r;)i[n]=t(e[n],n,e);return i}function ct(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function lt(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function ht(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function ft(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function pt(e,t){for(var n=e.length,r=0;n--;)r+=+t(e[n])||0;return r}function dt(e,t){return e===C?t:e}function vt(e,t,n,r){return e!==C&&ta.call(r,n)?e:t}function mt(e,t,n){for(var r=-1,i=Bs(t),o=i.length;++r<o;){var a=i[r],s=e[a],u=n(s,t[a],a,e,t);(u===u?u===s:s!==s)&&(s!==C||a in e)||(e[a]=u)}return e}function gt(e,t){return null==t?e:bt(t,Bs(t),e)}function yt(e,t){for(var n=-1,r=null==e,i=!r&&Qn(e),o=i?e.length:0,a=t.length,s=$o(a);++n<a;){var u=t[n];i?s[n]=Jn(u,o)?e[u]:C:s[n]=r?C:e[u]}return s}function bt(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}function wt(e,t,n){var r=typeof e;return"function"==r?t===C?e:an(e,t,n):null==e?Ao:"object"==r?Ut(e):t===C?Lo(e):Bt(e,t)}function xt(e,t,n,r,i,o,a){var s;if(n&&(s=i?n(e,r,i):n(e)),s!==C)return s;if(!Li(e))return e;var u=ks(e);if(u){if(s=qn(e),!t)return et(e,s)}else{var c=ra.call(e),l=c==J;if(c!=te&&c!=q&&(!l||i))return He[c]?Kn(e,c,t):i?e:{};if(s=Xn(l?{}:e),!t)return gt(s,e)}o||(o=[]),a||(a=[]);for(var h=o.length;h--;)if(o[h]==e)return a[h];return o.push(e),a.push(s),(u?tt:Ot)(e,function(r,i){s[i]=xt(r,t,n,i,e,o,a)}),s}function _t(e,t,n){if("function"!=typeof e)throw new Yo(H);return fa(function(){e.apply(C,n)},t)}function Et(e,t){var n=e?e.length:0,r=[];if(!n)return r;var i=-1,o=Wn(),a=o==s,u=a&&t.length>=V?vn(t):null,c=t.length;u&&(o=Qe,a=!1,t=u);e:for(;++i<n;){var l=e[i];if(a&&l===l){for(var h=c;h--;)if(t[h]===l)continue e;r.push(l)}else o(t,l,0)<0&&r.push(l)}return r}function St(e,t){var n=!0;return ja(e,function(e,r,i){return n=!!t(e,r,i)}),n}function Mt(e,t,n,r){var i=r,o=i;return ja(e,function(e,a,s){var u=+t(e,a,s);(n(u,i)||u===r&&u===o)&&(i=u,o=e)}),o}function Tt(e,t,n,r){var i=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===C||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)e[n++]=t;return e}function Ct(e,t){var n=[];return ja(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function At(e,t,n,r){var i;return n(e,function(e,n,o){return t(e,n,o)?(i=r?n:e,!1):void 0}),i}function kt(e,t,n,r){r||(r=[]);for(var i=-1,o=e.length;++i<o;){var a=e[i];b(a)&&Qn(a)&&(n||ks(a)||Mi(a))?t?kt(a,t,n,r):ct(r,a):n||(r[r.length]=a)}return r}function Pt(e,t){return Ia(e,t,eo)}function Ot(e,t){return Ia(e,t,Bs)}function Dt(e,t){return Ua(e,t,Bs)}function Rt(e,t){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];Ri(e[a])&&(o[++i]=a)}return o}function Lt(e,t,n){if(null!=e){n!==C&&n in hr(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&i>r;)e=e[t[r++]];return r&&r==i?e:C}}function Ft(e,t,n,r,i,o){return e===t?!0:null==e||null==t||!Li(e)&&!b(t)?e!==e&&t!==t:jt(e,t,Ft,n,r,i,o)}function jt(e,t,n,r,i,o,a){var s=ks(e),u=ks(t),c=X,l=X;s||(c=ra.call(e),c==q?c=te:c!=te&&(s=Wi(e))),u||(l=ra.call(t),l==q?l=te:l!=te&&(u=Wi(t)));var h=c==te,f=l==te,p=c==l;if(p&&!s&&!h)return Un(e,t,c);if(!i){var d=h&&ta.call(e,"__wrapped__"),v=f&&ta.call(t,"__wrapped__");if(d||v)return n(d?e.value():e,v?t.value():t,r,i,o,a)}if(!p)return!1;o||(o=[]),a||(a=[]);for(var m=o.length;m--;)if(o[m]==e)return a[m]==t;o.push(e),a.push(t);var g=(s?In:Bn)(e,t,n,r,i,o,a);return o.pop(),a.pop(),g}function Nt(e,t,n){var r=t.length,i=r,o=!n;if(null==e)return!i;for(e=hr(e);r--;){var a=t[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<i;){a=t[r];var s=a[0],u=e[s],c=a[1];if(o&&a[2]){if(u===C&&!(s in e))return!1}else{var l=n?n(u,c,s):C;if(!(l===C?Ft(c,u,n,!0):l))return!1}}return!0}function It(e,t){var n=-1,r=Qn(e)?$o(e.length):[];return ja(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Ut(e){var t=Gn(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(r!==C||n in hr(e))}}return function(e){return Nt(e,t)}}function Bt(e,t){var n=ks(e),r=er(e)&&rr(t),i=e+"";return e=fr(e),function(o){if(null==o)return!1;var a=i;if(o=hr(o),(n||!r)&&!(a in o)){if(o=1==e.length?o:Lt(o,Xt(e,0,-1)),null==o)return!1;a=Tr(e),o=hr(o)}return o[a]===t?t!==C||a in o:Ft(t,o[a],C,!0)}}function $t(e,t,n,r,i){if(!Li(e))return e;var o=Qn(t)&&(ks(t)||Wi(t)),a=o?C:Bs(t);return tt(a||t,function(s,u){if(a&&(u=s,s=t[u]),b(s))r||(r=[]),i||(i=[]),Vt(e,t,u,$t,n,r,i);else{var c=e[u],l=n?n(c,s,u,e,t):C,h=l===C;h&&(l=s),l===C&&(!o||u in e)||!h&&(l===l?l===c:c!==c)||(e[u]=l)}}),e}function Vt(e,t,n,r,i,o,a){for(var s=o.length,u=t[n];s--;)if(o[s]==u)return void(e[n]=a[s]);var c=e[n],l=i?i(c,u,n,e,t):C,h=l===C;h&&(l=u,Qn(u)&&(ks(u)||Wi(u))?l=ks(c)?c:Qn(c)?et(c):[]:Bi(u)||Mi(u)?l=Mi(c)?Xi(c):Bi(c)?c:{}:h=!1),o.push(u),a.push(l),h?e[n]=r(l,u,i,o,a):(l===l?l!==c:c===c)&&(e[n]=l)}function Wt(e){return function(t){return null==t?C:t[e]}}function Gt(e){var t=e+"";return e=fr(e),function(n){return Lt(n,e,t)}}function Ht(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&Jn(r)){var i=r;pa.call(e,r,1)}}return e}function zt(e,t){return e+ya(Ta()*(t-e+1))}function qt(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function Xt(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n=n===C||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=$o(i);++r<i;)o[r]=e[r+t];return o}function Kt(e,t){var n;return ja(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Yt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Qt(e,t,n){var r=$n(),i=-1;t=ut(t,function(e){return r(e)});var o=It(e,function(e){var n=ut(t,function(t){return t(e)});return{criteria:n,index:++i,value:e}});return Yt(o,function(e,t){return p(e,t,n)})}function Jt(e,t){var n=0;return ja(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function Zt(e,t){var n=-1,r=Wn(),i=e.length,o=r==s,a=o&&i>=V,u=a?vn():null,c=[];u?(r=Qe,o=!1):(a=!1,u=t?[]:c);e:for(;++n<i;){var l=e[n],h=t?t(l,n,e):l;if(o&&l===l){for(var f=u.length;f--;)if(u[f]===h)continue e;t&&u.push(h),c.push(l)}else r(u,h,0)<0&&((t||a)&&u.push(h),c.push(l))}return c}function en(e,t){for(var n=-1,r=t.length,i=$o(r);++n<r;)i[n]=e[t[n]];return i}function tn(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Xt(e,r?0:o,r?o+1:i):Xt(e,r?o+1:0,r?i:o)}function nn(e,t){var n=e;n instanceof i&&(n=n.value());for(var r=-1,o=t.length;++r<o;){var a=t[r];n=a.func.apply(a.thisArg,ct([n],a.args))}return n}function rn(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&Oa>=i){for(;i>r;){var o=r+i>>>1,a=e[o];(n?t>=a:t>a)&&null!==a?r=o+1:i=o}return i}return on(e,t,Ao,n)}function on(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,a=t!==t,s=null===t,u=t===C;o>i;){var c=ya((i+o)/2),l=n(e[c]),h=l!==C,f=l===l;if(a)var p=f||r;else p=s?f&&h&&(r||null!=l):u?f&&(r||h):null==l?!1:r?t>=l:t>l;p?i=c+1:o=c}return Ea(o,Pa)}function an(e,t,n){if("function"!=typeof e)return Ao;if(t===C)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}function sn(e){var t=new aa(e.byteLength),n=new da(t);return n.set(new da(e)),t}function un(e,t,n){for(var r=n.length,i=-1,o=_a(e.length-r,0),a=-1,s=t.length,u=$o(s+o);++a<s;)u[a]=t[a];for(;++i<r;)u[n[i]]=e[i];for(;o--;)u[a++]=e[i++];return u}function cn(e,t,n){for(var r=-1,i=n.length,o=-1,a=_a(e.length-i,0),s=-1,u=t.length,c=$o(a+u);++o<a;)c[o]=e[o];for(var l=o;++s<u;)c[l+s]=t[s];for(;++r<i;)c[l+n[r]]=e[o++];return c}function ln(e,t){return function(n,r,i){var o=t?t():{};if(r=$n(r,i,3),ks(n))for(var a=-1,s=n.length;++a<s;){var u=n[a];e(o,u,r(u,a,n),n)}else ja(n,function(t,n,i){e(o,t,r(t,n,i),i)});return o}}function hn(e){return gi(function(t,n){var r=-1,i=null==t?0:n.length,o=i>2?n[i-2]:C,a=i>2?n[2]:C,s=i>1?n[i-1]:C;for("function"==typeof o?(o=an(o,s,5),i-=2):(o="function"==typeof s?s:C,i-=o?1:0),a&&Zn(n[0],n[1],a)&&(o=3>i?C:o,i=1);++r<i;){var u=n[r];u&&e(t,u,o)}return t})}function fn(e,t){return function(n,r){var i=n?Va(n):0;if(!nr(i))return e(n,r);for(var o=t?i:-1,a=hr(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function pn(e){return function(t,n,r){for(var i=hr(t),o=r(t),a=o.length,s=e?a:-1;e?s--:++s<a;){var u=o[s];if(n(i[u],u,i)===!1)break}return t}}function dn(e,t){function n(){var i=this&&this!==rt&&this instanceof n?r:e;return i.apply(t,arguments)}var r=gn(e);return n}function vn(e){return ga&&ha?new Ye(e):null}function mn(e){return function(t){for(var n=-1,r=Mo(lo(t)),i=r.length,o="";++n<i;)o=e(o,r[n],n);return o}}function gn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Fa(e.prototype),r=e.apply(n,t);return Li(r)?r:n}}function yn(e){function t(n,r,i){i&&Zn(n,r,i)&&(r=C);var o=Nn(n,e,C,C,C,C,C,r);return o.placeholder=t.placeholder,o}return t}function bn(e,t){return gi(function(n){var r=n[0];return null==r?r:(n.push(t),e.apply(C,n))})}function wn(e,t){return function(n,r,i){if(i&&Zn(n,r,i)&&(r=C),r=$n(r,i,3),1==r.length){n=ks(n)?n:lr(n);var o=at(n,r,e,t);if(!n.length||o!==t)return o}return Mt(n,r,e,t)}}function xn(e,t){return function(n,r,i){if(r=$n(r,i,3),ks(n)){var o=a(n,r,t);return o>-1?n[o]:C}return At(n,r,e)}}function _n(e){return function(t,n,r){return t&&t.length?(n=$n(n,r,3),a(t,n,e)):-1}}function En(e){return function(t,n,r){return n=$n(n,r,3),At(t,n,e,!0)}}function Sn(e){return function(){for(var t,n=arguments.length,i=e?n:-1,o=0,a=$o(n);e?i--:++i<n;){var s=a[o++]=arguments[i];if("function"!=typeof s)throw new Yo(H);!t&&r.prototype.thru&&"wrapper"==Vn(s)&&(t=new r([],!0))}for(i=t?-1:n;++i<n;){s=a[i];var u=Vn(s),c="wrapper"==u?$a(s):C;t=c&&tr(c[0])&&c[1]==(j|D|L|N)&&!c[4].length&&1==c[9]?t[Vn(c[0])].apply(t,c[3]):1==s.length&&tr(s)?t[u]():t.thru(s)}return function(){var e=arguments,r=e[0];if(t&&1==e.length&&ks(r)&&r.length>=V)return t.plant(r).value();for(var i=0,o=n?a[i].apply(this,e):r;++i<n;)o=a[i].call(this,o);return o}}}function Mn(e,t){return function(n,r,i){return"function"==typeof r&&i===C&&ks(n)?e(n,r):t(n,an(r,i,3))}}function Tn(e){return function(t,n,r){return"function"==typeof n&&r===C||(n=an(n,r,3)),e(t,n,eo)}}function Cn(e){return function(t,n,r){return"function"==typeof n&&r===C||(n=an(n,r,3)),e(t,n)}}function An(e){return function(t,n,r){var i={};return n=$n(n,r,3),Ot(t,function(t,r,o){var a=n(t,r,o);r=e?a:r,t=e?t:a,i[r]=t}),i}}function kn(e){return function(t,n,r){return t=c(t),(e?t:"")+Rn(t,n,r)+(e?"":t)}}function Pn(e){var t=gi(function(n,r){var i=x(r,t.placeholder);return Nn(n,e,C,r,i)});return t}function On(e,t){return function(n,r,i,o){var a=arguments.length<3;return"function"==typeof r&&o===C&&ks(n)?e(n,r,i,a):qt(n,$n(r,o,4),i,a,t)}}function Dn(e,t,n,r,i,o,a,s,u,c){function l(){for(var y=arguments.length,b=y,w=$o(y);b--;)w[b]=arguments[b];if(r&&(w=un(w,r,i)),o&&(w=cn(w,o,a)),d||m){var _=l.placeholder,E=x(w,_);if(y-=E.length,c>y){var S=s?et(s):C,M=_a(c-y,0),T=d?E:C,A=d?C:E,O=d?w:C,D=d?C:w;t|=d?L:F,t&=~(d?F:L),v||(t&=~(k|P));var R=[e,t,n,O,T,D,A,S,u,M],j=Dn.apply(C,R);return tr(e)&&Wa(j,R),j.placeholder=_,j}}var N=f?n:this,I=p?N[e]:e;return s&&(w=ur(w,s)),h&&u<w.length&&(w.length=u),this&&this!==rt&&this instanceof l&&(I=g||gn(e)),I.apply(N,w)}var h=t&j,f=t&k,p=t&P,d=t&D,v=t&O,m=t&R,g=p?C:gn(e);return l}function Rn(e,t,n){var r=e.length;if(t=+t,r>=t||!wa(t))return"";var i=t-r;return n=null==n?" ":n+"",go(n,ma(i/n.length)).slice(0,i)}function Ln(e,t,n,r){function i(){for(var t=-1,s=arguments.length,u=-1,c=r.length,l=$o(c+s);++u<c;)l[u]=r[u];for(;s--;)l[u++]=arguments[++t];var h=this&&this!==rt&&this instanceof i?a:e;return h.apply(o?n:this,l)}var o=t&k,a=gn(e);return i}function Fn(e){var t=Ho[e];return function(e,n){return n=n===C?0:+n||0,n?(n=ca(10,n),t(e*n)/n):t(e)}}function jn(e){return function(t,n,r,i){var o=$n(r);return null==r&&o===wt?rn(t,n,e):on(t,n,o(r,i,1),e)}}function Nn(e,t,n,r,i,o,a,s){var u=t&P;if(!u&&"function"!=typeof e)throw new Yo(H);var c=r?r.length:0;if(c||(t&=~(L|F),r=i=C),c-=i?i.length:0,t&F){var l=r,h=i;r=i=C}var f=u?C:$a(e),p=[e,t,n,r,i,l,h,o,a,s];if(f&&(ir(p,f),t=p[1],s=p[9]),p[9]=null==s?u?0:e.length:_a(s-c,0)||0,t==k)var d=dn(p[0],p[2]);else d=t!=L&&t!=(k|L)||p[4].length?Dn.apply(C,p):Ln.apply(C,p);var v=f?Ba:Wa;return v(d,p)}function In(e,t,n,r,i,o,a){var s=-1,u=e.length,c=t.length;if(u!=c&&!(i&&c>u))return!1;for(;++s<u;){var l=e[s],h=t[s],f=r?r(i?h:l,i?l:h,s):C;if(f!==C){if(f)continue;return!1}if(i){if(!ft(t,function(e){return l===e||n(l,e,r,i,o,a)}))return!1}else if(l!==h&&!n(l,h,r,i,o,a))return!1}return!0}function Un(e,t,n){switch(n){case K:case Y:return+e==+t;case Q:return e.name==t.name&&e.message==t.message;case ee:return e!=+e?t!=+t:e==+t;case ne:case ie:return e==t+""}return!1}function Bn(e,t,n,r,i,o,a){var s=Bs(e),u=s.length,c=Bs(t),l=c.length;if(u!=l&&!i)return!1;for(var h=u;h--;){var f=s[h];if(!(i?f in t:ta.call(t,f)))return!1}for(var p=i;++h<u;){f=s[h];var d=e[f],v=t[f],m=r?r(i?v:d,i?d:v,f):C;if(!(m===C?n(d,v,r,i,o,a):m))return!1;p||(p="constructor"==f)}if(!p){var g=e.constructor,y=t.constructor;if(g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y))return!1}return!0}function $n(e,n,r){var i=t.callback||To;return i=i===To?wt:i,r?i(e,n,r):i}function Vn(e){for(var t=e.name,n=La[t],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Wn(e,n,r){var i=t.indexOf||Sr;return i=i===Sr?s:i,e?i(e,n,r):i}function Gn(e){for(var t=to(e),n=t.length;n--;)t[n][2]=rr(t[n][1]);return t}function Hn(e,t){var n=null==e?C:e[t];return Ni(n)?n:C}function zn(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Ea(t,e+a);break;case"takeRight":e=_a(e,t-a)}}return{start:e,end:t}}function qn(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ta.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Xn(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=qo),new t}function Kn(e,t,n){var r=e.constructor;switch(t){case ae:return sn(e);case K:case Y:return new r(+e);case se:case ue:case ce:case le:case he:case fe:case pe:case de:case ve:var i=e.buffer;return new r(n?sn(i):i,e.byteOffset,e.length);case ee:case ie:return new r(e);case ne:var o=new r(e.source,Le.exec(e));o.lastIndex=e.lastIndex}return o}function Yn(e,t,n){null==e||er(t,e)||(t=fr(t),e=1==t.length?e:Lt(e,Xt(t,0,-1)),t=Tr(t));var r=null==e?e:e[t];return null==r?C:r.apply(e,n)}function Qn(e){return null!=e&&nr(Va(e))}function Jn(e,t){return e="number"==typeof e||Ne.test(e)?+e:-1,t=null==t?Da:t,e>-1&&e%1==0&&t>e}function Zn(e,t,n){if(!Li(n))return!1;var r=typeof t;if("number"==r?Qn(n)&&Jn(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function er(e,t){var n=typeof e;if("string"==n&&Ce.test(e)||"number"==n)return!0;if(ks(e))return!1;var r=!Te.test(e);return r||null!=t&&e in hr(t)}function tr(e){var n=Vn(e);if(!(n in i.prototype))return!1;var r=t[n];if(e===r)return!0;var o=$a(r);return!!o&&e===o[0]}function nr(e){return"number"==typeof e&&e>-1&&e%1==0&&Da>=e}function rr(e){return e===e&&!Li(e)}function ir(e,t){var n=e[1],r=t[1],i=n|r,o=j>i,a=r==j&&n==D||r==j&&n==N&&e[7].length<=t[8]||r==(j|N)&&n==D;if(!o&&!a)return e;r&k&&(e[2]=t[2],i|=n&k?0:O);var s=t[3];if(s){var u=e[3];e[3]=u?un(u,s,t[4]):et(s),e[4]=u?x(e[3],z):et(t[4])}return s=t[5],s&&(u=e[5],e[5]=u?cn(u,s,t[6]):et(s),e[6]=u?x(e[5],z):et(t[6])),s=t[7],s&&(e[7]=et(s)),r&j&&(e[8]=null==e[8]?t[8]:Ea(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function or(e,t){return e===C?t:Ps(e,t,or)}function ar(e,t){e=hr(e);for(var n=-1,r=t.length,i={};++n<r;){var o=t[n];o in e&&(i[o]=e[o])}return i}function sr(e,t){var n={};return Pt(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function ur(e,t){for(var n=e.length,r=Ea(t.length,n),i=et(e);r--;){var o=t[r];e[r]=Jn(o,n)?i[o]:C}return e}function cr(e){for(var t=eo(e),n=t.length,r=n&&e.length,i=!!r&&nr(r)&&(ks(e)||Mi(e)),o=-1,a=[];++o<n;){var s=t[o];(i&&Jn(s,r)||ta.call(e,s))&&a.push(s)}return a}function lr(e){return null==e?[]:Qn(e)?Li(e)?e:qo(e):oo(e)}function hr(e){return Li(e)?e:qo(e)}function fr(e){if(ks(e))return e;var t=[];return c(e).replace(Ae,function(e,n,r,i){t.push(r?i.replace(De,"$1"):n||e)}),t}function pr(e){return e instanceof i?e.clone():new r(e.__wrapped__,e.__chain__,et(e.__actions__))}function dr(e,t,n){t=(n?Zn(e,t,n):null==t)?1:_a(ya(t)||1,1);for(var r=0,i=e?e.length:0,o=-1,a=$o(ma(i/t));i>r;)a[++o]=Xt(e,r,r+=t);return a}function vr(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var o=e[t];o&&(i[++r]=o)}return i}function mr(e,t,n){var r=e?e.length:0;return r?((n?Zn(e,t,n):null==t)&&(t=1),Xt(e,0>t?0:t)):[]}function gr(e,t,n){var r=e?e.length:0;return r?((n?Zn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Xt(e,0,0>t?0:t)):[]}function yr(e,t,n){return e&&e.length?tn(e,$n(t,n,3),!0,!0):[]}function br(e,t,n){return e&&e.length?tn(e,$n(t,n,3),!0):[]}function wr(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Zn(e,t,n)&&(n=0,r=i),Tt(e,t,n,r)):[]}function xr(e){return e?e[0]:C}function _r(e,t,n){var r=e?e.length:0;return n&&Zn(e,t,n)&&(t=!1),r?kt(e,t):[]}function Er(e){var t=e?e.length:0;return t?kt(e,!0):[]}function Sr(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?_a(r+n,0):n;else if(n){var i=rn(e,t);return r>i&&(t===t?t===e[i]:e[i]!==e[i])?i:-1}return s(e,t,n||0)}function Mr(e){return gr(e,1)}function Tr(e){var t=e?e.length:0;return t?e[t-1]:C}function Cr(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?_a(r+n,0):Ea(n||0,r-1))+1;else if(n){i=rn(e,t,!0)-1;var o=e[i];return(t===t?t===o:o!==o)?i:-1}if(t!==t)return y(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function Ar(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=Wn(),i=e.length;++n<i;)for(var o=0,a=e[n];(o=r(t,a,o))>-1;)pa.call(t,o,1);return t}function kr(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,o=[],a=e.length;for(t=$n(t,n,3);++i<a;){var s=e[i];t(s,i,e)&&(r.push(s),o.push(i))}return Ht(e,o),r}function Pr(e){return mr(e,1)}function Or(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Zn(e,t,n)&&(t=0,n=r),Xt(e,t,n)):[]}function Dr(e,t,n){var r=e?e.length:0;return r?((n?Zn(e,t,n):null==t)&&(t=1),Xt(e,0,0>t?0:t)):[]}function Rr(e,t,n){var r=e?e.length:0;return r?((n?Zn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Xt(e,0>t?0:t)):[]}function Lr(e,t,n){return e&&e.length?tn(e,$n(t,n,3),!1,!0):[]}function Fr(e,t,n){return e&&e.length?tn(e,$n(t,n,3)):[]}function jr(e,t,n,r){var i=e?e.length:0;if(!i)return[];null!=t&&"boolean"!=typeof t&&(r=n,n=Zn(e,t,r)?C:t,t=!1);var o=$n();return null==n&&o===wt||(n=o(n,r,3)),t&&Wn()==s?_(e,n):Zt(e,n)}function Nr(e){if(!e||!e.length)return[];var t=-1,n=0;e=st(e,function(e){return Qn(e)?(n=_a(e.length,n),!0):void 0});for(var r=$o(n);++t<n;)r[t]=ut(e,Wt(t));return r}function Ir(e,t,n){var r=e?e.length:0;if(!r)return[];var i=Nr(e);return null==t?i:(t=an(t,n,4),ut(i,function(e){return lt(e,t,C,!0)}))}function Ur(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Qn(n))var r=r?ct(Et(r,n),Et(n,r)):n}return r?Zt(r):[]}function Br(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||ks(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function $r(e){var n=t(e);return n.__chain__=!0,n}function Vr(e,t,n){return t.call(n,e),e}function Wr(e,t,n){return t.call(n,e)}function Gr(){return $r(this)}function Hr(){return new r(this.value(),this.__chain__)}function zr(e){for(var t,r=this;r instanceof n;){var i=pr(r);t?o.__wrapped__=i:t=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,t}function qr(){var e=this.__wrapped__,t=function(e){return n&&n.__dir__<0?e:e.reverse()};if(e instanceof i){var n=e;return this.__actions__.length&&(n=new i(this)),n=n.reverse(),n.__actions__.push({func:Wr,args:[t],thisArg:C}),new r(n,this.__chain__)}return this.thru(t)}function Xr(){return this.value()+""}function Kr(){return nn(this.__wrapped__,this.__actions__)}function Yr(e,t,n){var r=ks(e)?ot:St;return n&&Zn(e,t,n)&&(t=C),"function"==typeof t&&n===C||(t=$n(t,n,3)),r(e,t)}function Qr(e,t,n){var r=ks(e)?st:Ct;return t=$n(t,n,3),r(e,t)}function Jr(e,t){return is(e,Ut(t))}function Zr(e,t,n,r){var i=e?Va(e):0;return nr(i)||(e=oo(e),i=e.length),n="number"!=typeof n||r&&Zn(t,n,r)?0:0>n?_a(i+n,0):n||0,"string"==typeof e||!ks(e)&&Vi(e)?i>=n&&e.indexOf(t,n)>-1:!!i&&Wn(e,t,n)>-1}function ei(e,t,n){var r=ks(e)?ut:It;return t=$n(t,n,3),r(e,t)}function ti(e,t){return ei(e,Lo(t))}function ni(e,t,n){var r=ks(e)?st:Ct;return t=$n(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function ri(e,t,n){if(n?Zn(e,t,n):null==t){e=lr(e);var r=e.length;return r>0?e[zt(0,r-1)]:C}var i=-1,o=qi(e),r=o.length,a=r-1;for(t=Ea(0>t?0:+t||0,r);++i<t;){var s=zt(i,a),u=o[s];o[s]=o[i],o[i]=u}return o.length=t,o}function ii(e){return ri(e,Aa)}function oi(e){var t=e?Va(e):0;return nr(t)?t:Bs(e).length}function ai(e,t,n){var r=ks(e)?ft:Kt;return n&&Zn(e,t,n)&&(t=C),"function"==typeof t&&n===C||(t=$n(t,n,3)),r(e,t)}function si(e,t,n){if(null==e)return[];n&&Zn(e,t,n)&&(t=C);var r=-1;t=$n(t,n,3);var i=It(e,function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}});return Yt(i,f)}function ui(e,t,n,r){return null==e?[]:(r&&Zn(t,n,r)&&(n=C),ks(t)||(t=null==t?[]:[t]),ks(n)||(n=null==n?[]:[n]),Qt(e,t,n))}function ci(e,t){return Qr(e,Ut(t))}function li(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Yo(H);var n=e;e=t,t=n}return e=wa(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function hi(e,t,n){return n&&Zn(e,t,n)&&(t=C),t=e&&null==t?e.length:_a(+t||0,0),Nn(e,j,C,C,C,C,t)}function fi(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Yo(H);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=C),n}}function pi(e,t,n){function r(){p&&sa(p),c&&sa(c),v=0,c=p=d=C}function i(t,n){n&&sa(n),c=p=d=C,t&&(v=vs(),l=e.apply(f,u),p||c||(u=f=C))}function o(){var e=t-(vs()-h);0>=e||e>t?i(d,c):p=fa(o,e)}function a(){i(g,p)}function s(){if(u=arguments,h=vs(),f=this,d=g&&(p||!y),m===!1)var n=y&&!p;else{c||y||(v=h);var r=m-(h-v),i=0>=r||r>m;i?(c&&(c=sa(c)),v=h,l=e.apply(f,u)):c||(c=fa(a,r))}return i&&p?p=sa(p):p||t===m||(p=fa(o,t)),n&&(i=!0,l=e.apply(f,u)),!i||p||c||(u=f=C),l}var u,c,l,h,f,p,d,v=0,m=!1,g=!0;if("function"!=typeof e)throw new Yo(H);if(t=0>t?0:+t||0,n===!0){var y=!0;g=!1}else Li(n)&&(y=!!n.leading,m="maxWait"in n&&_a(+n.maxWait||0,t),g="trailing"in n?!!n.trailing:g);return s.cancel=r,s}function di(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Yo(H);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new di.Cache,n}function vi(e){if("function"!=typeof e)throw new Yo(H);return function(){return!e.apply(this,arguments)}}function mi(e){return fi(2,e)}function gi(e,t){if("function"!=typeof e)throw new Yo(H);return t=_a(t===C?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=_a(n.length-t,0),o=$o(i);++r<i;)o[r]=n[t+r];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var a=$o(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=o,e.apply(this,a)}}function yi(e){if("function"!=typeof e)throw new Yo(H);return function(t){return e.apply(this,t)}}function bi(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Yo(H);return n===!1?r=!1:Li(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),pi(e,t,{leading:r,maxWait:+t,trailing:i})}function wi(e,t){return t=null==t?Ao:t,Nn(t,L,C,[e],[])}function xi(e,t,n,r){return t&&"boolean"!=typeof t&&Zn(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?xt(e,t,an(n,r,1)):xt(e,t)}function _i(e,t,n){return"function"==typeof t?xt(e,!0,an(t,n,1)):xt(e,!0)}function Ei(e,t){return e>t}function Si(e,t){return e>=t}function Mi(e){return b(e)&&Qn(e)&&ta.call(e,"callee")&&!la.call(e,"callee")}function Ti(e){return e===!0||e===!1||b(e)&&ra.call(e)==K}function Ci(e){return b(e)&&ra.call(e)==Y}function Ai(e){return!!e&&1===e.nodeType&&b(e)&&!Bi(e)}function ki(e){return null==e?!0:Qn(e)&&(ks(e)||Vi(e)||Mi(e)||b(e)&&Ri(e.splice))?!e.length:!Bs(e).length}function Pi(e,t,n,r){n="function"==typeof n?an(n,r,3):C;var i=n?n(e,t):C;return i===C?Ft(e,t,n):!!i}function Oi(e){return b(e)&&"string"==typeof e.message&&ra.call(e)==Q}function Di(e){return"number"==typeof e&&wa(e)}function Ri(e){return Li(e)&&ra.call(e)==J}function Li(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Fi(e,t,n,r){return n="function"==typeof n?an(n,r,3):C,Nt(e,Gn(t),n)}function ji(e){return Ui(e)&&e!=+e}function Ni(e){return null==e?!1:Ri(e)?oa.test(ea.call(e)):b(e)&&je.test(e)}function Ii(e){return null===e}function Ui(e){return"number"==typeof e||b(e)&&ra.call(e)==ee}function Bi(e){var t;if(!b(e)||ra.call(e)!=te||Mi(e)||!ta.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return Pt(e,function(e,t){n=t}),n===C||ta.call(e,n)}function $i(e){return Li(e)&&ra.call(e)==ne}function Vi(e){return"string"==typeof e||b(e)&&ra.call(e)==ie}function Wi(e){return b(e)&&nr(e.length)&&!!Ge[ra.call(e)]}function Gi(e){return e===C}function Hi(e,t){return t>e}function zi(e,t){return t>=e}function qi(e){var t=e?Va(e):0;return nr(t)?t?et(e):[]:oo(e)}function Xi(e){return bt(e,eo(e))}function Ki(e,t,n){var r=Fa(e);return n&&Zn(e,t,n)&&(t=C),t?gt(r,t):r}function Yi(e){return Rt(e,eo(e))}function Qi(e,t,n){var r=null==e?C:Lt(e,fr(t),t+"");return r===C?n:r}function Ji(e,t){if(null==e)return!1;var n=ta.call(e,t);if(!n&&!er(t)){if(t=fr(t),e=1==t.length?e:Lt(e,Xt(t,0,-1)),null==e)return!1;t=Tr(t),n=ta.call(e,t)}return n||nr(e.length)&&Jn(t,e.length)&&(ks(e)||Mi(e))}function Zi(e,t,n){n&&Zn(e,t,n)&&(t=C);for(var r=-1,i=Bs(e),o=i.length,a={};++r<o;){var s=i[r],u=e[s];t?ta.call(a,u)?a[u].push(s):a[u]=[s]:a[u]=s}return a}function eo(e){if(null==e)return[];Li(e)||(e=qo(e));var t=e.length;t=t&&nr(t)&&(ks(e)||Mi(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,o=$o(t),a=t>0;++r<t;)o[r]=r+"";for(var s in e)a&&Jn(s,t)||"constructor"==s&&(i||!ta.call(e,s))||o.push(s);return o}function to(e){e=hr(e);for(var t=-1,n=Bs(e),r=n.length,i=$o(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function no(e,t,n){var r=null==e?C:e[t];return r===C&&(null==e||er(t,e)||(t=fr(t),e=1==t.length?e:Lt(e,Xt(t,0,-1)),r=null==e?C:e[Tr(t)]),r=r===C?n:r),Ri(r)?r.call(e):r}function ro(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||er(t,e)?[r]:fr(t);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var u=t[i];Li(s)&&(i==a?s[u]=n:null==s[u]&&(s[u]=Jn(t[i+1])?[]:{})),s=s[u]}return e}function io(e,t,n,r){var i=ks(e)||Wi(e);if(t=$n(t,r,4),null==n)if(i||Li(e)){var o=e.constructor;n=i?ks(e)?new o:[]:Fa(Ri(o)?o.prototype:C)}else n={};return(i?tt:Ot)(e,function(e,r,i){return t(n,e,r,i)}),n}function oo(e){return en(e,Bs(e))}function ao(e){
return en(e,eo(e))}function so(e,t,n){return t=+t||0,n===C?(n=t,t=0):n=+n||0,e>=Ea(t,n)&&e<_a(t,n)}function uo(e,t,n){n&&Zn(e,t,n)&&(t=n=C);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=Ta();return Ea(e+o*(t-e+ua("1e-"+((o+"").length-1))),t)}return zt(e,t)}function co(e){return e=c(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function lo(e){return e=c(e),e&&e.replace(Ie,d).replace(Oe,"")}function ho(e,t,n){e=c(e),t+="";var r=e.length;return n=n===C?r:Ea(0>n?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function fo(e){return e=c(e),e&&_e.test(e)?e.replace(we,v):e}function po(e){return e=c(e),e&&Pe.test(e)?e.replace(ke,m):e||"(?:)"}function vo(e,t,n){e=c(e),t=+t;var r=e.length;if(r>=t||!wa(t))return e;var i=(t-r)/2,o=ya(i),a=ma(i);return n=Rn("",a,n),n.slice(0,o)+e+n}function mo(e,t,n){return(n?Zn(e,t,n):null==t)?t=0:t&&(t=+t),e=wo(e),Ma(e,t||(Fe.test(e)?16:10))}function go(e,t){var n="";if(e=c(e),t=+t,1>t||!e||!wa(t))return n;do t%2&&(n+=e),t=ya(t/2),e+=e;while(t);return n}function yo(e,t,n){return e=c(e),n=null==n?0:Ea(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function bo(e,n,r){var i=t.templateSettings;r&&Zn(e,n,r)&&(n=r=C),e=c(e),n=mt(gt({},r||n),i,vt);var o,a,s=mt(gt({},n.imports),i.imports,vt),u=Bs(s),l=en(s,u),h=0,f=n.interpolate||Ue,p="__p += '",d=Xo((n.escape||Ue).source+"|"+f.source+"|"+(f===Me?Re:Ue).source+"|"+(n.evaluate||Ue).source+"|$","g"),v="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++We+"]")+"\n";e.replace(d,function(t,n,r,i,s,u){return r||(r=i),p+=e.slice(h,u).replace(Be,g),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),h=u+t.length,t}),p+="';\n";var m=n.variable;m||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(me,""):p).replace(ge,"$1").replace(ye,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=Qs(function(){return Go(u,v+"return "+p).apply(C,l)});if(y.source=p,Oi(y))throw y;return y}function wo(e,t,n){var r=e;return(e=c(e))?(n?Zn(r,t,n):null==t)?e.slice(E(e),S(e)+1):(t+="",e.slice(l(e,t),h(e,t)+1)):e}function xo(e,t,n){var r=e;return e=c(e),e?(n?Zn(r,t,n):null==t)?e.slice(E(e)):e.slice(l(e,t+"")):e}function _o(e,t,n){var r=e;return e=c(e),e?(n?Zn(r,t,n):null==t)?e.slice(0,S(e)+1):e.slice(0,h(e,t+"")+1):e}function Eo(e,t,n){n&&Zn(e,t,n)&&(t=C);var r=I,i=U;if(null!=t)if(Li(t)){var o="separator"in t?t.separator:o;r="length"in t?+t.length||0:r,i="omission"in t?c(t.omission):i}else r=+t||0;if(e=c(e),r>=e.length)return e;var a=r-i.length;if(1>a)return i;var s=e.slice(0,a);if(null==o)return s+i;if($i(o)){if(e.slice(a).search(o)){var u,l,h=e.slice(0,a);for(o.global||(o=Xo(o.source,(Le.exec(o)||"")+"g")),o.lastIndex=0;u=o.exec(h);)l=u.index;s=s.slice(0,null==l?a:l)}}else if(e.indexOf(o,a)!=a){var f=s.lastIndexOf(o);f>-1&&(s=s.slice(0,f))}return s+i}function So(e){return e=c(e),e&&xe.test(e)?e.replace(be,M):e}function Mo(e,t,n){return n&&Zn(e,t,n)&&(t=C),e=c(e),e.match(t||$e)||[]}function To(e,t,n){return n&&Zn(e,t,n)&&(t=C),b(e)?ko(e):wt(e,t)}function Co(e){return function(){return e}}function Ao(e){return e}function ko(e){return Ut(xt(e,!0))}function Po(e,t){return Bt(e,xt(t,!0))}function Oo(e,t,n){if(null==n){var r=Li(t),i=r?Bs(t):C,o=i&&i.length?Rt(t,i):C;(o?o.length:r)||(o=!1,n=t,t=e,e=this)}o||(o=Rt(t,Bs(t)));var a=!0,s=-1,u=Ri(e),c=o.length;n===!1?a=!1:Li(n)&&"chain"in n&&(a=n.chain);for(;++s<c;){var l=o[s],h=t[l];e[l]=h,u&&(e.prototype[l]=function(t){return function(){var n=this.__chain__;if(a||n){var r=e(this.__wrapped__),i=r.__actions__=et(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}return t.apply(e,ct([this.value()],arguments))}}(h))}return e}function Do(){return rt._=ia,this}function Ro(){}function Lo(e){return er(e)?Wt(e):Gt(e)}function Fo(e){return function(t){return Lt(e,fr(t),t+"")}}function jo(e,t,n){n&&Zn(e,t,n)&&(t=n=C),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=_a(ma((t-e)/(n||1)),0),o=$o(i);++r<i;)o[r]=e,e+=n;return o}function No(e,t,n){if(e=ya(e),1>e||!wa(e))return[];var r=-1,i=$o(Ea(e,ka));for(t=an(t,n,1);++r<e;)ka>r?i[r]=t(r):t(r);return i}function Io(e){var t=++na;return c(e)+t}function Uo(e,t){return(+e||0)+(+t||0)}function Bo(e,t,n){return n&&Zn(e,t,n)&&(t=C),t=$n(t,n,3),1==t.length?pt(ks(e)?e:lr(e),t):Jt(e,t)}e=e?it.defaults(rt.Object(),e,it.pick(rt,Ve)):rt;var $o=e.Array,Vo=e.Date,Wo=e.Error,Go=e.Function,Ho=e.Math,zo=e.Number,qo=e.Object,Xo=e.RegExp,Ko=e.String,Yo=e.TypeError,Qo=$o.prototype,Jo=qo.prototype,Zo=Ko.prototype,ea=Go.prototype.toString,ta=Jo.hasOwnProperty,na=0,ra=Jo.toString,ia=rt._,oa=Xo("^"+ea.call(ta).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),aa=e.ArrayBuffer,sa=e.clearTimeout,ua=e.parseFloat,ca=Ho.pow,la=Jo.propertyIsEnumerable,ha=Hn(e,"Set"),fa=e.setTimeout,pa=Qo.splice,da=e.Uint8Array,va=Hn(e,"WeakMap"),ma=Ho.ceil,ga=Hn(qo,"create"),ya=Ho.floor,ba=Hn($o,"isArray"),wa=e.isFinite,xa=Hn(qo,"keys"),_a=Ho.max,Ea=Ho.min,Sa=Hn(Vo,"now"),Ma=e.parseInt,Ta=Ho.random,Ca=zo.NEGATIVE_INFINITY,Aa=zo.POSITIVE_INFINITY,ka=4294967295,Pa=ka-1,Oa=ka>>>1,Da=9007199254740991,Ra=va&&new va,La={};t.support={};t.templateSettings={escape:Ee,evaluate:Se,interpolate:Me,variable:"",imports:{_:t}};var Fa=function(){function e(){}return function(t){if(Li(t)){e.prototype=t;var n=new e;e.prototype=C}return n||{}}}(),ja=fn(Ot),Na=fn(Dt,!0),Ia=pn(),Ua=pn(!0),Ba=Ra?function(e,t){return Ra.set(e,t),e}:Ao,$a=Ra?function(e){return Ra.get(e)}:Ro,Va=Wt("length"),Wa=function(){var e=0,t=0;return function(n,r){var i=vs(),o=$-(i-t);if(t=i,o>0){if(++e>=B)return n}else e=0;return Ba(n,r)}}(),Ga=gi(function(e,t){return b(e)&&Qn(e)?Et(e,kt(t,!1,!0)):[]}),Ha=_n(),za=_n(!0),qa=gi(function(e){for(var t=e.length,n=t,r=$o(h),i=Wn(),o=i==s,a=[];n--;){var u=e[n]=Qn(u=e[n])?u:[];r[n]=o&&u.length>=120?vn(n&&u):null}var c=e[0],l=-1,h=c?c.length:0,f=r[0];e:for(;++l<h;)if(u=c[l],(f?Qe(f,u):i(a,u,0))<0){for(var n=t;--n;){var p=r[n];if((p?Qe(p,u):i(e[n],u,0))<0)continue e}f&&f.push(u),a.push(u)}return a}),Xa=gi(function(e,t){t=kt(t);var n=yt(e,t);return Ht(e,t.sort(o)),n}),Ka=jn(),Ya=jn(!0),Qa=gi(function(e){return Zt(kt(e,!1,!0))}),Ja=gi(function(e,t){return Qn(e)?Et(e,t):[]}),Za=gi(Nr),es=gi(function(e){var t=e.length,n=t>2?e[t-2]:C,r=t>1?e[t-1]:C;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):C,r=C),e.length=t,Ir(e,n,r)}),ts=gi(function(e){return e=kt(e),this.thru(function(t){return Ze(ks(t)?t:[hr(t)],e)})}),ns=gi(function(e,t){return yt(e,kt(t))}),rs=ln(function(e,t,n){ta.call(e,n)?++e[n]:e[n]=1}),is=xn(ja),os=xn(Na,!0),as=Mn(tt,ja),ss=Mn(nt,Na),us=ln(function(e,t,n){ta.call(e,n)?e[n].push(t):e[n]=[t]}),cs=ln(function(e,t,n){e[n]=t}),ls=gi(function(e,t,n){var r=-1,i="function"==typeof t,o=er(t),a=Qn(e)?$o(e.length):[];return ja(e,function(e){var s=i?t:o&&null!=e?e[t]:C;a[++r]=s?s.apply(e,n):Yn(e,t,n)}),a}),hs=ln(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),fs=On(lt,ja),ps=On(ht,Na),ds=gi(function(e,t){if(null==e)return[];var n=t[2];return n&&Zn(t[0],t[1],n)&&(t.length=1),Qt(e,kt(t),[])}),vs=Sa||function(){return(new Vo).getTime()},ms=gi(function(e,t,n){var r=k;if(n.length){var i=x(n,ms.placeholder);r|=L}return Nn(e,r,t,n,i)}),gs=gi(function(e,t){t=t.length?kt(t):Yi(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=Nn(e[i],k,e)}return e}),ys=gi(function(e,t,n){var r=k|P;if(n.length){var i=x(n,ys.placeholder);r|=L}return Nn(t,r,e,n,i)}),bs=yn(D),ws=yn(R),xs=gi(function(e,t){return _t(e,1,t)}),_s=gi(function(e,t,n){return _t(e,t,n)}),Es=Sn(),Ss=Sn(!0),Ms=gi(function(e,t){if(t=kt(t),"function"!=typeof e||!ot(t,u))throw new Yo(H);var n=t.length;return gi(function(r){for(var i=Ea(r.length,n);i--;)r[i]=t[i](r[i]);return e.apply(this,r)})}),Ts=Pn(L),Cs=Pn(F),As=gi(function(e,t){return Nn(e,N,C,C,C,kt(t))}),ks=ba||function(e){return b(e)&&nr(e.length)&&ra.call(e)==X},Ps=hn($t),Os=hn(function(e,t,n){return n?mt(e,t,n):gt(e,t)}),Ds=bn(Os,dt),Rs=bn(Ps,or),Ls=En(Ot),Fs=En(Dt),js=Tn(Ia),Ns=Tn(Ua),Is=Cn(Ot),Us=Cn(Dt),Bs=xa?function(e){var t=null==e?C:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Qn(e)?cr(e):Li(e)?xa(e):[]}:cr,$s=An(!0),Vs=An(),Ws=gi(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=ut(kt(t),Ko);return ar(e,Et(eo(e),t))}var n=an(t[0],t[1],3);return sr(e,function(e,t,r){return!n(e,t,r)})}),Gs=gi(function(e,t){return null==e?{}:"function"==typeof t[0]?sr(e,an(t[0],t[1],3)):ar(e,kt(t))}),Hs=mn(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),zs=mn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),qs=kn(),Xs=kn(!0),Ks=mn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Ys=mn(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Qs=gi(function(e,t){try{return e.apply(C,t)}catch(n){return Oi(n)?n:new Wo(n)}}),Js=gi(function(e,t){return function(n){return Yn(n,e,t)}}),Zs=gi(function(e,t){return function(n){return Yn(e,n,t)}}),eu=Fn("ceil"),tu=Fn("floor"),nu=wn(Ei,Ca),ru=wn(Hi,Aa),iu=Fn("round");return t.prototype=n.prototype,r.prototype=Fa(n.prototype),r.prototype.constructor=r,i.prototype=Fa(n.prototype),i.prototype.constructor=i,oe.prototype["delete"]=ze,oe.prototype.get=qe,oe.prototype.has=Xe,oe.prototype.set=Ke,Ye.prototype.push=Je,di.Cache=oe,t.after=li,t.ary=hi,t.assign=Os,t.at=ns,t.before=fi,t.bind=ms,t.bindAll=gs,t.bindKey=ys,t.callback=To,t.chain=$r,t.chunk=dr,t.compact=vr,t.constant=Co,t.countBy=rs,t.create=Ki,t.curry=bs,t.curryRight=ws,t.debounce=pi,t.defaults=Ds,t.defaultsDeep=Rs,t.defer=xs,t.delay=_s,t.difference=Ga,t.drop=mr,t.dropRight=gr,t.dropRightWhile=yr,t.dropWhile=br,t.fill=wr,t.filter=Qr,t.flatten=_r,t.flattenDeep=Er,t.flow=Es,t.flowRight=Ss,t.forEach=as,t.forEachRight=ss,t.forIn=js,t.forInRight=Ns,t.forOwn=Is,t.forOwnRight=Us,t.functions=Yi,t.groupBy=us,t.indexBy=cs,t.initial=Mr,t.intersection=qa,t.invert=Zi,t.invoke=ls,t.keys=Bs,t.keysIn=eo,t.map=ei,t.mapKeys=$s,t.mapValues=Vs,t.matches=ko,t.matchesProperty=Po,t.memoize=di,t.merge=Ps,t.method=Js,t.methodOf=Zs,t.mixin=Oo,t.modArgs=Ms,t.negate=vi,t.omit=Ws,t.once=mi,t.pairs=to,t.partial=Ts,t.partialRight=Cs,t.partition=hs,t.pick=Gs,t.pluck=ti,t.property=Lo,t.propertyOf=Fo,t.pull=Ar,t.pullAt=Xa,t.range=jo,t.rearg=As,t.reject=ni,t.remove=kr,t.rest=Pr,t.restParam=gi,t.set=ro,t.shuffle=ii,t.slice=Or,t.sortBy=si,t.sortByAll=ds,t.sortByOrder=ui,t.spread=yi,t.take=Dr,t.takeRight=Rr,t.takeRightWhile=Lr,t.takeWhile=Fr,t.tap=Vr,t.throttle=bi,t.thru=Wr,t.times=No,t.toArray=qi,t.toPlainObject=Xi,t.transform=io,t.union=Qa,t.uniq=jr,t.unzip=Nr,t.unzipWith=Ir,t.values=oo,t.valuesIn=ao,t.where=ci,t.without=Ja,t.wrap=wi,t.xor=Ur,t.zip=Za,t.zipObject=Br,t.zipWith=es,t.backflow=Ss,t.collect=ei,t.compose=Ss,t.each=as,t.eachRight=ss,t.extend=Os,t.iteratee=To,t.methods=Yi,t.object=Br,t.select=Qr,t.tail=Pr,t.unique=jr,Oo(t,t),t.add=Uo,t.attempt=Qs,t.camelCase=Hs,t.capitalize=co,t.ceil=eu,t.clone=xi,t.cloneDeep=_i,t.deburr=lo,t.endsWith=ho,t.escape=fo,t.escapeRegExp=po,t.every=Yr,t.find=is,t.findIndex=Ha,t.findKey=Ls,t.findLast=os,t.findLastIndex=za,t.findLastKey=Fs,t.findWhere=Jr,t.first=xr,t.floor=tu,t.get=Qi,t.gt=Ei,t.gte=Si,t.has=Ji,t.identity=Ao,t.includes=Zr,t.indexOf=Sr,t.inRange=so,t.isArguments=Mi,t.isArray=ks,t.isBoolean=Ti,t.isDate=Ci,t.isElement=Ai,t.isEmpty=ki,t.isEqual=Pi,t.isError=Oi,t.isFinite=Di,t.isFunction=Ri,t.isMatch=Fi,t.isNaN=ji,t.isNative=Ni,t.isNull=Ii,t.isNumber=Ui,t.isObject=Li,t.isPlainObject=Bi,t.isRegExp=$i,t.isString=Vi,t.isTypedArray=Wi,t.isUndefined=Gi,t.kebabCase=zs,t.last=Tr,t.lastIndexOf=Cr,t.lt=Hi,t.lte=zi,t.max=nu,t.min=ru,t.noConflict=Do,t.noop=Ro,t.now=vs,t.pad=vo,t.padLeft=qs,t.padRight=Xs,t.parseInt=mo,t.random=uo,t.reduce=fs,t.reduceRight=ps,t.repeat=go,t.result=no,t.round=iu,t.runInContext=T,t.size=oi,t.snakeCase=Ks,t.some=ai,t.sortedIndex=Ka,t.sortedLastIndex=Ya,t.startCase=Ys,t.startsWith=yo,t.sum=Bo,t.template=bo,t.trim=wo,t.trimLeft=xo,t.trimRight=_o,t.trunc=Eo,t.unescape=So,t.uniqueId=Io,t.words=Mo,t.all=Yr,t.any=ai,t.contains=Zr,t.eq=Pi,t.detect=is,t.foldl=fs,t.foldr=ps,t.head=xr,t.include=Zr,t.inject=fs,Oo(t,function(){var e={};return Ot(t,function(n,r){t.prototype[r]||(e[r]=n)}),e}(),!1),t.sample=ri,t.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return ri(t,e)}):ri(this.value())},t.VERSION=A,tt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),tt(["drop","take"],function(e,t){i.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new i(this);n=null==n?1:_a(ya(n)||0,0);var o=this.clone();return r?o.__takeCount__=Ea(o.__takeCount__,n):o.__views__.push({size:n,type:e+(o.__dir__<0?"Right":"")}),o},i.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),tt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n!=G;i.prototype[e]=function(e,t){var i=this.clone();return i.__iteratees__.push({iteratee:$n(e,t,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),tt(["first","last"],function(e,t){var n="take"+(t?"Right":"");i.prototype[e]=function(){return this[n](1).value()[0]}}),tt(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");i.prototype[e]=function(){return this.__filtered__?new i(this):this[n](1)}}),tt(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?Ut:Lo;i.prototype[e]=function(e){return this[n](r(e))}}),i.prototype.compact=function(){return this.filter(Ao)},i.prototype.reject=function(e,t){return e=$n(e,t,1),this.filter(function(t){return!e(t)})},i.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||0>t)?new i(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==C&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n)},i.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},i.prototype.toArray=function(){return this.take(Aa)},Ot(i.prototype,function(e,n){var o=/^(?:filter|map|reject)|While$/.test(n),a=/^(?:first|last)$/.test(n),s=t[a?"take"+("last"==n?"Right":""):n];s&&(t.prototype[n]=function(){var t=a?[1]:arguments,n=this.__chain__,u=this.__wrapped__,c=!!this.__actions__.length,l=u instanceof i,h=t[0],f=l||ks(u);f&&o&&"function"==typeof h&&1!=h.length&&(l=f=!1);var p=function(e){return a&&n?s(e,1)[0]:s.apply(C,ct([e],t))},d={func:Wr,args:[p],thisArg:C},v=l&&!c;if(a&&!n)return v?(u=u.clone(),u.__actions__.push(d),e.call(u)):s.call(C,this.value())[0];if(!a&&f){u=v?u:new i(this);var m=e.apply(u,t);return m.__actions__.push(d),new r(m,n)}return this.thru(p)})}),tt(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var n=(/^(?:replace|split)$/.test(e)?Zo:Qo)[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return i&&!this.__chain__?n.apply(this.value(),e):this[r](function(t){return n.apply(t,e)})}}),Ot(i.prototype,function(e,n){var r=t[n];if(r){var i=r.name,o=La[i]||(La[i]=[]);o.push({name:n,func:r})}}),La[Dn(C,P).name]=[{name:"wrapper",func:C}],i.prototype.clone=w,i.prototype.reverse=Z,i.prototype.value=re,t.prototype.chain=Gr,t.prototype.commit=Hr,t.prototype.concat=ts,t.prototype.plant=zr,t.prototype.reverse=qr,t.prototype.toString=Xr,t.prototype.run=t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=Kr,t.prototype.collect=t.prototype.map,t.prototype.head=t.prototype.first,t.prototype.select=t.prototype.filter,t.prototype.tail=t.prototype.rest,t}var C,A="3.10.1",k=1,P=2,O=4,D=8,R=16,L=32,F=64,j=128,N=256,I=30,U="...",B=150,$=16,V=200,W=1,G=2,H="Expected a function",z="__lodash_placeholder__",q="[object Arguments]",X="[object Array]",K="[object Boolean]",Y="[object Date]",Q="[object Error]",J="[object Function]",Z="[object Map]",ee="[object Number]",te="[object Object]",ne="[object RegExp]",re="[object Set]",ie="[object String]",oe="[object WeakMap]",ae="[object ArrayBuffer]",se="[object Float32Array]",ue="[object Float64Array]",ce="[object Int8Array]",le="[object Int16Array]",he="[object Int32Array]",fe="[object Uint8Array]",pe="[object Uint8ClampedArray]",de="[object Uint16Array]",ve="[object Uint32Array]",me=/\b__p \+= '';/g,ge=/\b(__p \+=) '' \+/g,ye=/(__e\(.*?\)|\b__t\)) \+\n'';/g,be=/&(?:amp|lt|gt|quot|#39|#96);/g,we=/[&<>"'`]/g,xe=RegExp(be.source),_e=RegExp(we.source),Ee=/<%-([\s\S]+?)%>/g,Se=/<%([\s\S]+?)%>/g,Me=/<%=([\s\S]+?)%>/g,Te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Ce=/^\w*$/,Ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,ke=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Pe=RegExp(ke.source),Oe=/[\u0300-\u036f\ufe20-\ufe23]/g,De=/\\(\\)?/g,Re=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Le=/\w*$/,Fe=/^0[xX]/,je=/^\[object .+?Constructor\]$/,Ne=/^\d+$/,Ie=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ue=/($^)/,Be=/['\n\r\u2028\u2029\\]/g,$e=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Ve=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],We=-1,Ge={};Ge[se]=Ge[ue]=Ge[ce]=Ge[le]=Ge[he]=Ge[fe]=Ge[pe]=Ge[de]=Ge[ve]=!0,Ge[q]=Ge[X]=Ge[ae]=Ge[K]=Ge[Y]=Ge[Q]=Ge[J]=Ge[Z]=Ge[ee]=Ge[te]=Ge[ne]=Ge[re]=Ge[ie]=Ge[oe]=!1;var He={};He[q]=He[X]=He[ae]=He[K]=He[Y]=He[se]=He[ue]=He[ce]=He[le]=He[he]=He[ee]=He[te]=He[ne]=He[ie]=He[fe]=He[pe]=He[de]=He[ve]=!0,He[Q]=He[J]=He[Z]=He[re]=He[oe]=!1;var ze={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},qe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Xe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ke={"function":!0,object:!0},Ye={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Qe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Je=Ke[typeof t]&&t&&!t.nodeType&&t,Ze=Ke[typeof e]&&e&&!e.nodeType&&e,et=Je&&Ze&&"object"==typeof i&&i&&i.Object&&i,tt=Ke[typeof self]&&self&&self.Object&&self,nt=Ke[typeof window]&&window&&window.Object&&window,rt=(Ze&&Ze.exports===Je&&Je,et||nt!==(this&&this.window)&&nt||tt||this),it=T();rt._=it,r=function(){return it}.call(t,n,t,e),!(r!==C&&(e.exports=r))}).call(this)}).call(t,n(157)(e),function(){return this}())},function(e,t,n){function r(e,t,n){var r=typeof e;return"function"==r?void 0===t?e:a(e,t,n):null==e?s:"object"==r?i(e):void 0===t?u(e):o(e,t)}var i=n(198),o=n(199),a=n(45),s=n(106),u=n(228);e.exports=r},function(e,t,n){"use strict";var r=n(113),i=n(301),o=n(126),a=n(135),s=n(136),u=n(1),c=(n(3),{}),l=null,h=function(e,t){e&&(i.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},f=function(e){return h(e,!0)},p=function(e){return h(e,!1)},d=null,v={injection:{injectMount:i.injection.injectMount,injectInstanceHandle:function(e){d=e},getInstanceHandle:function(){return d},injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:function(e,t,n){"function"!=typeof n?u(!1):void 0;var i=c[t]||(c[t]={});i[e]=n;var o=r.registrationNameModules[t];o&&o.didPutListener&&o.didPutListener(e,t,n)},getListener:function(e,t){var n=c[t];return n&&n[e]},deleteListener:function(e,t){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var i=c[t];i&&delete i[e]},deleteAllListeners:function(e){for(var t in c)if(c[t][e]){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t),delete c[t][e]}},extractEvents:function(e,t,n,i,o){for(var s,u=r.plugins,c=0;c<u.length;c++){var l=u[c];if(l){var h=l.extractEvents(e,t,n,i,o);h&&(s=a(s,h))}}return s},enqueueEvents:function(e){e&&(l=a(l,e))},processEventQueue:function(e){var t=l;l=null,e?s(t,f):s(t,p),l?u(!1):void 0,o.rethrowCaughtError()},__purge:function(){c={}},__getListenerBank:function(){return c}};e.exports=v},function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return y(e,r)}function i(e,t,n){var i=t?g.bubbled:g.captured,o=r(e,n,i);o&&(n._dispatchListeners=v(n._dispatchListeners,o),n._dispatchIDs=v(n._dispatchIDs,e))}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&d.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,i,e)}function a(e){e&&e.dispatchConfig.phasedRegistrationNames&&d.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(e.dispatchMarker,i,e)}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=y(e,r);i&&(n._dispatchListeners=v(n._dispatchListeners,i),n._dispatchIDs=v(n._dispatchIDs,e))}}function u(e){e&&e.dispatchConfig.registrationName&&s(e.dispatchMarker,null,e)}function c(e){m(e,o)}function l(e){m(e,a)}function h(e,t,n,r){d.injection.getInstanceHandle().traverseEnterLeave(n,r,s,e,t)}function f(e){m(e,u)}var p=n(17),d=n(35),v=(n(3),n(135)),m=n(136),g=p.PropagationPhases,y=d.getListener,b={accumulateTwoPhaseDispatches:c,accumulateTwoPhaseDispatchesSkipTarget:l,accumulateDirectDispatches:f,accumulateEnterLeaveDispatches:h};e.exports=b},function(e,t){"use strict";var n={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=n},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(26),o=n(81),a={view:function(e){if(e.view)return e.view;var t=o(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(360),o=r(i),a=n(145),s=r(a),u=n(361),c=r(u);t.createAction=o["default"],t.handleAction=s["default"],t.handleActions=c["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return!Object.keys(e).length}function o(e,t,n){return Object.keys(e).reduce(function(n,r){return t(n,e[r],r)},n)}function a(e,t){return o(e,function(e,n,r){var i=n;return Array.isArray(n)||null===n||"object"!=typeof n?"function"==typeof n&&(i=n(t[r])):i=u(n,t[r]),t[r]!==i&&(e[r]=i),e},{})}function s(e,t){var n=[].concat(t);return Object.keys(e).forEach(function(t){n[t]=e[t]}),n}function u(e,t){if("function"==typeof e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;n>o;o++)r[o-2]=arguments[o];return e.apply(void 0,[t].concat(r))}if(!p["default"](e))return e;var u="undefined"==typeof t||null===t?{}:t,l=a(e,u);return i(l)?u:Array.isArray(u)?s(l,u):c({},u,l)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(42),h=r(l),f=n(223),p=r(f);t["default"]=h["default"](u,2),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=arguments.length<=1||void 0===arguments[1]?e.length:arguments[1];return function(){return a["default"](function(){return u["default"](e.apply(void 0,arguments))},t)}()}t.__esModule=!0,t["default"]=i;var o=n(31),a=r(o),s=n(90),u=r(s);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.logEvent=t.getRequiredVotesToSkip=t.calculateSeekPosition=t.clamp=t.mapAndSortPlaylist=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(33),a=r(o),s=5,u=function(e,t){return e.voteCount===t.voteCount?e.addedAt-t.addedAt:t.voteCount-e.voteCount},c=(t.mapAndSortPlaylist=function(e){var t=e&&e.value.map(function(e){return i({},e.value,{voteCount:a["default"].reduce(e.value.votes,function(e,t){return e+t},0)})})||[];return t.sort(u)},t.clamp=function(e,t,n){return e>n?e:n>t?t:n});t.calculateSeekPosition=function(e,t){var n=(new Date).getTime(),r=(n+t-e.startedAt)/1e3;return c(0,1,r/e.duration)},t.getRequiredVotesToSkip=function(e){var t=e&&e.value&&e.value.length||0,n=c(1,s,Math.ceil(t/2));return n},t.logEvent=function(e){var t=e.category,n=void 0===t?"general":t,r=e.action,i=e.label;window.ga&&window.ga("send",{hitType:"event",eventCategory:n,eventAction:r,eventLabel:i})}},function(e,t){function n(e,t){if("function"!=typeof e)throw new TypeError(r);return t=i(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,o=i(n.length-t,0),a=Array(o);++r<o;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var s=Array(t+1);for(r=-1;++r<t;)s[r]=n[r];return s[t]=a,e.apply(this,s)}}var r="Expected a function",i=Math.max;e.exports=n},function(e,t,n){function r(e,t,n){if("function"!=typeof e)return i;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}var i=n(106);e.exports=r},function(e,t,n){function r(e,t){var n=null==e?void 0:e[t];return i(n)?n:void 0}var i=n(222);e.exports=r},function(e,t,n){function r(e){return o(e)&&i(e)&&s.call(e,"callee")&&!u.call(e,"callee")}var i=n(19),o=n(20),a=Object.prototype,s=a.hasOwnProperty,u=a.propertyIsEnumerable;e.exports=r},function(e,t,n){"use strict";function r(e,t){return t.encode?t.strict?i(e):encodeURIComponent(e):e}var i=n(269),o=n(268);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e){var t=Object.create(null);return"string"!=typeof e?t:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var n=e.replace(/\+/g," ").split("="),r=n.shift(),i=n.length>0?n.join("="):void 0;r=decodeURIComponent(r),i=void 0===i?null:decodeURIComponent(i),void 0===t[r]?t[r]=i:Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]}),t):t},t.stringify=function(e,t){var n={encode:!0,strict:!0};return t=o(n,t),e?Object.keys(e).sort().map(function(n){var i=e[n];if(void 0===i)return"";if(null===i)return r(n,t);if(Array.isArray(i)){var o=[];return i.slice().forEach(function(e){void 0!==e&&(null===e?o.push(r(n,t)):o.push(r(n,t)+"="+r(e,t)))}),o.join("&")}return r(n,t)+"="+r(i,t)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=d++,f[e[m]]={}),f[e[m]]}var i=n(17),o=n(35),a=n(113),s=n(316),u=n(10),c=n(134),l=n(2),h=n(84),f={},p=!1,d=0,v={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),g=l({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,o=r(n),s=a.registrationNameDependencies[e],u=i.topLevelTypes,c=0;c<s.length;c++){var l=s[c];o.hasOwnProperty(l)&&o[l]||(l===u.topWheel?h("wheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"wheel",n):h("mousewheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(u.topWheel,"DOMMouseScroll",n):l===u.topScroll?h("scroll",!0)?g.ReactEventListener.trapCapturedEvent(u.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(u.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):l===u.topFocus||l===u.topBlur?(h("focus",!0)?(g.ReactEventListener.trapCapturedEvent(u.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(u.topBlur,"blur",n)):h("focusin")&&(g.ReactEventListener.trapBubbledEvent(u.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(u.topBlur,"focusout",n)),o[u.topBlur]=!0,o[u.topFocus]=!0):v.hasOwnProperty(l)&&g.ReactEventListener.trapBubbledEvent(l,v[l],n),o[l]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!p){var e=c.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),p=!0}},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:o.putListener,getListener:o.getListener,deleteListener:o.deleteListener,deleteAllListeners:o.deleteAllListeners});u.measureMethods(g,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),e.exports=g},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";var r=n(57),i=r({prop:null,context:null,childContext:null});e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(38),o=n(134),a=n(80),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){
return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};i.augmentClass(r,s),e.exports=r},function(e,t,n){"use strict";var r=n(1),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,i,o,a,s,u){this.isInTransaction()?r(!1):void 0;var c,l;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),l=e.call(t,n,i,o,a,s,u),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(h){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return l},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(i){}}}},closeAll:function(e){this.isInTransaction()?void 0:r(!1);for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i,a=t[n],s=this.wrapperInitData[n];try{i=!0,s!==o.OBSERVED_ERROR&&a.close&&a.close.call(this,s),i=!1}finally{if(i)try{this.closeAll(n+1)}catch(u){}}}this.wrapperInitData.length=0}},o={Mixin:i,OBSERVED_ERROR:{}};e.exports=o},function(e,t,n){"use strict";var r=!1;e.exports=r},function(e,t){"use strict";function n(e){return i[e]}function r(e){return(""+e).replace(o,n)}var i={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g;e.exports=r},function(e,t,n){"use strict";var r=n(5),i=/^[ \r\n\t\f]/,o=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,a=function(e,t){e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(a=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})}),r.canUseDOM){var s=document.createElement("div");s.innerHTML=" ",""===s.innerHTML&&(a=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),i.test(t)||"<"===t[0]&&o.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t})}e.exports=a},function(e,t,n){"use strict";var r=n(1),i=function(e){var t,n={};e instanceof Object&&!Array.isArray(e)?void 0:r(!1);for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};e.exports=i},function(module,exports){/*! @license Firebase v2.4.2
	    License: https://www.firebase.com/terms/terms-of-service.html */
!function(){function p(e){return void 0!==e}function aa(){}function ba(e){e.yb=function(){return e.zf?e.zf:e.zf=new e}}function ca(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function da(e){return"array"==ca(e)}function ea(e){var t=ca(e);return"array"==t||"object"==t&&"number"==typeof e.length}function q(e){return"string"==typeof e}function fa(e){return"number"==typeof e}function r(e){return"function"==ca(e)}function ga(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function ha(e,t,n){return e.call.apply(e.bind,arguments)}function ia(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia,u.apply(null,arguments)}function ka(e,t){function n(){}n.prototype=t.prototype,e.ph=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.lh=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function la(e){if(Error.captureStackTrace)Error.captureStackTrace(this,la);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function v(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ma(e,t){var n,r={};for(n in e)r[n]=t.call(void 0,e[n],n,e);return r}function na(e,t){for(var n in e)if(!t.call(void 0,e[n],n,e))return!1;return!0}function oa(e){var t,n=0;for(t in e)n++;return n}function pa(e){for(var t in e)return t}function qa(e){var t,n=[],r=0;for(t in e)n[r++]=e[t];return n}function ra(e){var t,n=[],r=0;for(t in e)n[r++]=t;return n}function sa(e,t){for(var n in e)if(e[n]==t)return!0;return!1}function ta(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r}function ua(e,t){var n=ta(e,t,void 0);return n&&e[n]}function va(e){for(var t in e)return!1;return!0}function wa(e){var t,n={};for(t in e)n[t]=e[t];return n}function ya(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<xa.length;o++)n=xa[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function za(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)}function Aa(){this.Vd=void 0}function Ba(e,t,n){switch(typeof t){case"string":Ca(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?t:"null");break;case"boolean":n.push(t);break;case"undefined":n.push("null");break;case"object":if(null==t){n.push("null");break}if(da(t)){var r=t.length;n.push("[");for(var i="",o=0;r>o;o++)n.push(i),i=t[o],Ba(e,e.Vd?e.Vd.call(t,String(o),i):i,n),i=",";n.push("]");break}n.push("{"),r="";for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i=t[o],"function"!=typeof i&&(n.push(r),Ca(o,n),n.push(":"),Ba(e,e.Vd?e.Vd.call(t,o,i):i,n),r=","));n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof t)}}function Ca(e,t){t.push('"',e.replace(Ea,function(e){if(e in Da)return Da[e];var t=e.charCodeAt(0),n="\\u";return 16>t?n+="000":256>t?n+="00":4096>t&&(n+="0"),Da[e]=n+t.toString(16)}),'"')}function Fa(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ja()).toString(36)}function Ia(){this.Ya=-1}function Ja(){this.Ya=-1,this.Ya=64,this.P=[],this.pe=[],this.eg=[],this.Od=[],this.Od[0]=128;for(var e=1;e<this.Ya;++e)this.Od[e]=0;this.ge=this.ec=0,this.reset()}function Ka(e,t,n){n||(n=0);var r=e.eg;if(q(t))for(var i=0;16>i;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(i=0;16>i;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(i=16;80>i;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=4294967295&(o<<1|o>>>31)}t=e.P[0],n=e.P[1];for(var a,s=e.P[2],u=e.P[3],c=e.P[4],i=0;80>i;i++)40>i?20>i?(o=u^n&(s^u),a=1518500249):(o=n^s^u,a=1859775393):60>i?(o=n&s|u&(n|s),a=2400959708):(o=n^s^u,a=3395469782),o=(t<<5|t>>>27)+o+c+a+r[i]&4294967295,c=u,u=s,s=4294967295&(n<<30|n>>>2),n=t,t=o;e.P[0]=e.P[0]+t&4294967295,e.P[1]=e.P[1]+n&4294967295,e.P[2]=e.P[2]+s&4294967295,e.P[3]=e.P[3]+u&4294967295,e.P[4]=e.P[4]+c&4294967295}function Ra(e,t){var n=Sa(e,t,void 0);return 0>n?null:q(e)?e.charAt(n):e[n]}function Sa(e,t,n){for(var r=e.length,i=q(e)?e.split(""):e,o=0;r>o;o++)if(o in i&&t.call(n,i[o],o,e))return o;return-1}function Ta(e,t){var n=La(e,t);n>=0&&x.splice.call(e,n,1)}function Ua(e,t,n){return 2>=arguments.length?x.slice.call(e,t):x.slice.call(e,t,n)}function Va(e,t){e.sort(t||Wa)}function Wa(e,t){return e>t?1:t>e?-1:0}function Xa(e){n.setTimeout(function(){throw e},0)}function Za(){var e=n.MessageChannel;if("undefined"==typeof e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&-1==w.indexOf("Presto")&&(e=function(){var e=document.createElement("iframe");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow,e=t.document;e.open(),e.write(""),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host,e=u(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this);t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!=typeof e&&-1==w.indexOf("Trident")&&-1==w.indexOf("MSIE")){var t=new e,r={},i=r;return t.port1.onmessage=function(){if(p(r.next)){r=r.next;var e=r.hb;r.hb=null,e()}},function(e){i.next={hb:e},i=i.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(e){var t=document.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){n.setTimeout(e,0)}}function $a(e,t){ab||bb(),cb||(ab(),cb=!0),db.push(new eb(e,t))}function bb(){if(n.Promise&&n.Promise.resolve){var e=n.Promise.resolve();ab=function(){e.then(fb)}}else ab=function(){var e=fb;!r(n.setImmediate)||n.Window&&n.Window.prototype&&n.Window.prototype.setImmediate==n.setImmediate?(Ya||(Ya=Za()),Ya(e)):n.setImmediate(e)}}function fb(){for(;db.length;){var e=db;db=[];for(var t=0;t<e.length;t++){var n=e[t];try{n.yg.call(n.scope)}catch(r){Xa(r)}}}cb=!1}function eb(e,t){this.yg=e,this.scope=t}function nb(e,t){if(!ea(e))throw Error("encodeByteArray takes an array as a parameter");ob();for(var n=t?lb:kb,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,o=(3&o)<<4|s>>4,s=(15&s)<<2|c>>6,c=63&c;u||(c=64,a||(s=64)),r.push(n[l],n[o],n[s],n[c])}return r.join("")}function ob(){if(!kb){kb={},lb={},mb={};for(var e=0;65>e;e++)kb[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),lb[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e),mb[lb[e]]=e,e>=62&&(mb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)]=e)}}function pb(e,t){if(this.N=qb,this.Rf=void 0,this.Ba=this.Ha=null,this.yd=this.ye=!1,e==rb)sb(this,tb,t);else try{var n=this;e.call(t,function(e){sb(n,tb,e)},function(e){if(!(e instanceof ub))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}sb(n,vb,e)})}catch(r){sb(this,vb,r)}}function rb(){}function xb(e,t){if(e.N==qb)if(e.Ha){var n=e.Ha;if(n.Ba){for(var r,i=0,o=-1,a=0;(r=n.Ba[a])&&!((r=r.o)&&(i++,r==e&&(o=a),o>=0&&i>1));a++);o>=0&&(n.N==qb&&1==i?xb(n,t):(i=n.Ba.splice(o,1)[0],yb(n,i,vb,t)))}e.Ha=null}else sb(e,vb,t)}function zb(e,t){e.Ba&&e.Ba.length||e.N!=tb&&e.N!=vb||Ab(e),e.Ba||(e.Ba=[]),e.Ba.push(t)}function wb(e,t,n,r){var i={o:null,Hf:null,Jf:null};return i.o=new pb(function(e,o){i.Hf=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){o(a)}}:e,i.Jf=n?function(t){try{var i=n.call(r,t);!p(i)&&t instanceof ub?o(t):e(i)}catch(a){o(a)}}:o}),i.o.Ha=e,zb(e,i),i.o}function sb(e,t,n){if(e.N==qb){if(e==n)t=vb,n=new TypeError("Promise cannot resolve to itself");else{var i;if(n)try{i=!!n.$goog_Thenable}catch(o){i=!1}else i=!1;if(i)return e.N=1,void n.then(e.Yf,e.Zf,e);if(ga(n))try{var a=n.then;if(r(a))return void Bb(e,n,a)}catch(s){t=vb,n=s}}e.Rf=n,e.N=t,e.Ha=null,Ab(e),t!=vb||n instanceof ub||Cb(e,n)}}function Bb(e,t,n){function r(t){o||(o=!0,e.Zf(t))}function i(t){o||(o=!0,e.Yf(t))}e.N=1;var o=!1;try{n.call(t,i,r)}catch(a){r(a)}}function Ab(e){e.ye||(e.ye=!0,$a(e.wg,e))}function yb(e,t,n,r){if(n==tb)t.Hf(r);else{if(t.o)for(;e&&e.yd;e=e.Ha)e.yd=!1;t.Jf(r)}}function Cb(e,t){e.yd=!0,$a(function(){e.yd&&Db.call(null,t)})}function ub(e){la.call(this,e)}function y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Fb(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Gb(e){var t={};return Fb(e,function(e,n){t[e]=n}),t}function Hb(e){return"object"==typeof e&&null!==e}function Ib(e){var t=[];return Fb(e,function(e,n){da(n)?Ma(n,function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.length?"&"+t.join("&"):""}function Jb(e){var t={};return e=e.replace(/^\?/,"").split("&"),Ma(e,function(e){e&&(e=e.split("="),t[e[0]]=e[1])}),t}function Kb(e,t){if(!e)throw Lb(t)}function Lb(e){return Error("Firebase ("+Eb+") INTERNAL ASSERT FAILED: "+e)}function B(){var e=this;this.reject=this.resolve=null,this.D=new Mb(function(t,n){e.resolve=t,e.reject=n})}function C(e,t){return function(n,i){n?e.reject(n):e.resolve(i),r(t)&&(Nb(e.D),1===t.length?t(n):t(n,i))}}function Nb(e){e.then(void 0,aa)}function Ob(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i>=55296&&56319>=i&&(i-=55296,r++,Kb(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(i<<10)+(e.charCodeAt(r)-56320)),128>i?t[n++]=i:(2048>i?t[n++]=i>>6|192:(65536>i?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t}function Pb(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t++:2048>r?t+=2:r>=55296&&56319>=r?(t+=4,n++):t+=3}return t}function D(e,t,n,r){var i;if(t>r?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function E(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e=e+" failed: "+(r+" argument ")}function F(e,t,n,i){if((!i||p(n))&&!r(n))throw Error(E(e,t,i)+"must be a valid function.")}function Qb(e,t,n){if(p(n)&&(!ga(n)||null===n))throw Error(E(e,t,!0)+"must be a valid context object.")}function Rb(e){return"undefined"!=typeof JSON&&p(JSON.parse)?JSON.parse(e):za(e)}function G(e){if("undefined"!=typeof JSON&&p(JSON.stringify))e=JSON.stringify(e);else{var t=[];Ba(new Aa,e,t),e=t.join("")}return e}function Sb(){this.Zd=H}function Tb(){}function Vb(e,t,n){this.bg=e,this.Oa=t,this.Nd=n}function Zb(){this.xb=[]}function $b(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.cc();null===n||o.ea(n.cc())||(e.xb.push(n),n=null),null===n&&(n=new ac(o)),n.add(i)}n&&e.xb.push(n)}function bc(e,t,n){$b(e,n),cc(e,function(e){return e.ea(t)})}function dc(e,t,n){$b(e,n),cc(e,function(e){return e.contains(t)||t.contains(e)})}function cc(e,t){for(var n=!0,r=0;r<e.xb.length;r++){var i=e.xb[r];if(i)if(i=i.cc(),t(i)){for(var i=e.xb[r],o=0;o<i.xd.length;o++){var a=i.xd[o];if(null!==a){i.xd[o]=null;var s=a.Zb();ec&&fc("event: "+a.toString()),gc(s)}}e.xb[r]=null}else n=!1}n&&(e.xb=[])}function ac(e){this.ta=e,this.xd=[]}function J(e,t,n,r){this.type=e,this.Na=t,this.Za=n,this.Oe=r,this.Td=void 0}function hc(e){return new J(ic,e)}function jc(e,t,n,r){this.xe=t,this.be=n,this.Td=r,this.wd=e}function kc(e,t,n){this.xe=e,this.error=t,this.path=n}function Xb(e,t,n){this.A=e,this.ga=t,this.Yb=n}function lc(e){return e.ga}function mc(e){return e.Yb}function nc(e,t){return t.e()?e.ga&&!e.Yb:Wb(e,K(t))}function Wb(e,t){return e.ga&&!e.Yb||e.A.Fa(t)}function oc(e){this.pg=e,this.Gd=null}function pc(e,t){this.Vf={},this.hd=new oc(e),this.da=t;var n=1e4+2e4*Math.random();setTimeout(u(this.Of,this),Math.floor(n))}function qc(){this.Hc={}}function rc(e,t,n){p(n)||(n=1),y(e.Hc,t)||(e.Hc[t]=0),e.Hc[t]+=n}function uc(e){return e=e.toString(),sc[e]||(sc[e]=new qc),sc[e]}function vc(e,t){var n=e.toString();return tc[n]||(tc[n]=t()),tc[n]}function L(e,t){this.name=e,this.U=t}function wc(e,t){return new L(e,t)}function xc(e,t){return yc(e.name,t.name)}function zc(e,t){return yc(e,t)}function Ac(e,t,n){this.type=Bc,this.source=e,this.path=t,this.Ja=n}function Cc(e,t){this.type=Dc,this.source=e,this.path=t}function Ec(e,t){this.Pa=e,this.xa=t?t:Fc}function Gc(e,t){for(var n,r=e.xa,i=null;!r.e();){if(n=e.Pa(t,r.key),0===n){if(r.left.e())return i?i.key:null;for(r=r.left;!r.right.e();)r=r.right;return r.key}0>n?r=r.left:n>0&&(i=r,r=r.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function Hc(e,t,n,r,i){for(this.Xd=i||null,this.Je=r,this.Ta=[],i=1;!e.e();)if(i=t?n(e.key,t):1,r&&(i*=-1),0>i)e=this.Je?e.left:e.right;else{if(0===i){this.Ta.push(e);break}this.Ta.push(e),e=this.Je?e.right:e.left}}function Ic(e){if(0===e.Ta.length)return null;var t,n=e.Ta.pop();if(t=e.Xd?e.Xd(n.key,n.value):{key:n.key,value:n.value},e.Je)for(n=n.left;!n.e();)e.Ta.push(n),n=n.right;else for(n=n.right;!n.e();)e.Ta.push(n),n=n.left;return t}function Jc(e){if(0===e.Ta.length)return null;var t;return t=e.Ta,t=t[t.length-1],e.Xd?e.Xd(t.key,t.value):{key:t.key,value:t.value}}function Kc(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:!0,this.left=null!=r?r:Fc,this.right=null!=i?i:Fc}function Lc(e){return e.left.e()?e:Lc(e.left)}function Nc(e){return e.left.e()?Fc:(e.left.ha()||e.left.left.ha()||(e=Oc(e)),e=e.$(null,null,null,Nc(e.left),null),Mc(e))}function Mc(e){return e.right.ha()&&!e.left.ha()&&(e=Rc(e)),e.left.ha()&&e.left.left.ha()&&(e=Pc(e)),e.left.ha()&&e.right.ha()&&(e=Qc(e)),e}function Oc(e){return e=Qc(e),e.right.left.ha()&&(e=e.$(null,null,null,null,Pc(e.right)),e=Rc(e),e=Qc(e)),e}function Rc(e){return e.right.$(null,null,e.color,e.$(null,null,!0,null,e.right.left),null)}function Pc(e){return e.left.$(null,null,e.color,null,e.$(null,null,!0,e.left.right,null))}function Qc(e){return e.$(null,null,!e.color,e.left.$(null,null,!e.left.color,null,null),e.right.$(null,null,!e.right.color,null,null))}function Sc(){}function Tc(e,t){return e&&"object"==typeof e?(O(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e}function Uc(e,t){var n=new Vc;return Wc(e,new P(""),function(e,r){n.rc(e,Xc(r,t))}),n}function Xc(e,t){var n,r=e.C().J(),r=Tc(r,t);if(e.L()){var i=Tc(e.Ea(),t);return i!==e.Ea()||r!==e.C().J()?new Yc(i,Q(r)):e}return n=e,r!==e.C().J()&&(n=n.ia(new Yc(r))),e.R(R,function(e,r){var i=Xc(r,t);i!==r&&(n=n.W(e,i))}),n}function Zc(){this.Ac={}}function $c(e){this.Ic=e,this.Sd="firebase:"}function ad(e){try{if("undefined"!=typeof window&&"undefined"!=typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new $c(t)}}catch(n){}return new Zc}function dd(e,t,n,r,i){this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.ob=t,this.lc=n,this.jh=r,this.Rd=i||"",this.ab=bd.get("host:"+e)||this.host}function ed(e,t){t!==e.ab&&(e.ab=t,"s-"===e.ab.substr(0,2)&&bd.set("host:"+e.host,e.ab))}function fd(e,t,n){if(O("string"==typeof t,"typeof type must == string"),O("object"==typeof n,"typeof params must == object"),t===gd)t=(e.ob?"wss://":"ws://")+e.ab+"/.ws?";else{if(t!==hd)throw Error("Unknown connection type: "+t);t=(e.ob?"https://":"http://")+e.ab+"/.lp?"}e.host!==e.ab&&(n.ns=e.lc);var r=[];return v(n,function(e,t){r.push(t+"="+e)}),t+r.join("&")}function kd(e){try{var t;if("undefined"!=typeof atob)t=atob(e);else{ob();for(var n=mb,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;var s=i<e.length?n[e.charAt(i)]:64;++i;var u=i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!=s&&(r.push(a<<4&240|s>>2),64!=u&&r.push(s<<6&192|u))}if(8192>r.length)t=String.fromCharCode.apply(null,r);else{for(e="",n=0;n<r.length;n+=8192)e+=String.fromCharCode.apply(null,Ua(r,n,n+8192));t=e}}return t}catch(c){fc("base64Decode failed: ",c)}return null}function ld(e){var t=Ob(e);e=new Ja,e.update(t);var t=[],n=8*e.ge;56>e.ec?e.update(e.Od,56-e.ec):e.update(e.Od,e.Ya-(e.ec-56));for(var r=e.Ya-1;r>=56;r--)e.pe[r]=255&n,n/=256;for(Ka(e,e.pe),r=n=0;5>r;r++)for(var i=24;i>=0;i-=8)t[n]=e.P[r]>>i&255,++n;return nb(t)}function md(e){for(var t="",n=0;n<arguments.length;n++)t=ea(arguments[n])?t+md.apply(null,arguments[n]):"object"==typeof arguments[n]?t+G(arguments[n]):t+arguments[n],t+=" ";return t}function od(e,t){Kb(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?("undefined"!=typeof console&&("function"==typeof console.log?ec=u(console.log,console):"object"==typeof console.log&&(ec=function(e){console.log(e)})),t&&cd.set("logging_enabled",!0)):r(e)?ec=e:(ec=null,cd.remove("logging_enabled"))}function fc(e){if(!0===nd&&(nd=!1,null===ec&&!0===cd.get("logging_enabled")&&od(!0)),ec){var t=md.apply(null,arguments);ec(t)}}function pd(e){return function(){fc(e,arguments)}}function qd(e){if("undefined"!=typeof console){var t="FIREBASE INTERNAL ERROR: "+md.apply(null,arguments);"undefined"!=typeof console.error?console.error(t):console.log(t)}}function rd(e){var t=md.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+t)}function S(e){if("undefined"!=typeof console){var t="FIREBASE WARNING: "+md.apply(null,arguments);"undefined"!=typeof console.warn?console.warn(t):console.log(t)}}function sd(e){var t="",n="",r="",i="",o=!0,a="https",s=443;if(q(e)){var u=e.indexOf("//");for(u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2)),u=e.indexOf("/"),-1===u&&(u=e.length),t=e.substring(0,u),i="",e=e.substring(u).split("/"),u=0;u<e.length;u++)if(0<e[u].length){var c=e[u];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch(l){}i+="/"+c}e=t.split("."),3===e.length?(n=e[1],r=e[0].toLowerCase()):2===e.length&&(n=e[0]),u=t.indexOf(":"),u>=0&&(o="https"===a||"wss"===a,s=t.substring(u+1),isFinite(s)&&(s=String(s)),s=q(s)?/^\s*-?0x/i.test(s)?parseInt(s,16):parseInt(s,10):NaN)}return{host:t,port:s,domain:n,fh:r,ob:o,scheme:a,bd:i}}function td(e){return fa(e)&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)}function ud(e){if("complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}function yc(e,t){if(e===t)return 0;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return-1;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return 1;var n=vd(e),r=vd(t);return null!==n?null!==r?0==n-r?e.length-t.length:n-r:-1:null!==r?1:t>e?-1:1}function wd(e,t){if(t&&e in t)return t[e];throw Error("Missing required key ("+e+") in object: "+G(t))}function xd(e){if("object"!=typeof e||null===e)return G(e);var t,n=[];for(t in e)n.push(t);n.sort(),t="{";for(var r=0;r<n.length;r++)0!==r&&(t+=","),t+=G(n[r]),t+=":",t+=xd(e[n[r]]);return t+"}"}function yd(e,t){if(e.length<=t)return[e];for(var n=[],r=0;r<e.length;r+=t)r+t>e?n.push(e.substring(r,e.length)):n.push(e.substring(r,r+t));return n}function zd(e,t){if(da(e))for(var n=0;n<e.length;++n)t(n,e[n]);else v(e,t)}function Ad(e){O(!td(e),"Invalid JSON number");var t,n,r,i;for(0===e?(r=n=0,t=-(1/0)===1/e?1:0):(t=0>e,e=Math.abs(e),e>=Math.pow(2,-1022)?(r=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=r+1023,r=Math.round(e*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074)))),i=[],e=52;e;--e)i.push(r%2?1:0),r=Math.floor(r/2);for(e=11;e;--e)i.push(n%2?1:0),n=Math.floor(n/2);for(i.push(t?1:0),i.reverse(),t=i.join(""),n="",e=0;64>e;e+=8)r=parseInt(t.substr(e,8),2).toString(16),1===r.length&&(r="0"+r),n+=r;return n.toLowerCase()}function vd(e){return Bd.test(e)&&(e=Number(e),e>=-2147483648&&2147483647>=e)?e:null}function gc(e){try{e()}catch(t){setTimeout(function(){throw S("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}}function T(e,t){if(r(e)){var n=Array.prototype.slice.call(arguments,1).slice();gc(function(){e.apply(null,n)})}}function Cd(e){var t={},n={},r={},i="";try{var o=e.split("."),t=Rb(kd(o[0])||""),n=Rb(kd(o[1])||""),i=o[2],r=n.d||{};delete n.d}catch(a){}return{mh:t,Ec:n,data:r,bh:i}}function Dd(e){return e=Cd(e).Ec,"object"==typeof e&&e.hasOwnProperty("iat")?z(e,"iat"):null}function Ed(e){e=Cd(e);var t=e.Ec;return!!e.bh&&!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}function Fd(e){this.Y=e,this.g=e.n.g}function Gd(e,t,n,r){var i=[],o=[];return Ma(t,function(t){"child_changed"===t.type&&e.g.Dd(t.Oe,t.Na)&&o.push(new J("child_moved",t.Na,t.Za))}),Hd(e,i,"child_removed",t,r,n),Hd(e,i,"child_added",t,r,n),Hd(e,i,"child_moved",o,r,n),Hd(e,i,"child_changed",t,r,n),Hd(e,i,ic,t,r,n),i}function Hd(e,t,n,r,i,o){r=Na(r,function(e){return e.type===n}),Va(r,u(e.qg,e)),Ma(r,function(n){var r=Id(e,n,o);Ma(i,function(i){i.Qf(n.type)&&t.push(i.createEvent(r,e.Y))})})}function Id(e,t,n){return"value"!==t.type&&"child_removed"!==t.type&&(t.Td=n.wf(t.Za,t.Na,e.g)),t}function Jd(){this.ib={}}function Kd(e,t){var n=t.type,r=t.Za;O("child_added"==n||"child_changed"==n||"child_removed"==n,"Only child changes supported for tracking"),O(".priority"!==r,"Only non-priority child changes can be tracked.");var i=z(e.ib,r);if(i){var o=i.type;if("child_added"==n&&"child_removed"==o)e.ib[r]=new J("child_changed",t.Na,r,i.Na);else if("child_removed"==n&&"child_added"==o)delete e.ib[r];else if("child_removed"==n&&"child_changed"==o)e.ib[r]=new J("child_removed",i.Oe,r);else if("child_changed"==n&&"child_added"==o)e.ib[r]=new J("child_added",t.Na,r);else{if("child_changed"!=n||"child_changed"!=o)throw jd("Illegal combination of changes: "+t+" occurred after "+i);e.ib[r]=new J("child_changed",t.Na,r,i.Oe)}}else e.ib[r]=t}function Ld(e){this.g=e}function Md(e){this.Fe=new Ld(e.g),this.g=e.g;var t;e.oa?(t=Nd(e),t=e.g.Sc(Od(e),t)):t=e.g.Wc(),this.gd=t,e.ra?(t=Pd(e),e=e.g.Sc(Rd(e),t)):e=e.g.Tc(),this.Jc=e}function Sd(e){this.ua=new Md(e),this.g=e.g,O(e.la,"Only valid if limit has been set"),this.ma=e.ma,this.Nb=!Td(e)}function Ud(e,t,n,r,i,o){var a;if(e.Nb){var s=Vd(e.g);a=function(e,t){return s(t,e)}}else a=Vd(e.g);O(t.Hb()==e.ma,"");var u=new L(n,r),c=e.Nb?Wd(t,e.g):Xd(t,e.g),l=e.ua.matches(u);if(t.Fa(n)){for(var h=t.T(n),c=i.Ce(e.g,c,e.Nb);null!=c&&(c.name==n||t.Fa(c.name));)c=i.Ce(e.g,c,e.Nb);return i=null==c?1:a(c,u),l&&!r.e()&&i>=0?(null!=o&&Kd(o,new J("child_changed",r,n,h)),t.W(n,r)):(null!=o&&Kd(o,new J("child_removed",h,n)),t=t.W(n,H),null!=c&&e.ua.matches(c)?(null!=o&&Kd(o,new J("child_added",c.U,c.name)),t.W(c.name,c.U)):t)}return r.e()?t:l&&0<=a(c,u)?(null!=o&&(Kd(o,new J("child_removed",c.U,c.name)),Kd(o,new J("child_added",r,n))),t.W(n,r).W(c.name,H)):t}function Yd(e,t){this.me=e,this.og=t}function Zd(e){this.X=e}function ie(e,t,n,r,i,o){var a=t.Q;if(null!=r.xc(n))return t;var s;if(n.e())O(lc(t.w()),"If change path is empty, we must have complete server data"),mc(t.w())?(i=Yb(t),r=r.Cc(i instanceof fe?i:H)):r=r.Aa(Yb(t)),o=e.X.ya(t.Q.j(),r,o);else{var u=K(n);if(".priority"==u)O(1==le(n),"Can't have a priority with additional path components"),o=a.j(),s=t.w().j(),r=r.nd(n,o,s),o=null!=r?e.X.ia(o,r):a.j();else{var c=N(n);Wb(a,u)?(s=t.w().j(),r=r.nd(n,a.j(),s),r=null!=r?a.j().T(u).H(c,r):a.j().T(u)):r=r.Bc(u,t.w()),o=null!=r?e.X.H(a.j(),u,r,c,i,o):a.j()}}return ge(t,o,a.ga||n.e(),e.X.Ra())}function ae(e,t,n,r,i,o,a,s){var u=t.w();if(a=a?e.X:e.X.$b(),n.e())r=a.ya(u.j(),r,null);else if(a.Ra()&&!u.Yb)r=u.j().H(n,r),r=a.ya(u.j(),r,null);else{var c=K(n);if(!nc(u,n)&&1<le(n))return t;var l=N(n);r=u.j().T(c).H(l,r),r=".priority"==c?a.ia(u.j(),r):a.H(u.j(),c,r,l,Ub,null)}return u=u.ga||n.e(),t=new je(t.Q,new Xb(r,u,a.Ra())),ie(e,t,n,i,new Vb(i,t,o),s)}function $d(e,t,n,r,i,o,a){var s=t.Q;if(i=new Vb(i,t,o),n.e())a=e.X.ya(t.Q.j(),r,a),e=ge(t,a,!0,e.X.Ra());else if(o=K(n),".priority"===o)a=e.X.ia(t.Q.j(),r),e=ge(t,a,s.ga,s.Yb);else{n=N(n);var u=s.j().T(o);if(!n.e()){var c=i.uf(o);r=null!=c?".priority"===me(n)&&c.S(n.parent()).e()?c:c.H(n,r):H}u.ea(r)?e=t:(a=e.X.H(s.j(),o,r,n,i,a),e=ge(t,a,s.ga,e.X.Ra()))}return e}function ce(e,t,n,r,i,o,a){var s=t;return ne(r,function(r,u){var c=n.o(r);Wb(t.Q,K(c))&&(s=$d(e,s,c,u,i,o,a))}),ne(r,function(r,u){var c=n.o(r);Wb(t.Q,K(c))||(s=$d(e,s,c,u,i,o,a))}),s}function oe(e,t){return ne(t,function(t,n){e=e.H(t,n)}),e}function de(e,t,n,r,i,o,a,s){if(t.w().j().e()&&!lc(t.w()))return t;var u=t;n=n.e()?r:pe(qe,n,r);var c=t.w().j();return n.children.ka(function(n,r){if(c.Fa(n)){var l=t.w().j().T(n),l=oe(l,r);u=ae(e,u,new P(n),l,i,o,a,s)}}),n.children.ka(function(n,r){var l=!Wb(t.w(),n)&&null==r.value;c.Fa(n)||l||(l=t.w().j().T(n),l=oe(l,r),u=ae(e,u,new P(n),l,i,o,a,s))}),u}function he(e,t,n,r,i,o,a){if(null!=i.xc(n))return t;var s=mc(t.w()),u=t.w();if(null!=r.value){if(n.e()&&u.ga||nc(u,n))return ae(e,t,n,u.j().S(n),i,o,s,a);if(n.e()){var c=qe;return u.j().R(re,function(e,t){c=c.set(new P(e),t)}),de(e,t,n,c,i,o,s,a)}return t}return c=qe,ne(r,function(e){var t=n.o(e);nc(u,t)&&(c=c.set(e,u.j().S(t)))}),de(e,t,n,c,i,o,s,a)}function se(){}function Vd(e){return u(e.compare,e)}function ve(e){O(!e.e()&&".priority"!==K(e),"Can't create PathIndex with empty path or .priority key"),this.gc=e}function xe(){}function ye(){}function ze(){}function Ce(){this.Xb=this.ra=this.Pb=this.oa=this.la=!1,this.ma=0,this.Rb="",this.ic=null,this.Bb="",this.fc=null,this.zb="",this.g=R}function Td(e){return""===e.Rb?e.oa:"l"===e.Rb}function Od(e){return O(e.oa,"Only valid if start has been set"),e.ic}function Nd(e){return O(e.oa,"Only valid if start has been set"),e.Pb?e.Bb:"[MIN_NAME]"}function Rd(e){return O(e.ra,"Only valid if end has been set"),e.fc}function Pd(e){return O(e.ra,"Only valid if end has been set"),e.Xb?e.zb:"[MAX_NAME]"}function Ee(e){var t=new Ce;return t.la=e.la,t.ma=e.ma,t.oa=e.oa,t.ic=e.ic,t.Pb=e.Pb,t.Bb=e.Bb,t.ra=e.ra,t.fc=e.fc,t.Xb=e.Xb,t.zb=e.zb,t.g=e.g,t}function Fe(e,t){var n=Ee(e);return n.g=t,n}function Ge(e){var t={};if(e.oa&&(t.sp=e.ic,e.Pb&&(t.sn=e.Bb)),e.ra&&(t.ep=e.fc,e.Xb&&(t.en=e.zb)),e.la){t.l=e.ma;var n=e.Rb;""===n&&(n=Td(e)?"l":"r"),t.vf=n}return e.g!==R&&(t.i=e.g.toString()),t}function He(e){return!(e.oa||e.ra||e.la)}function Ie(e){return He(e)&&e.g==R}function Je(e){var t={};if(Ie(e))return t;var n;return e.g===R?n="$priority":e.g===Be?n="$value":e.g===re?n="$key":(O(e.g instanceof ve,"Unrecognized index type!"),n=e.g.toString()),t.orderBy=G(n),e.oa&&(t.startAt=G(e.ic),e.Pb&&(t.startAt+=","+G(e.Bb))),e.ra&&(t.endAt=G(e.fc),e.Xb&&(t.endAt+=","+G(e.zb))),e.la&&(Td(e)?t.limitToFirst=e.ma:t.limitToLast=e.ma),t}function Ke(e,t){this.Ed=e,this.hc=t}function Le(e,t,n){var r=ma(e.Ed,function(r,i){var o=z(e.hc,i);if(O(o,"Missing index implementation for "+i),r===te){if(o.Lc(t.U)){for(var a=[],s=n.ac(wc),u=Ic(s);u;)u.name!=t.name&&a.push(u),u=Ic(s);return a.push(t),Me(a,Vd(o))}return te}return o=n.get(t.name),a=r,o&&(a=a.remove(new L(t.name,o))),a.Sa(t,t.U)});return new Ke(r,e.hc)}function Ne(e,t,n){var r=ma(e.Ed,function(e){if(e===te)return e;var r=n.get(t.name);return r?e.remove(new L(t.name,r)):e});return new Ke(r,e.hc)}function Yc(e,t){this.B=e,O(p(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value."),this.ca=t||H,Pe(this.ca),this.Gb=null}function fe(e,t,n){this.m=e,(this.ca=t)&&Pe(this.ca),e.e()&&O(!this.ca||this.ca.e(),"An empty node cannot have a priority"),this.Ab=n,this.Gb=null}function Wd(e,t){var n;return n=(n=Te(e,t))?(n=n.Vc())&&n.name:e.m.Vc(),n?new L(n,e.m.get(n)):null}function Xd(e,t){var n;return n=(n=Te(e,t))?(n=n.jc())&&n.name:e.m.jc(),n?new L(n,e.m.get(n)):null}function Te(e,t){return t===re?null:e.Ab.get(t.toString())}function Q(e,t){if(null===e)return H;var n=null;if("object"==typeof e&&".priority"in e?n=e[".priority"]:"undefined"!=typeof t&&(n=t),O(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Yc(e,Q(n));if(e instanceof Array){var r=H,i=e;return v(i,function(e,t){if(y(i,t)&&"."!==t.substring(0,1)){var n=Q(e);!n.L()&&n.e()||(r=r.W(t,n))}}),r.ia(Q(n))}var o=[],a=!1,s=e;if(Fb(s,function(e){if("string"!=typeof e||"."!==e.substring(0,1)){var t=Q(s[e]);t.e()||(a=a||!t.C().e(),o.push(new L(e,t)))}}),0==o.length)return H;var u=Me(o,xc,function(e){return e.name},zc);if(a){var c=Me(o,Vd(R));return new fe(u,Q(n),new Ke({".priority":c},{".priority":R}))}return new fe(u,Q(n),Oe)}function Ve(e){this.count=parseInt(Math.log(e+1)/Ue,10),this.nf=this.count-1,this.ng=e+1&parseInt(Array(this.count+1).join("1"),2)}function We(e){var t=!(e.ng&1<<e.nf);return e.nf--,t}function Me(e,t,n,r){function i(t,r){var o=r-t;if(0==o)return null;if(1==o){var a=e[t],s=n?n(a):a;return new Kc(s,a.U,!1,null,null)}var a=parseInt(o/2,10)+t,o=i(t,a),u=i(a+1,r),a=e[a],s=n?n(a):a;return new Kc(s,a.U,!1,o,u)}e.sort(t);var o=function(t){function r(t,r){var u=s-t,c=s;s-=t;var c=i(u+1,c),u=e[u],l=n?n(u):u,c=new Kc(l,u.U,r,null,c);o?o.left=c:a=c,o=c}for(var o=null,a=null,s=e.length,u=0;u<t.count;++u){var c=We(t),l=Math.pow(2,t.count-(u+1));c?r(l,!1):(r(l,!1),r(l,!0))}return a}(new Ve(e.length));return null!==o?new Ec(r||t,o):new Ec(r||t)}function Re(e){return"number"==typeof e?"number:"+Ad(e):"string:"+e}function Pe(e){if(e.L()){var t=e.J();O("string"==typeof t||"number"==typeof t||"object"==typeof t&&y(t,".sv"),"Priority must be a string or number.")}else O(e===we||e.e(),"priority of unexpected type.");O(e===we||e.C().e(),"Priority nodes can't have a priority of their own.")}function Xe(){fe.call(this,new Ec(zc),H,Oe)}function je(e,t){this.Q=e,this.ae=t}function ge(e,t,n,r){return new je(new Xb(t,n,r),e.ae)}function ke(e){return e.Q.ga?e.Q.j():null}function Yb(e){return e.ae.ga?e.ae.j():null}function Ye(e,t){this.Y=e;var n=e.n,r=new Ld(n.g),n=He(n)?new Ld(n.g):n.la?new Sd(n):new Md(n);this.Nf=new Zd(n);var i=t.w(),o=t.Q,a=r.ya(H,i.j(),null),s=n.ya(H,o.j(),null);this.Oa=new je(new Xb(s,o.ga,n.Ra()),new Xb(a,i.ga,r.Ra())),this.$a=[],this.ug=new Fd(e)}function Ze(e){return e.Y}function af(e,t){var n=e.Oa.Q,r=[];return n.j().L()||n.j().R(R,function(e,t){r.push(new J("child_added",t,e))}),n.ga&&r.push(hc(n.j())),$e(e,r,n.j(),t)}function $e(e,t,n,r){return Gd(e.ug,t,n,r?[r]:e.$a)}function bf(e,t,n){this.type=be,this.source=e,this.path=t,this.children=n}function cf(e,t){this.f=pd("p:rest:"),this.G=e,this.Kb=t,this.Ca=null,this.ba={}}function df(e,t){return p(t)?"tag$"+t:(O(Ie(e.n),"should have a tag if it's not a default query."),
e.path.toString())}function ef(e,t,n,r){n=n||{},n.format="export",e.Ca&&(n.auth=e.Ca);var i=(e.G.ob?"https://":"http://")+e.G.host+t+"?"+Ib(n);e.f("Sending REST request for "+i);var o=new XMLHttpRequest;o.onreadystatechange=function(){if(r&&4===o.readyState){e.f("REST Response for "+i+" received. status:",o.status,"response:",o.responseText);var t=null;if(200<=o.status&&300>o.status){try{t=Rb(o.responseText)}catch(n){S("Failed to parse JSON response for "+i+": "+o.responseText)}r(null,t)}else 401!==o.status&&404!==o.status&&S("Got unsuccessful REST response for "+i+" Status: "+o.status),r(o.status);r=null}},o.open("GET",i,!0),o.send()}function ff(e){O(da(e)&&0<e.length,"Requires a non-empty array"),this.fg=e,this.Rc={}}function gf(e,t){O(Ra(e.fg,function(e){return e===t}),"Unknown event: "+t)}function jf(){if(ff.call(this,["online"]),this.oc=!0,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var e=this;window.addEventListener("online",function(){e.oc||(e.oc=!0,e.ie("online",!0))},!1),window.addEventListener("offline",function(){e.oc&&(e.oc=!1,e.ie("online",!1))},!1)}}function kf(){ff.call(this,["visible"]);var e,t;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!=typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!=typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!=typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.Sb=!0,t){var n=this;document.addEventListener(t,function(){var t=!document[e];t!==n.Sb&&(n.Sb=t,n.ie("visible",t))},!1)}}function P(e,t){if(1==arguments.length){this.u=e.split("/");for(var n=0,r=0;r<this.u.length;r++)0<this.u[r].length&&(this.u[n]=this.u[r],n++);this.u.length=n,this.aa=0}else this.u=e,this.aa=t}function lf(e,t){var n=K(e);if(null===n)return t;if(n===K(t))return lf(N(e),N(t));throw Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function mf(e,t){for(var n=e.slice(),r=t.slice(),i=0;i<n.length&&i<r.length;i++){var o=yc(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function K(e){return e.aa>=e.u.length?null:e.u[e.aa]}function le(e){return e.u.length-e.aa}function N(e){var t=e.aa;return t<e.u.length&&t++,new P(e.u,t)}function me(e){return e.aa<e.u.length?e.u[e.u.length-1]:null}function nf(e,t){this.Ua=e.slice(),this.Ka=Math.max(1,this.Ua.length),this.pf=t;for(var n=0;n<this.Ua.length;n++)this.Ka+=Pb(this.Ua[n]);of(this)}function of(e){if(768<e.Ka)throw Error(e.pf+"has a key path longer than 768 bytes ("+e.Ka+").");if(32<e.Ua.length)throw Error(e.pf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+pf(e))}function pf(e){return 0==e.Ua.length?"":"in property '"+e.Ua.join(".")+"'"}function qf(e,t){this.value=e,this.children=t||rf}function sf(e){var t=qe;return v(e,function(e,n){t=t.set(new P(n),e)}),t}function tf(e,t,n){if(null!=e.value&&n(e.value))return{path:M,value:e.value};if(t.e())return null;var r=K(t);return e=e.children.get(r),null!==e?(t=tf(e,N(t),n),null!=t?{path:new P(r).o(t.path),value:t.value}:null):null}function uf(e,t){return tf(e,t,function(){return!0})}function pe(e,t,n){if(t.e())return n;var r=K(t);return t=pe(e.children.get(r)||qe,N(t),n),r=t.e()?e.children.remove(r):e.children.Sa(r,t),new qf(e.value,r)}function vf(e,t){return wf(e,M,t)}function wf(e,t,n){var r={};return e.children.ka(function(e,i){r[e]=wf(i,t.o(e),n)}),n(t,e.value,r)}function xf(e,t,n){return yf(e,t,M,n)}function yf(e,t,n,r){var i=e.value?r(n,e.value):!1;return i?i:t.e()?null:(i=K(t),(e=e.children.get(i))?yf(e,N(t),n.o(i),r):null)}function zf(e,t,n){Af(e,t,M,n)}function Af(e,t,n,r){if(t.e())return e;e.value&&r(n,e.value);var i=K(t);return(e=e.children.get(i))?Af(e,N(t),n.o(i),r):qe}function ne(e,t){Bf(e,M,t)}function Bf(e,t,n){e.children.ka(function(e,r){Bf(r,t.o(e),n)}),e.value&&n(t,e.value)}function Cf(e,t){e.children.ka(function(e,n){n.value&&t(e,n.value)})}function Df(e,t,n){this.type=ee,this.source=Ef,this.path=e,this.Ub=t,this.Yd=n}function Ff(e,t,n,r){this.Ae=e,this.tf=t,this.Lb=n,this.ef=r,O(!r||t,"Tagged queries must be from server.")}function Hf(e){this.Z=e}function Jf(e,t,n){if(t.e())return new Hf(new qf(n));var r=uf(e.Z,t);if(null!=r){var i=r.path,r=r.value;return t=lf(i,t),r=r.H(t,n),new Hf(e.Z.set(i,r))}return e=pe(e.Z,t,new qf(n)),new Hf(e)}function Kf(e,t,n){var r=e;return Fb(n,function(e,n){r=Jf(r,t.o(e),n)}),r}function Lf(e,t){var n=uf(e.Z,t);return null!=n?e.Z.get(n.path).S(lf(n.path,t)):null}function Mf(e){var t=[],n=e.Z.value;return null!=n?n.L()||n.R(R,function(e,n){t.push(new L(e,n))}):e.Z.children.ka(function(e,n){null!=n.value&&t.push(new L(e,n.value))}),t}function Nf(e,t){if(t.e())return e;var n=Lf(e,t);return new Hf(null!=n?new qf(n):e.Z.subtree(t))}function Of(e,t,n){if(null!=t.value)return n.H(e,t.value);var r=null;return t.children.ka(function(t,i){".priority"===t?(O(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Of(e.o(t),i,n)}),n.S(e).e()||null===r||(n=n.H(e.o(".priority"),r)),n}function Pf(){this.V=If,this.pa=[],this.Pc=-1}function Qf(e,t){for(var n=0;n<e.pa.length;n++){var r=e.pa[n];if(r.md===t)return r}return null}function Rf(e,t){return e.Ja?e.path.contains(t):!!ta(e.children,function(n,r){return e.path.o(r).contains(t)})}function Tf(e){return e.visible}function Sf(e,t,n){for(var r=If,i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path;if(o.Ja)n.contains(a)?(a=lf(n,a),r=Jf(r,a,o.Ja)):a.contains(n)&&(a=lf(a,n),r=Jf(r,M,o.Ja.S(a)));else{if(!o.children)throw jd("WriteRecord should have .snap or .children");n.contains(a)?(a=lf(n,a),r=Kf(r,a,o.children)):a.contains(n)&&(a=lf(a,n),a.e()?r=Kf(r,M,o.children):(o=z(o.children,K(a)))&&(o=o.S(N(a)),r=Jf(r,M,o)))}}}return r}function Uf(e,t){this.Qb=e,this.Z=t}function Vf(){this.children={},this.pd=0,this.value=null}function Wf(e,t,n){this.Jd=e?e:"",this.Ha=t?t:null,this.A=n?n:new Vf}function Xf(e,t){for(var n,r=t instanceof P?t:new P(t),i=e;null!==(n=K(r));)i=new Wf(n,i,z(i.A.children,n)||new Vf),r=N(r);return i}function Yf(e,t){O("undefined"!=typeof t,"Cannot set value to undefined"),e.A.value=t,Zf(e)}function $f(e,t,n,r){n&&!r&&t(e),e.R(function(e){$f(e,t,!0,r)}),n&&r&&t(e)}function ag(e,t){for(var n=e.parent();null!==n&&!t(n);)n=n.parent()}function Zf(e){if(null!==e.Ha){var t=e.Ha,n=e.Jd,r=e.e(),i=y(t.A.children,n);r&&i?(delete t.A.children[n],t.A.pd--,Zf(t)):r||i||(t.A.children[n]=e.A,t.A.pd++,Zf(t))}}function eg(e){return q(e)&&0!==e.length&&!bg.test(e)}function fg(e){return null===e||q(e)||fa(e)&&!td(e)||ga(e)&&y(e,".sv")}function gg(e,t,n,r){r&&!p(t)||hg(E(e,1,r),t,n)}function hg(e,t,n){if(n instanceof P&&(n=new nf(n,e)),!p(t))throw Error(e+"contains undefined "+pf(n));if(r(t))throw Error(e+"contains a function "+pf(n)+" with contents: "+t.toString());if(td(t))throw Error(e+"contains "+t.toString()+" "+pf(n));if(q(t)&&t.length>10485760/3&&10485760<Pb(t))throw Error(e+"contains a string greater than 10485760 utf8 bytes "+pf(n)+" ('"+t.substring(0,50)+"...')");if(ga(t)){var i=!1,o=!1;if(Fb(t,function(t,r){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!eg(t)))throw Error(e+" contains an invalid key ("+t+") "+pf(n)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');n.push(t),hg(e,r,n),n.pop()}),i&&o)throw Error(e+' contains ".value" child '+pf(n)+" in addition to actual children.")}}function ig(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=r.slice(),o=0;o<i.length;o++)if((".priority"!==i[o]||o!==i.length-1)&&!eg(i[o]))throw Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}for(t.sort(mf),i=null,n=0;n<t.length;n++){if(r=t[n],null!==i&&i.contains(r))throw Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}function jg(e,t,n){var r=E(e,1,!1);if(!ga(t)||da(t))throw Error(r+" must be an object containing the children to replace.");var i=[];Fb(t,function(e,t){var o=new P(e);if(hg(r,t,n.o(o)),".priority"===me(o)&&!fg(t))throw Error(r+"contains an invalid value for '"+o.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(o)}),ig(r,i)}function kg(e,t,n){if(td(n))throw Error(E(e,t,!1)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fg(n))throw Error(E(e,t,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function lg(e,t,n){if(!n||p(t))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(E(e,1,n)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function mg(e,t){if(p(t)&&!eg(t))throw Error(E(e,2,!0)+'was an invalid key: "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function ng(e,t){if(!q(t)||0===t.length||cg.test(t))throw Error(E(e,1,!1)+'was an invalid path: "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function og(e,t){if(".info"===K(t))throw Error(e+" failed: Can't modify data under /.info/")}function pg(e,t){if(!q(t))throw Error(E(e,1,!1)+"must be a valid credential (a string).")}function qg(e,t,n){if(!q(n))throw Error(E(e,t,!1)+"must be a valid string.")}function rg(e,t){if(qg(e,1,t),!dg.test(t))throw Error(E(e,1,!1)+"'"+t+"' is not a valid authentication provider.")}function sg(e,t,n,r){if((!r||p(n))&&(!ga(n)||null===n))throw Error(E(e,t,r)+"must be a valid object.")}function tg(e,t,n){if(!ga(t)||!y(t,n))throw Error(E(e,1,!1)+'must contain the key "'+n+'"');if(!q(z(t,n)))throw Error(E(e,1,!1)+'must contain the key "'+n+'" with type "string"')}function ug(){this.set={}}function vg(e,t){v(e.set,function(e,n){t(n,e)})}function Vc(){this.m=this.B=null}function wg(e,t){if(t.e())return e.B=null,e.m=null,!0;if(null!==e.B){if(e.B.L())return!1;var n=e.B;return e.B=null,n.R(R,function(t,n){e.rc(new P(t),n)}),wg(e,t)}return null!==e.m?(n=K(t),t=N(t),e.m.contains(n)&&wg(e.m.get(n),t)&&e.m.remove(n),e.m.e()?(e.m=null,!0):!1):!0}function Wc(e,t,n){null!==e.B?n(t,e.B):e.R(function(e,r){var i=new P(t.toString()+"/"+e);Wc(r,i,n)})}function yg(e,t,n){this.qd=e||{},this.he=t||{},this.fb=n||{},this.qd.remember||(this.qd.remember="default")}function Ag(e){var t={},n={};return Fb(e||{},function(e,r){0<=La(zg,e)?t[e]=r:n[e]=r}),new yg(t,{},n)}function Bg(e,t){this.Ue=["session",e.Rd,e.lc].join(":"),this.ee=t}function Cg(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Dg(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cg())}function Eg(){return"undefined"!=typeof location&&/^file:\//.test(location.href)}function Fg(e){var t=Cg();if(""===t)return!1;if("Microsoft Internet Explorer"===navigator.appName){if((t=t.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<t.length)return parseFloat(t[1])>=e}else if(-1<t.indexOf("Trident")&&(t=t.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<t.length)return parseFloat(t[1])>=e;return!1}function Gg(){var e,t=window.opener.frames;for(e=t.length-1;e>=0;e--)try{if(t[e].location.protocol===window.location.protocol&&t[e].location.host===window.location.host&&"__winchan_relay_frame"===t[e].name)return t[e]}catch(n){}return null}function Hg(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,!1)}function Ig(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener&&e.removeEventListener(t,n,!1)}function Jg(e){/^https?:\/\//.test(e)||(e=window.location.href);var t=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(e);return t?t[1]:e}function Kg(e){var t="";try{e=e.replace(/.*\?/,"");var n=Jb(e);n&&y(n,"__firebase_request_key")&&(t=z(n,"__firebase_request_key"))}catch(r){}return t}function Lg(){try{var e=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,""),e=e.replace(/\?$/,""),e=e.replace(/^#+$/,"");document.location.hash=e}catch(t){}}function Mg(){var e=sd(xg);return e.scheme+"://"+e.host+"/v2"}function Ng(e){return Mg()+"/"+e+"/auth/channel"}function Og(e){var t=this;if(this.hb=e,this.fe="*",Fg(8)?this.Uc=this.Cd=Gg():(this.Uc=window.opener,this.Cd=window),!t.Uc)throw"Unable to find relay frame";Hg(this.Cd,"message",u(this.nc,this)),Hg(this.Cd,"message",u(this.Ff,this));try{Pg(this,{a:"ready"})}catch(n){Hg(this.Uc,"load",function(){Pg(t,{a:"ready"})})}Hg(window,"unload",u(this.Ng,this))}function Pg(e,t){t=G(t),Fg(8)?e.Uc.doPost(t,e.fe):e.Uc.postMessage(t,e.fe)}function Qg(e){this.tc=Fa()+Fa()+Fa(),this.Kf=e}function Sg(e){var t=Error(z(Rg,e),e);return t.code=e,t}function Tg(e){var t;(t=!e.window_features)||(t=Cg(),t=-1!==t.indexOf("Fennec/")||-1!==t.indexOf("Firefox/")&&-1!==t.indexOf("Android")),t&&(e.window_features=void 0),e.window_name||(e.window_name="_blank"),this.options=e}function Ug(e){e.method||(e.method="GET"),e.headers||(e.headers={}),e.headers.content_type||(e.headers.content_type="application/json"),e.headers.content_type=e.headers.content_type.toLowerCase(),this.options=e}function Vg(e){this.tc=Fa()+Fa()+Fa(),this.Kf=e}function Wg(e){e.callback_parameter||(e.callback_parameter="callback"),this.options=e,window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}function Xg(e,t,n){setTimeout(function(){try{var r=document.createElement("script");r.type="text/javascript",r.id=e,r.async=!0,r.src=t,r.onerror=function(){var t=document.getElementById(e);null!==t&&t.parentNode.removeChild(t),n&&n(Sg("NETWORK_ERROR"))};var i=document.getElementsByTagName("head");(i&&0!=i.length?i[0]:document.documentElement).appendChild(r)}catch(o){n&&n(Sg("NETWORK_ERROR"))}},0)}function Yg(e,t,n,r){ff.call(this,["auth_status"]),this.G=e,this.hf=t,this.ih=n,this.Pe=r,this.wc=new Bg(e,[bd,cd]),this.qb=null,this.We=!1,Zg(this)}function Zg(e){cd.get("redirect_request_id")&&$g(e);var t=e.wc.get();t&&t.token?(ah(e,t),e.hf(t.token,function(n,r){bh(e,n,r,!1,t.token,t)},function(t,n){ch(e,"resumeSession()",t,n)})):ah(e,null)}function dh(e,t,n,r,i,o){"firebaseio-demo.com"===e.G.domain&&S("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com."),e.hf(t,function(o,a){bh(e,o,a,!0,t,n,r||{},i)},function(t,n){ch(e,"auth()",t,n,o)})}function eh(e,t){e.wc.clear(),ah(e,null),e.ih(function(e,n){if("ok"===e)T(t,null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n),i=Error(i),i.code=r,T(t,i)}})}function bh(e,t,n,r,i,o,a,s){"ok"===t?(r&&(t=n.auth,o.auth=t,o.expires=n.expires,o.token=Ed(i)?i:"",n=null,t&&y(t,"uid")?n=z(t,"uid"):y(o,"uid")&&(n=z(o,"uid")),o.uid=n,n="custom",t&&y(t,"provider")?n=z(t,"provider"):y(o,"provider")&&(n=z(o,"provider")),o.provider=n,e.wc.clear(),Ed(i)&&(a=a||{},n=bd,"sessionOnly"===a.remember&&(n=cd),"none"!==a.remember&&e.wc.set(o,n)),ah(e,o)),T(s,null,o)):(e.wc.clear(),ah(e,null),o=e=(t||"error").toUpperCase(),n&&(o+=": "+n),o=Error(o),o.code=e,T(s,o))}function ch(e,t,n,r,i){S(t+" was canceled: "+r),e.wc.clear(),ah(e,null),e=Error(r),e.code=n.toUpperCase(),T(i,e)}function fh(e,t,n,r,i){gh(e),n=new yg(r||{},{},n||{}),hh(e,[Ug,Wg],"/auth/"+t,n,i)}function ih(e,t,n,r){gh(e);var i=[Tg,Vg];n=Ag(n);var o=625;"anonymous"===t||"password"===t?setTimeout(function(){T(r,Sg("TRANSPORT_UNAVAILABLE"))},0):("github"===t&&(o=1025),n.he.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width="+o+",top="+("object"==typeof screen?.5*(screen.height-625):0)+",left="+("object"==typeof screen?.5*(screen.width-o):0),n.he.relay_url=Ng(e.G.lc),n.he.requestWithCredential=u(e.uc,e),hh(e,i,"/auth/"+t,n,r))}function $g(e){var t=cd.get("redirect_request_id");if(t){var n=cd.get("redirect_client_options");cd.remove("redirect_request_id"),cd.remove("redirect_client_options");var r=[Ug,Wg],t={requestId:t,requestKey:Kg(document.location.hash)},n=new yg(n,{},t);e.We=!0,Lg(),hh(e,r,"/auth/session",n,function(){this.We=!1}.bind(e))}}function hh(e,t,n,r,i){jh(e,t,n,r,function(t,n){!t&&n&&n.token&&n.uid?dh(e,n.token,n,r.qd,function(e,t){e?T(i,e):T(i,null,t)}):T(i,t||Sg("UNKNOWN_ERROR"))})}function jh(e,t,n,r,i){t=Na(t,function(e){return"function"==typeof e.isAvailable&&e.isAvailable()}),0===t.length?setTimeout(function(){T(i,Sg("TRANSPORT_UNAVAILABLE"))},0):(t=new(t.shift())(r.he),r=Gb(r.fb),r.v="js-"+Eb,r.transport=t.Fc(),r.suppress_status_codes=!0,e=Mg()+"/"+e.G.lc+n,t.open(e,r,function(e,t){if(e)T(i,e);else if(t&&t.error){var n=Error(t.error.message);n.code=t.error.code,n.details=t.error.details,T(i,n)}else T(i,null,t)}))}function ah(e,t){var n=null!==e.qb||null!==t;e.qb=t,n&&e.ie("auth_status",t),e.Pe(null!==t)}function gh(e){var t=e.G;if("firebaseio.com"!==t.domain&&"firebaseio-demo.com"!==t.domain&&"auth.firebase.com"===xg)throw Error("This custom Firebase server ('"+e.G.domain+"') does not support delegated login.")}function kh(e){this.nc=e,this.Qd=[],this.Wb=0,this.te=-1,this.Jb=null}function lh(e,t,n){e.te=t,e.Jb=n,e.te<e.Wb&&(e.Jb(),e.Jb=null)}function mh(e,t,n){for(e.Qd[t]=n;e.Qd[e.Wb];){var r=e.Qd[e.Wb];delete e.Qd[e.Wb];for(var i=0;i<r.length;++i)if(r[i]){var o=e;gc(function(){o.nc(r[i])})}if(e.Wb===e.te){e.Jb&&(clearTimeout(e.Jb),e.Jb(),e.Jb=null);break}e.Wb++}}function nh(e,t,n,r){this.ue=e,this.f=pd(e),this.rb=this.sb=0,this.Xa=uc(t),this.Xf=n,this.Kc=!1,this.Fb=r,this.ld=function(e){return fd(t,hd,e)}}function rh(e,t){var n=G(t).length;e.rb+=n,rc(e.Xa,"bytes_received",n)}function qh(e,t,n,r){if(this.ld=r,this.lb=n,this.Te=new ug,this.cd=[],this.we=Math.floor(1e8*Math.random()),this.$d=!0,this.ke=id(),window["pLPCommand"+this.ke]=e,window["pRTLPCB"+this.ke]=t,e=document.createElement("iframe"),e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||fc("No IE domain setting required")}catch(i){e.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}e.contentDocument?e.jb=e.contentDocument:e.contentWindow?e.jb=e.contentWindow.document:e.document&&(e.jb=e.document),this.Ga=e,e="",this.Ga.src&&"javascript:"===this.Ga.src.substr(0,11)&&(e='<script>document.domain="'+document.domain+'";</script>'),e="<html><body>"+e+"</body></html>";try{this.Ga.jb.open(),this.Ga.jb.write(e),this.Ga.jb.close()}catch(o){fc("frame writing exception"),o.stack&&fc(o.stack),fc(o)}}function th(e){if(e.oe&&e.$d&&e.Te.count()<(0<e.cd.length?2:1)){e.we++;var t={};t.id=e.Gg,t.pw=e.Hg,t.ser=e.we;for(var t=e.ld(t),n="",r=0;0<e.cd.length&&1870>=e.cd[0].of.length+30+n.length;){var i=e.cd.shift(),n=n+"&seg"+r+"="+i.Yg+"&ts"+r+"="+i.hh+"&d"+r+"="+i.of;r++}return uh(e,t+n,e.we),!0}return!1}function uh(e,t,n){function r(){e.Te.remove(n),th(e)}e.Te.add(n,1);var i=setTimeout(r,Math.floor(25e3));sh(e,t,function(){clearTimeout(i),r()})}function sh(e,t,n){setTimeout(function(){try{if(e.$d){var r=e.Ga.jb.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=function(){fc("Long-poll script failed to load: "+t),e.$d=!1,e.close()},e.Ga.jb.body.appendChild(r)}}catch(i){}},Math.floor(1))}function wh(e,t,n,r){this.ue=e,this.f=pd(this.ue),this.frames=this.Nc=null,this.rb=this.sb=this.ff=0,this.Xa=uc(t),e={v:"5"},"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f"),n&&(e.s=n),r&&(e.ls=r),this.jf=fd(t,gd,e)}function zh(e,t){if(e.frames.push(t),e.frames.length==e.ff){var n=e.frames.join("");e.frames=null,n=Rb(n),e.Lg(n)}}function yh(e){clearInterval(e.Nc),e.Nc=setInterval(function(){e.La&&Ah(e,"0"),yh(e)},Math.floor(45e3))}function Ah(e,t){try{e.La.send(t)}catch(n){e.f("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(u(e.bb,e),0)}}function Bh(e){Ch(this,e)}function Ch(e,t){var n=wh&&wh.isAvailable(),r=n&&!(bd.Af||!0===bd.get("previous_websocket_failure"));if(t.jh&&(n||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)e.jd=[wh];else{var i=e.jd=[];zd(Dh,function(e,t){t&&t.isAvailable()&&i.push(t)})}}function Eh(e){if(0<e.jd.length)return e.jd[0];throw Error("No transports available")}function Fh(e,t,n,r,i,o,a){this.id=e,this.f=pd("c:"+this.id+":"),this.nc=n,this.Zc=r,this.na=i,this.Re=o,this.G=t,this.Pd=[],this.kf=0,this.Wf=new Bh(t),this.N=0,this.Fb=a,this.f("Connection created"),Gh(this)}function Gh(e){var t=Eh(e.Wf);e.K=new t("c:"+e.id+":"+e.kf++,e.G,void 0,e.Fb),e.Ve=t.responsesRequiredToBeHealthy||0;var n=Hh(e,e.K),r=Ih(e,e.K);e.kd=e.K,e.ed=e.K,e.F=null,e.Eb=!1,setTimeout(function(){e.K&&e.K.open(n,r)},Math.floor(0)),t=t.healthyTimeout||0,t>0&&(e.Bd=setTimeout(function(){e.Bd=null,e.Eb||(e.K&&102400<e.K.rb?(e.f("Connection exceeded healthy timeout but has received "+e.K.rb+" bytes.  Marking connection healthy."),e.Eb=!0,e.K.Hd()):e.K&&10240<e.K.sb?e.f("Connection exceeded healthy timeout but has sent "+e.K.sb+" bytes.  Leaving connection alive."):(e.f("Closing unhealthy connection after timeout."),e.close()))},Math.floor(t)))}function Ih(e,t){return function(n){t===e.K?(e.K=null,n||0!==e.N?1===e.N&&e.f("Realtime connection lost."):(e.f("Realtime connection failed."),"s-"===e.G.ab.substr(0,2)&&(bd.remove("host:"+e.G.host),e.G.ab=e.G.host)),e.close()):t===e.F?(e.f("Secondary connection lost."),n=e.F,e.F=null,e.kd!==n&&e.ed!==n||e.close()):e.f("closing an old connection")}}function Hh(e,t){return function(n){if(2!=e.N)if(t===e.ed){var r=wd("t",n);if(n=wd("d",n),"c"==r){if(r=wd("t",n),"d"in n)if(n=n.d,"h"===r){var r=n.ts,i=n.v,o=n.h;e.Uf=n.s,ed(e.G,o),0==e.N&&(e.K.start(),Jh(e,e.K,r),"5"!==i&&S("Protocol version mismatch detected"),n=e.Wf,(n=1<n.jd.length?n.jd[1]:null)&&Kh(e,n))}else if("n"===r){for(e.f("recvd end transmission on primary"),e.ed=e.F,n=0;n<e.Pd.length;++n)e.Ld(e.Pd[n]);e.Pd=[],Lh(e)}else"s"===r?(e.f("Connection shutdown command received. Shutting down..."),e.Re&&(e.Re(n),e.Re=null),e.na=null,e.close()):"r"===r?(e.f("Reset packet received.  New host: "+n),ed(e.G,n),1===e.N?e.close():(Mh(e),Gh(e))):"e"===r?qd("Server Error: "+n):"o"===r?(e.f("got pong on primary."),Nh(e),Oh(e)):qd("Unknown control packet command: "+r)}else"d"==r&&e.Ld(n)}else if(t===e.F)if(r=wd("t",n),n=wd("d",n),"c"==r)"t"in n&&(n=n.t,"a"===n?Ph(e):"r"===n?(e.f("Got a reset on secondary, closing it"),e.F.close(),e.kd!==e.F&&e.ed!==e.F||e.close()):"o"===n&&(e.f("got pong on secondary."),e.Tf--,Ph(e)));else{if("d"!=r)throw Error("Unknown protocol layer: "+r);e.Pd.push(n)}else e.f("message on old connection")}}function Lh(e){e.kd===e.F&&e.ed===e.F&&(e.f("cleaning up and promoting a connection: "+e.F.ue),e.K=e.F,e.F=null)}function Ph(e){0>=e.Tf?(e.f("Secondary connection is healthy."),e.Eb=!0,e.F.Hd(),e.F.start(),e.f("sending client ack on secondary"),e.F.send({t:"c",d:{t:"a",d:{}}}),e.f("Ending transmission on primary"),e.K.send({t:"c",d:{t:"n",d:{}}}),e.kd=e.F,Lh(e)):(e.f("sending ping on secondary."),e.F.send({t:"c",d:{t:"p",d:{}}}))}function Nh(e){e.Eb||(e.Ve--,0>=e.Ve&&(e.f("Primary connection is healthy."),e.Eb=!0,e.K.Hd()))}function Kh(e,t){e.F=new t("c:"+e.id+":"+e.kf++,e.G,e.Uf),e.Tf=t.responsesRequiredToBeHealthy||0,e.F.open(Hh(e,e.F),Ih(e,e.F)),setTimeout(function(){e.F&&(e.f("Timed out trying to upgrade."),e.F.close())},Math.floor(6e4))}function Jh(e,t,n){e.f("Realtime connection established."),e.K=t,e.N=1,e.Zc&&(e.Zc(n,e.Uf),e.Zc=null),0===e.Ve?(e.f("Primary connection is healthy."),e.Eb=!0):setTimeout(function(){Oh(e)},Math.floor(5e3))}function Oh(e){e.Eb||1!==e.N||(e.f("sending ping on primary."),Qh(e,{t:"c",d:{t:"p",d:{}}}))}function Qh(e,t){if(1!==e.N)throw"Connection is not connected";e.kd.send(t)}function Mh(e){e.f("Shutting down all connections"),e.K&&(e.K.close(),e.K=null),e.F&&(e.F.close(),e.F=null),e.Bd&&(clearTimeout(e.Bd),e.Bd=null)}function Rh(e,t,n,r){this.id=Sh++,this.f=pd("p:"+this.id+":"),this.Bf=this.Ie=!1,this.ba={},this.sa=[],this.ad=0,this.Yc=[],this.qa=!1,this.eb=1e3,this.Id=3e5,this.Kb=t,this.Xc=n,this.Se=r,this.G=e,this.wb=this.Ca=this.Ma=this.Fb=this.$e=null,this.Sb=!1,this.Wd={},this.Xg=0,this.rf=!0,this.Oc=this.Ke=null,Th(this,0),kf.yb().Ib("visible",this.Og,this),-1===e.host.indexOf("fblocal")&&jf.yb().Ib("online",this.Mg,this)}function Vh(e,t){var n=t.Ug,r=n.path.toString(),i=n.wa();e.f("Listen on "+r+" for "+i);var o={p:r};t.tag&&(o.q=Ge(n.n),o.t=t.tag),o.h=t.Ad(),e.Ia("q",o,function(o){var a=o.d,s=o.s;if(a&&"object"==typeof a&&y(a,"w")){var u=z(a,"w");da(u)&&0<=La(u,"no_index")&&S("Using an unspecified index. Consider adding "+('".indexOn": "'+n.n.g.toString()+'"')+" at "+n.path.toString()+" to your security rules for better performance")}(e.ba[r]&&e.ba[r][i])===t&&(e.f("listen response",o),"ok"!==s&&Wh(e,r,i),t.I&&t.I(s,a))})}function Xh(e){var t=e.Ca;e.qa&&t&&e.Ia("auth",{cred:t.rg},function(n){var r=n.s;n=n.d||"error","ok"!==r&&e.Ca===t&&(e.Ca=null),t.sf?"ok"!==r&&t.od&&t.od(r,n):(t.sf=!0,t.Dc&&t.Dc(r,n))})}function Yh(e,t,n,r,i){n={p:n,d:r},e.f("onDisconnect "+t,n),e.Ia(t,n,function(e){i&&setTimeout(function(){i(e.s,e.d)},Math.floor(0))})}function Zh(e,t,n,r,i,o){r={p:n,d:r},p(o)&&(r.h=o),e.sa.push({action:t,Pf:r,I:i}),e.ad++,t=e.sa.length-1,e.qa?$h(e,t):e.f("Buffering put: "+n)}function $h(e,t){var n=e.sa[t].action,r=e.sa[t].Pf,i=e.sa[t].I;e.sa[t].Vg=e.qa,e.Ia(n,r,function(r){e.f(n+" response",r),delete e.sa[t],e.ad--,0===e.ad&&(e.sa=[]),i&&i(r.s,r.d)})}function Th(e,t){O(!e.Ma,"Scheduling a connect when we're already connected/ing?"),e.wb&&clearTimeout(e.wb),e.wb=setTimeout(function(){e.wb=null,ci(e)},Math.floor(t))}function ci(e){if(di(e)){e.f("Making a connection attempt"),e.Ke=(new Date).getTime(),e.Oc=null;var t=u(e.Ld,e),n=u(e.Zc,e),r=u(e.If,e),i=e.id+":"+Uh++;e.Ma=new Fh(i,e.G,t,n,r,function(t){S(t+" ("+e.G.toString()+")"),e.Bf=!0},e.Fb)}}function ai(e,t,n){n=n?Oa(n,function(e){return xd(e)}).join("$"):"default",(e=Wh(e,t,n))&&e.I&&e.I("permission_denied")}function Wh(e,t,n){t=new P(t).toString();var r;return p(e.ba[t])?(r=e.ba[t][n],delete e.ba[t][n],0===oa(e.ba[t])&&delete e.ba[t]):r=void 0,r}function bi(e){Xh(e),v(e.ba,function(t){v(t,function(t){Vh(e,t)})});for(var t=0;t<e.sa.length;t++)e.sa[t]&&$h(e,t);for(;e.Yc.length;)t=e.Yc.shift(),Yh(e,t.action,t.bd,t.data,t.I)}function di(e){var t;return t=jf.yb().oc,!e.Bf&&!e.Ie&&t}function ei(e,t){this.committed=e,this.snapshot=t}function V(e,t){this.dd=e,this.ta=t}function W(e,t,n){this.A=e,this.Y=t,this.g=n}function ii(e,t,n){this.Vb=e,this.tb=t,this.vb=n||null}function ji(e,t,n){this.ja=e,this.tb=t,this.vb=n}function ki(){this.za={}}function mi(e){return Na(qa(e.za),function(e){return!He(e.Y.n)})}function ni(e,t){if(He(t.n))return li(e);var n=t.wa();return z(e.za,n)}function li(e){return ua(e.za,function(e){return He(e.Y.n)})||null}function oi(e){this.va=qe,this.mb=new Pf,this.df={},this.qc={},this.Qc=e}function pi(e,t,n,r,i){var o=e.mb,a=i;return O(r>o.Pc,"Stacking an older write on top of newer ones"),p(a)||(a=!0),o.pa.push({path:t,Ja:n,md:r,visible:a}),a&&(o.V=Jf(o.V,t,n)),o.Pc=r,i?qi(e,new Ac(Ef,t,n)):[]}function ri(e,t,n,r){var i=e.mb;return O(r>i.Pc,"Stacking an older merge on top of newer ones"),i.pa.push({path:t,children:n,md:r,visible:!0}),i.V=Kf(i.V,t,n),i.Pc=r,n=sf(n),qi(e,new bf(Ef,t,n))}function si(e,t,n){n=n||!1;var r=Qf(e.mb,t);if(e.mb.Ud(t)){var i=qe;return null!=r.Ja?i=i.set(M,!0):Fb(r.children,function(e,t){i=i.set(new P(e),t)}),qi(e,new Df(r.path,i,n))}return[]}function ti(e,t,n){return n=sf(n),qi(e,new bf(Gf,t,n))}function ui(e,t,n,r){if(r=vi(e,r),null!=r){var i=wi(r);return r=i.path,i=i.Lb,t=lf(r,t),n=new Ac(new Ff(!1,!0,i,!0),t,n),xi(e,r,n)}return[]}function yi(e,t,n,r){if(r=vi(e,r)){var i=wi(r);return r=i.path,i=i.Lb,t=lf(r,t),n=sf(n),n=new bf(new Ff(!1,!0,i,!0),t,n),xi(e,r,n)}return[]}function Ci(e){return vf(e,function(e,t,n){if(t&&null!=li(t))return[li(t)];var r=[];return t&&(r=mi(t)),v(n,function(e){r=r.concat(e)}),r})}function Gi(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!He(r.n)){var r=zi(r),i=e.qc[r];delete e.qc[r],delete e.df["_"+i]}}}function Ei(e){return He(e.n)&&!Ie(e.n)?e.Mb():e}function Bi(e,t,n){var r=t.path,i=Fi(e,t);if(n=Di(e,n),t=e.Qc.af(Ei(t),i,n.Ad,n.I),r=e.va.subtree(r),i)O(null==li(r.value),"If we're adding a query, it shouldn't be shadowed");else for(i=vf(r,function(e,t,n){if(!e.e()&&t&&null!=li(t))return[Ze(li(t))];var r=[];return t&&(r=r.concat(Oa(mi(t),function(e){return e.Y}))),v(n,function(e){r=r.concat(e)}),r}),r=0;r<i.length;++r)n=i[r],e.Qc.de(Ei(n),Fi(e,n));return t}function Di(e,t){var n=t.Y,r=Fi(e,n);return{Ad:function(){return(t.w()||H).hash()},I:function(t){if("ok"===t){if(r){var i=n.path;if(t=vi(e,r)){var o=wi(t);t=o.path,o=o.Lb,i=lf(t,i),i=new Cc(new Ff(!1,!0,o,!0),i),t=xi(e,t,i)}else t=[]}else t=qi(e,new Cc(Gf,n.path));return t}return i="Unknown Error","too_big"===t?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?i="Client doesn't have permission to access the desired data.":"unavailable"==t&&(i="The service is unavailable"),i=Error(t+" at "+n.path.toString()+": "+i),i.code=t.toUpperCase(),e.nb(n,null,i)}}}function zi(e){return e.path.toString()+"$"+e.wa()}function wi(e){var t=e.indexOf("$");return O(-1!==t&&t<e.length-1,"Bad queryKey."),{Lb:e.substr(t+1),path:new P(e.substr(0,t))}}function vi(e,t){var n=e.df,r="_"+t;return r in n?n[r]:void 0}function Fi(e,t){var n=zi(t);return z(e.qc,n)}function xi(e,t,n){var r=e.va.get(t);return O(r,"Missing sync point for query tag that we're tracking"),r.gb(n,new Uf(t,e.mb),null)}function qi(e,t){return Hi(e,t,e.va,null,new Uf(M,e.mb))}function Hi(e,t,n,r,i){if(t.path.e())return Ii(e,t,n,r,i);var o=n.get(M);null==r&&null!=o&&(r=o.kb(M));var a=[],s=K(t.path),u=t.$c(s);if((n=n.children.get(s))&&u)var c=r?r.T(s):null,s=i.o(s),a=a.concat(Hi(e,u,n,c,s));return o&&(a=a.concat(o.gb(t,i,r))),a}function Ii(e,t,n,r,i){var o=n.get(M);null==r&&null!=o&&(r=o.kb(M));var a=[];return n.children.ka(function(n,o){var s=r?r.T(n):null,u=i.o(n),c=t.$c(n);c&&(a=a.concat(Ii(e,c,o,s,u)))}),o&&(a=a.concat(o.gb(t,i,r))),a}function Ji(e,t){this.G=e,this.Xa=uc(e),this.hd=null,this.fa=new Zb,this.Kd=1,this.Va=null,t||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.da=new cf(this.G,u(this.Kb,this)),setTimeout(u(this.Xc,this,!0),0)):this.da=this.Va=new Rh(this.G,u(this.Kb,this),u(this.Xc,this),u(this.Se,this)),this.eh=vc(e,u(function(){return new pc(this.Xa,this.da)},this)),this.yc=new Wf,this.Ge=new Sb;var n=this;this.Fd=new oi({af:function(e,t,r,i){return t=[],r=n.Ge.j(e.path),r.e()||(t=qi(n.Fd,new Ac(Gf,e.path,r)),setTimeout(function(){i("ok")},0)),t},de:aa}),Ki(this,"connected",!1),this.na=new Vc,this.O=new Yg(e,u(this.da.O,this.da),u(this.da.je,this.da),u(this.Pe,this)),this.ud=0,this.He=null,this.M=new oi({af:function(e,t,r,i){return n.da.Cf(e,r,t,function(t,r){var o=i(t,r);dc(n.fa,e.path,o)}),[]},de:function(e,t){n.da.$f(e,t)}})}function Li(e){return e=e.Ge.j(new P(".info/serverTimeOffset")).J()||0,(new Date).getTime()+e}function Mi(e){return e=e={timestamp:Li(e)},e.timestamp=e.timestamp||(new Date).getTime(),e}function Ki(e,t,n){t=new P("/.info/"+t),n=Q(n);var r=e.Ge;r.Zd=r.Zd.H(t,n),n=qi(e.Fd,new Ac(Gf,t,n)),dc(e.fa,t,n)}function Oi(e){e.f("onDisconnectEvents");var t=Mi(e),n=[];Wc(Uc(e.na,t),M,function(t,r){n=n.concat(qi(e.M,new Ac(Gf,t,r)));var i=Qi(e,t);Ni(e,i);
}),e.na=new Vc,dc(e.fa,M,n)}function fi(e,t,n,r){var i=Q(n);e.da.Qe(t.toString(),i.J(!0),function(n,o){"ok"===n&&e.na.rc(t,i),Pi(r,n,o)})}function gi(e,t,n,r,i){var o=Q(n,r);e.da.Qe(t.toString(),o.J(!0),function(n,r){"ok"===n&&e.na.rc(t,o),Pi(i,n,r)})}function hi(e,t,n,r){var i,o=!0;for(i in n)o=!1;o?(fc("onDisconnect().update() called with empty data.  Don't do anything."),Pi(r,"ok")):e.da.Gf(t.toString(),n,function(i,o){if("ok"===i)for(var a in n){var s=Q(n[a]);e.na.rc(t.o(a),s)}Pi(r,i,o)})}function Ri(e,t,n){n=".info"===K(t.path)?e.Fd.Tb(t,n):e.M.Tb(t,n),bc(e.fa,t.path,n)}function Pi(e,t,n){e&&gc(function(){if("ok"==t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n),i=Error(i),i.code=r,e(i)}})}function Si(e,t,n,r,i){function o(){}e.f("transaction on "+t);var a=new X(e,t);if(a.Ib("value",o),n={path:t,update:n,I:r,status:null,Lf:id(),gf:i,Sf:0,le:function(){a.mc("value",o)},ne:null,Da:null,rd:null,sd:null,td:null},r=e.M.Aa(t,void 0)||H,n.rd=r,r=n.update(r.J()),p(r)){hg("transaction failed: Data returned ",r,n.path),n.status=1,i=Xf(e.yc,t);var s=i.Ea()||[];s.push(n),Yf(i,s),"object"==typeof r&&null!==r&&y(r,".priority")?(s=z(r,".priority"),O(fg(s),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):s=(e.M.Aa(t)||H).C().J(),i=Mi(e),r=Q(r,s),i=Xc(r,i),n.sd=r,n.td=i,n.Da=e.Kd++,n=pi(e.M,t,i,n.Da,n.gf),dc(e.fa,t,n),Ti(e)}else n.le(),n.sd=null,n.td=null,n.I&&(e=new W(n.rd,new X(e,n.path),R),n.I(null,!1,e))}function Ti(e,t){var n=t||e.yc;if(t||Ui(e,n),null!==n.Ea()){var r=Vi(e,n);O(0<r.length,"Sending zero length transaction queue"),Qa(r,function(e){return 1===e.status})&&Wi(e,n.path(),r)}else n.zd()&&n.R(function(t){Ti(e,t)})}function Wi(e,t,n){for(var r=Oa(n,function(e){return e.Da}),i=e.M.Aa(t,r)||H,r=i,i=i.hash(),o=0;o<n.length;o++){var a=n[o];O(1===a.status,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=2,a.Sf++;var s=lf(t,a.path),r=r.H(s,a.sd)}r=r.J(!0),e.da.put(t.toString(),r,function(r){e.f("transaction put response",{path:t.toString(),status:r});var i=[];if("ok"===r){for(r=[],o=0;o<n.length;o++){if(n[o].status=3,i=i.concat(si(e.M,n[o].Da)),n[o].I){var a=n[o].td,s=new X(e,n[o].path);r.push(u(n[o].I,null,null,!0,new W(a,s,R)))}n[o].le()}for(Ui(e,Xf(e.yc,t)),Ti(e),dc(e.fa,t,i),o=0;o<r.length;o++)gc(r[o])}else{if("datastale"===r)for(o=0;o<n.length;o++)n[o].status=4===n[o].status?5:1;else for(S("transaction at "+t.toString()+" failed: "+r),o=0;o<n.length;o++)n[o].status=5,n[o].ne=r;Ni(e,t)}},i)}function Ni(e,t){var n=Xi(e,t),r=n.path(),n=Vi(e,n);return Yi(e,n,r),r}function Yi(e,t,n){if(0!==t.length){for(var r=[],i=[],o=Na(t,function(e){return 1===e.status}),o=Oa(o,function(e){return e.Da}),a=0;a<t.length;a++){var s,c=t[a],l=lf(n,c.path),h=!1;if(O(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),5===c.status)h=!0,s=c.ne,i=i.concat(si(e.M,c.Da,!0));else if(1===c.status)if(25<=c.Sf)h=!0,s="maxretry",i=i.concat(si(e.M,c.Da,!0));else{var f=e.M.Aa(c.path,o)||H;c.rd=f;var d=t[a].update(f.J());p(d)?(hg("transaction failed: Data returned ",d,c.path),l=Q(d),"object"==typeof d&&null!=d&&y(d,".priority")||(l=l.ia(f.C())),f=c.Da,d=Mi(e),d=Xc(l,d),c.sd=l,c.td=d,c.Da=e.Kd++,Ta(o,f),i=i.concat(pi(e.M,c.path,d,c.Da,c.gf)),i=i.concat(si(e.M,f,!0))):(h=!0,s="nodata",i=i.concat(si(e.M,c.Da,!0)))}dc(e.fa,n,i),i=[],h&&(t[a].status=3,setTimeout(t[a].le,Math.floor(0)),t[a].I&&("nodata"===s?(c=new X(e,t[a].path),r.push(u(t[a].I,null,null,!1,new W(t[a].rd,c,R)))):r.push(u(t[a].I,null,Error(s),!1,null))))}for(Ui(e,e.yc),a=0;a<r.length;a++)gc(r[a]);Ti(e)}}function Xi(e,t){for(var n,r=e.yc;null!==(n=K(t))&&null===r.Ea();)r=Xf(r,n),t=N(t);return r}function Vi(e,t){var n=[];return Zi(e,t,n),n.sort(function(e,t){return e.Lf-t.Lf}),n}function Zi(e,t,n){var r=t.Ea();if(null!==r)for(var i=0;i<r.length;i++)n.push(r[i]);t.R(function(t){Zi(e,t,n)})}function Ui(e,t){var n=t.Ea();if(n){for(var r=0,i=0;i<n.length;i++)3!==n[i].status&&(n[r]=n[i],r++);n.length=r,Yf(t,0<n.length?n:null)}t.R(function(t){Ui(e,t)})}function Qi(e,t){var n=Xi(e,t).path(),r=Xf(e.yc,t);return ag(r,function(t){$i(e,t)}),$i(e,r),$f(r,function(t){$i(e,t)}),n}function $i(e,t){var n=t.Ea();if(null!==n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)4!==n[a].status&&(2===n[a].status?(O(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=4,n[a].ne="set"):(O(1===n[a].status,"Unexpected transaction status in abort"),n[a].le(),i=i.concat(si(e.M,n[a].Da,!0)),n[a].I&&r.push(u(n[a].I,null,Error("set"),!1,null))));for(-1===o?Yf(t,null):n.length=o+1,dc(e.fa,t.path(),i),a=0;a<r.length;a++)gc(r[a])}}function aj(){this.sc={},this.ag=!1}function Y(e,t,n,r){this.k=e,this.path=t,this.n=n,this.pc=r}function bj(e){var t=null,n=null;if(e.oa&&(t=Od(e)),e.ra&&(n=Rd(e)),e.g===re){if(e.oa){if("[MIN_NAME]"!=Nd(e))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof t)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(e.ra){if("[MAX_NAME]"!=Pd(e))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof n)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(e.g===R){if(null!=t&&!fg(t)||null!=n&&!fg(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(O(e.g instanceof ve||e.g===Be,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function cj(e){if(e.oa&&e.ra&&e.la&&(!e.la||""===e.Rb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function dj(e,t){if(!0===e.pc)throw Error(t+": You can't combine multiple orderBy calls.")}function ej(e,t,n){var r={cancel:null,Qa:null};if(t&&n)r.cancel=t,F(e,3,r.cancel,!0),r.Qa=n,Qb(e,4,r.Qa);else if(t)if("object"==typeof t&&null!==t)r.Qa=t;else{if("function"!=typeof t)throw Error(E(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r}function X(e,t){var n,r,i;if(e instanceof Ji)n=e,r=t;else{D("new Firebase",1,2,arguments.length),r=sd(arguments[0]),n=r.fh,"firebase"===r.domain&&rd(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||rd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.ob||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),n=new dd(r.host,r.ob,n,"ws"===r.scheme||"wss"===r.scheme),r=new P(r.bd),i=r.toString();var o;if(!(o=!q(n.host)||0===n.host.length||!eg(n.lc))&&(o=0!==i.length)&&(i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),o=!(q(i)&&0!==i.length&&!cg.test(i))),o)throw Error(E("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(t)if(t instanceof aj)i=t;else{if(!q(t))throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");i=aj.yb(),n.Rd=t}else i=aj.yb();o=n.toString();var a=z(i.sc,o);a||(a=new Ji(n,i.ag),i.sc[o]=a),n=a}Y.call(this,n,r,De,!1),this.then=void 0,this["catch"]=void 0}var h,n=this,ja=Date.now||function(){return+new Date};ka(la,Error),la.prototype.name="CustomError";var xa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Da={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\x0B":"\\u000b"},Ea=/\uffff/.test("")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,w;e:{var Ga=n.navigator;if(Ga){var Ha=Ga.userAgent;if(Ha){w=Ha;break e}}w=""}ka(Ja,Ia),Ja.prototype.reset=function(){this.P[0]=1732584193,this.P[1]=4023233417,this.P[2]=2562383102,this.P[3]=271733878,this.P[4]=3285377520,this.ge=this.ec=0},Ja.prototype.update=function(e,t){if(null!=e){p(t)||(t=e.length);for(var n=t-this.Ya,r=0,i=this.pe,o=this.ec;t>r;){if(0==o)for(;n>=r;)Ka(this,e,r),r+=this.Ya;if(q(e)){for(;t>r;)if(i[o]=e.charCodeAt(r),++o,++r,o==this.Ya){Ka(this,i),o=0;break}}else for(;t>r;)if(i[o]=e[r],++o,++r,o==this.Ya){Ka(this,i),o=0;break}}this.ec=o,this.ge+=t}};var x=Array.prototype,La=x.indexOf?function(e,t,n){return x.indexOf.call(e,t,n)}:function(e,t,n){if(n=null==n?0:0>n?Math.max(0,e.length+n):n,q(e))return q(t)&&1==t.length?e.indexOf(t,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ma=x.forEach?function(e,t,n){x.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=q(e)?e.split(""):e,o=0;r>o;o++)o in i&&t.call(n,i[o],o,e)},Na=x.filter?function(e,t,n){return x.filter.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=[],o=0,a=q(e)?e.split(""):e,s=0;r>s;s++)if(s in a){var u=a[s];t.call(n,u,s,e)&&(i[o++]=u)}return i},Oa=x.map?function(e,t,n){return x.map.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=Array(r),o=q(e)?e.split(""):e,a=0;r>a;a++)a in o&&(i[a]=t.call(n,o[a],a,e));return i},Pa=x.reduce?function(e,t,n,r){for(var i=[],o=1,a=arguments.length;a>o;o++)i.push(arguments[o]);return r&&(i[0]=u(t,r)),x.reduce.apply(e,i)}:function(e,t,n,r){var i=n;return Ma(e,function(n,o){i=t.call(r,i,n,o,e)}),i},Qa=x.every?function(e,t,n){return x.every.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=q(e)?e.split(""):e,o=0;r>o;o++)if(o in i&&!t.call(n,i[o],o,e))return!1;return!0},Ya,ab,cb=!1,db=[];[].push(function(){cb=!1,db=[]});var gb=-1!=w.indexOf("Opera")||-1!=w.indexOf("OPR"),hb=-1!=w.indexOf("Trident")||-1!=w.indexOf("MSIE"),ib=-1!=w.indexOf("Gecko")&&-1==w.toLowerCase().indexOf("webkit")&&!(-1!=w.indexOf("Trident")||-1!=w.indexOf("MSIE")),jb=-1!=w.toLowerCase().indexOf("webkit");!function(){var e,t="";return gb&&n.opera?(t=n.opera.version,r(t)?t():t):(ib?e=/rv\:([^\);]+)(\)|;)/:hb?e=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:jb&&(e=/WebKit\/(\S+)/),e&&(t=(t=e.exec(w))?t[1]:""),hb&&(e=(e=n.document)?e.documentMode:void 0,e>parseFloat(t))?String(e):t)}();var kb=null,lb=null,mb=null,qb=0,tb=2,vb=3;pb.prototype.then=function(e,t,n){return wb(this,r(e)?e:null,r(t)?t:null,n)},pb.prototype.then=pb.prototype.then,pb.prototype.$goog_Thenable=!0,h=pb.prototype,h.gh=function(e,t){return wb(this,null,e,t)},h.cancel=function(e){this.N==qb&&$a(function(){var t=new ub(e);xb(this,t)},this)},h.Yf=function(e){this.N=qb,sb(this,tb,e)},h.Zf=function(e){this.N=qb,sb(this,vb,e)},h.wg=function(){for(;this.Ba&&this.Ba.length;){var e=this.Ba;this.Ba=null;for(var t=0;t<e.length;t++)yb(this,e[t],this.N,this.Rf)}this.ye=!1};var Db=Xa;ka(ub,la),ub.prototype.name="cancel";var Eb=Eb||"2.4.2",Mb=n.Promise||pb;pb.prototype["catch"]=pb.prototype.gh,Sb.prototype.j=function(e){return this.Zd.S(e)},Sb.prototype.toString=function(){return this.Zd.toString()},Tb.prototype.uf=function(){return null},Tb.prototype.Ce=function(){return null};var Ub=new Tb;Vb.prototype.uf=function(e){var t=this.Oa.Q;return Wb(t,e)?t.j().T(e):(t=null!=this.Nd?new Xb(this.Nd,!0,!1):this.Oa.w(),this.bg.Bc(e,t))},Vb.prototype.Ce=function(e,t,n){var r=null!=this.Nd?this.Nd:Yb(this.Oa);return e=this.bg.qe(r,t,1,n,e),0===e.length?null:e[0]},ac.prototype.add=function(e){this.xd.push(e)},ac.prototype.cc=function(){return this.ta};var ic="value";jc.prototype.cc=function(){var e=this.be.Mb();return"value"===this.wd?e.path:e.parent().path},jc.prototype.De=function(){return this.wd},jc.prototype.Zb=function(){return this.xe.Zb(this)},jc.prototype.toString=function(){return this.cc().toString()+":"+this.wd+":"+G(this.be.qf())},kc.prototype.cc=function(){return this.path},kc.prototype.De=function(){return"cancel"},kc.prototype.Zb=function(){return this.xe.Zb(this)},kc.prototype.toString=function(){return this.path.toString()+":cancel"},Xb.prototype.j=function(){return this.A},oc.prototype.get=function(){var e=this.pg.get(),t=wa(e);if(this.Gd)for(var n in this.Gd)t[n]-=this.Gd[n];return this.Gd=e,t},pc.prototype.Of=function(){var e,t=this.hd.get(),n={},r=!1;for(e in t)0<t[e]&&y(this.Vf,e)&&(n[e]=t[e],r=!0);r&&this.da.Ye(n),setTimeout(u(this.Of,this),Math.floor(6e5*Math.random()))},qc.prototype.get=function(){return wa(this.Hc)};var sc={},tc={};Ac.prototype.$c=function(e){return this.path.e()?new Ac(this.source,M,this.Ja.T(e)):new Ac(this.source,N(this.path),this.Ja)},Ac.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ja.toString()+")"},Cc.prototype.$c=function(){return this.path.e()?new Cc(this.source,M):new Cc(this.source,N(this.path))},Cc.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},h=Ec.prototype,h.Sa=function(e,t){return new Ec(this.Pa,this.xa.Sa(e,t,this.Pa).$(null,null,!1,null,null))},h.remove=function(e){return new Ec(this.Pa,this.xa.remove(e,this.Pa).$(null,null,!1,null,null))},h.get=function(e){for(var t,n=this.xa;!n.e();){if(t=this.Pa(e,n.key),0===t)return n.value;0>t?n=n.left:t>0&&(n=n.right)}return null},h.e=function(){return this.xa.e()},h.count=function(){return this.xa.count()},h.Vc=function(){return this.xa.Vc()},h.jc=function(){return this.xa.jc()},h.ka=function(e){return this.xa.ka(e)},h.ac=function(e){return new Hc(this.xa,null,this.Pa,!1,e)},h.bc=function(e,t){return new Hc(this.xa,e,this.Pa,!1,t)},h.dc=function(e,t){return new Hc(this.xa,e,this.Pa,!0,t)},h.xf=function(e){return new Hc(this.xa,null,this.Pa,!0,e)},h=Kc.prototype,h.$=function(e,t,n,r,i){return new Kc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},h.count=function(){return this.left.count()+1+this.right.count()},h.e=function(){return!1},h.ka=function(e){return this.left.ka(e)||e(this.key,this.value)||this.right.ka(e)},h.Vc=function(){return Lc(this).key},h.jc=function(){return this.right.e()?this.key:this.right.jc()},h.Sa=function(e,t,n){var r,i;return i=this,r=n(e,i.key),i=0>r?i.$(null,null,null,i.left.Sa(e,t,n),null):0===r?i.$(null,t,null,null,null):i.$(null,null,null,null,i.right.Sa(e,t,n)),Mc(i)},h.remove=function(e,t){var n,r;if(n=this,0>t(e,n.key))n.left.e()||n.left.ha()||n.left.left.ha()||(n=Oc(n)),n=n.$(null,null,null,n.left.remove(e,t),null);else{if(n.left.ha()&&(n=Pc(n)),n.right.e()||n.right.ha()||n.right.left.ha()||(n=Qc(n),n.left.left.ha()&&(n=Pc(n),n=Qc(n))),0===t(e,n.key)){if(n.right.e())return Fc;r=Lc(n.right),n=n.$(r.key,r.value,null,null,Nc(n.right))}n=n.$(null,null,null,null,n.right.remove(e,t))}return Mc(n)},h.ha=function(){return this.color},h=Sc.prototype,h.$=function(){return this},h.Sa=function(e,t){return new Kc(e,t,null)},h.remove=function(){return this},h.count=function(){return 0},h.e=function(){return!0},h.ka=function(){return!1},h.Vc=function(){return null},h.jc=function(){return null},h.ha=function(){return!1};var Fc=new Sc;Zc.prototype.set=function(e,t){null==t?delete this.Ac[e]:this.Ac[e]=t},Zc.prototype.get=function(e){return y(this.Ac,e)?this.Ac[e]:null},Zc.prototype.remove=function(e){delete this.Ac[e]},Zc.prototype.Af=!0,h=$c.prototype,h.set=function(e,t){null==t?this.Ic.removeItem(this.Sd+e):this.Ic.setItem(this.Sd+e,G(t))},h.get=function(e){return e=this.Ic.getItem(this.Sd+e),null==e?null:Rb(e)},h.remove=function(e){this.Ic.removeItem(this.Sd+e)},h.Af=!1,h.toString=function(){return this.Ic.toString()};var bd=ad("localStorage"),cd=ad("sessionStorage");dd.prototype.toString=function(){var e=(this.ob?"https://":"http://")+this.host;return this.Rd&&(e+="<"+this.Rd+">"),e};var id=function(){var e=1;return function(){return e++}}(),O=Kb,jd=Lb,ec=null,nd=!0,Bd=/^-?\d{1,10}$/;Fd.prototype.qg=function(e,t){if(null==e.Za||null==t.Za)throw jd("Should only compare child_ events.");return this.g.compare(new L(e.Za,e.Na),new L(t.Za,t.Na))},h=Ld.prototype,h.H=function(e,t,n,r,i,o){return O(e.Mc(this.g),"A node must be indexed if only a child is updated"),i=e.T(t),i.S(r).ea(n.S(r))&&i.e()==n.e()?e:(null!=o&&(n.e()?e.Fa(t)?Kd(o,new J("child_removed",i,t)):O(e.L(),"A child remove without an old child only makes sense on a leaf node"):i.e()?Kd(o,new J("child_added",n,t)):Kd(o,new J("child_changed",n,t,i))),e.L()&&n.e()?e:e.W(t,n).pb(this.g))},h.ya=function(e,t,n){return null!=n&&(e.L()||e.R(R,function(e,r){t.Fa(e)||Kd(n,new J("child_removed",r,e))}),t.L()||t.R(R,function(t,r){if(e.Fa(t)){var i=e.T(t);i.ea(r)||Kd(n,new J("child_changed",r,t,i))}else Kd(n,new J("child_added",r,t))})),t.pb(this.g)},h.ia=function(e,t){return e.e()?H:e.ia(t)},h.Ra=function(){return!1},h.$b=function(){return this},h=Md.prototype,h.matches=function(e){return 0>=this.g.compare(this.gd,e)&&0>=this.g.compare(e,this.Jc)},h.H=function(e,t,n,r,i,o){return this.matches(new L(t,n))||(n=H),this.Fe.H(e,t,n,r,i,o)},h.ya=function(e,t,n){t.L()&&(t=H);var r=t.pb(this.g),r=r.ia(H),i=this;return t.R(R,function(e,t){i.matches(new L(e,t))||(r=r.W(e,H))}),this.Fe.ya(e,r,n)},h.ia=function(e){return e},h.Ra=function(){return!0},h.$b=function(){return this.Fe},h=Sd.prototype,h.H=function(e,t,n,r,i,o){return this.ua.matches(new L(t,n))||(n=H),e.T(t).ea(n)?e:e.Hb()<this.ma?this.ua.$b().H(e,t,n,r,i,o):Ud(this,e,t,n,i,o)},h.ya=function(e,t,n){var r;if(t.L()||t.e())r=H.pb(this.g);else if(2*this.ma<t.Hb()&&t.Mc(this.g)){r=H.pb(this.g),t=this.Nb?t.dc(this.ua.Jc,this.g):t.bc(this.ua.gd,this.g);for(var i=0;0<t.Ta.length&&i<this.ma;){var o,a=Ic(t);if(!(o=this.Nb?0>=this.g.compare(this.ua.gd,a):0>=this.g.compare(a,this.ua.Jc)))break;r=r.W(a.name,a.U),i++}}else{r=t.pb(this.g),r=r.ia(H);var s,u,c;if(this.Nb){t=r.xf(this.g),s=this.ua.Jc,u=this.ua.gd;var l=Vd(this.g);c=function(e,t){return l(t,e)}}else t=r.ac(this.g),s=this.ua.gd,u=this.ua.Jc,c=Vd(this.g);for(var i=0,h=!1;0<t.Ta.length;)a=Ic(t),!h&&0>=c(s,a)&&(h=!0),(o=h&&i<this.ma&&0>=c(a,u))?i++:r=r.W(a.name,H)}return this.ua.$b().ya(e,r,n)},h.ia=function(e){return e},h.Ra=function(){return!0},h.$b=function(){return this.ua.$b()},Zd.prototype.gb=function(e,t,n,r){var i,o=new Jd;if(t.type===Bc)t.source.Ae?n=$d(this,e,t.path,t.Ja,n,r,o):(O(t.source.tf,"Unknown source."),i=t.source.ef||mc(e.w())&&!t.path.e(),n=ae(this,e,t.path,t.Ja,n,r,i,o));else if(t.type===be)t.source.Ae?n=ce(this,e,t.path,t.children,n,r,o):(O(t.source.tf,"Unknown source."),i=t.source.ef||mc(e.w()),n=de(this,e,t.path,t.children,n,r,i,o));else if(t.type===ee)if(t.Yd)if(t=t.path,null!=n.xc(t))n=e;else{if(i=new Vb(n,e,r),r=e.Q.j(),t.e()||".priority"===K(t))lc(e.w())?t=n.Aa(Yb(e)):(t=e.w().j(),O(t instanceof fe,"serverChildren would be complete if leaf node"),t=n.Cc(t)),t=this.X.ya(r,t,o);else{var a=K(t),s=n.Bc(a,e.w());null==s&&Wb(e.w(),a)&&(s=r.T(a)),t=null!=s?this.X.H(r,a,s,N(t),i,o):e.Q.j().Fa(a)?this.X.H(r,a,H,N(t),i,o):r,t.e()&&lc(e.w())&&(r=n.Aa(Yb(e)),r.L()&&(t=this.X.ya(t,r,o)))}r=lc(e.w())||null!=n.xc(M),n=ge(e,t,r,this.X.Ra())}else n=he(this,e,t.path,t.Ub,n,r,o);else{if(t.type!==Dc)throw jd("Unknown operation type: "+t.type);r=t.path,t=e.w(),i=t.j(),a=t.ga||r.e(),n=ie(this,new je(e.Q,new Xb(i,a,t.Yb)),r,n,Ub,o)}return o=qa(o.ib),r=n,t=r.Q,t.ga&&(i=t.j().L()||t.j().e(),a=ke(e),(0<o.length||!e.Q.ga||i&&!t.j().ea(a)||!t.j().C().ea(a.C()))&&o.push(hc(ke(r)))),new Yd(n,o)};var te={};se.prototype.Dd=function(e,t){return 0!==this.compare(new L("[MIN_NAME]",e),new L("[MIN_NAME]",t))},se.prototype.Wc=function(){return ue},ka(ve,se),h=ve.prototype,h.Lc=function(e){return!e.S(this.gc).e()},h.compare=function(e,t){var n=e.U.S(this.gc),r=t.U.S(this.gc),n=n.Gc(r);return 0===n?yc(e.name,t.name):n},h.Sc=function(e,t){var n=Q(e),n=H.H(this.gc,n);return new L(t,n)},h.Tc=function(){var e=H.H(this.gc,we);return new L("[MAX_NAME]",e)},h.toString=function(){return this.gc.slice().join("/")},ka(xe,se),h=xe.prototype,h.compare=function(e,t){var n=e.U.C(),r=t.U.C(),n=n.Gc(r);return 0===n?yc(e.name,t.name):n},h.Lc=function(e){return!e.C().e()},h.Dd=function(e,t){return!e.C().ea(t.C())},h.Wc=function(){return ue},h.Tc=function(){return new L("[MAX_NAME]",new Yc("[PRIORITY-POST]",we))},h.Sc=function(e,t){var n=Q(e);return new L(t,new Yc("[PRIORITY-POST]",n))},h.toString=function(){return".priority"};var R=new xe;ka(ye,se),h=ye.prototype,h.compare=function(e,t){return yc(e.name,t.name)},h.Lc=function(){throw jd("KeyIndex.isDefinedOn not expected to be called.")},h.Dd=function(){return!1},h.Wc=function(){return ue},h.Tc=function(){return new L("[MAX_NAME]",H)},h.Sc=function(e){return O(q(e),"KeyIndex indexValue must always be a string."),new L(e,H)},h.toString=function(){return".key"};var re=new ye;ka(ze,se),h=ze.prototype,h.compare=function(e,t){var n=e.U.Gc(t.U);return 0===n?yc(e.name,t.name):n},h.Lc=function(){return!0},h.Dd=function(e,t){return!e.ea(t)},h.Wc=function(){return ue},h.Tc=function(){return Ae},h.Sc=function(e,t){var n=Q(e);return new L(t,n)},h.toString=function(){return".value"};var Be=new ze,De=new Ce;h=Ce.prototype,h.Le=function(e){var t=Ee(this);return t.la=!0,t.ma=e,t.Rb="",t},h.Me=function(e){var t=Ee(this);return t.la=!0,t.ma=e,t.Rb="l",t},h.Ne=function(e){var t=Ee(this);return t.la=!0,t.ma=e,t.Rb="r",t},h.ce=function(e,t){var n=Ee(this);return n.oa=!0,p(e)||(e=null),n.ic=e,null!=t?(n.Pb=!0,n.Bb=t):(n.Pb=!1,n.Bb=""),n},h.vd=function(e,t){var n=Ee(this);return n.ra=!0,p(e)||(e=null),n.fc=e,p(t)?(n.Xb=!0,n.zb=t):(n.oh=!1,n.zb=""),n},h.toString=function(){return G(Ge(this))},Ke.prototype.get=function(e){var t=z(this.Ed,e);if(!t)throw Error("No index defined for "+e);return t===te?null:t};var Oe=new Ke({".priority":te},{".priority":R}),Qe=["object","boolean","number","string"];h=Yc.prototype,h.L=function(){return!0},h.C=function(){return this.ca},h.ia=function(e){return new Yc(this.B,e)},h.T=function(e){return".priority"===e?this.ca:H},h.S=function(e){return e.e()?this:".priority"===K(e)?this.ca:H},h.Fa=function(){return!1},h.wf=function(){return null},h.W=function(e,t){return".priority"===e?this.ia(t):t.e()&&".priority"!==e?this:H.W(e,t).ia(this.ca)},h.H=function(e,t){var n=K(e);return null===n?t:t.e()&&".priority"!==n?this:(O(".priority"!==n||1===le(e),".priority must be the last token in a path"),this.W(n,H.H(N(e),t)))},h.e=function(){return!1},h.Hb=function(){return 0},h.R=function(){return!1},h.J=function(e){return e&&!this.C().e()?{".value":this.Ea(),".priority":this.C().J()}:this.Ea()},h.hash=function(){if(null===this.Gb){var e="";this.ca.e()||(e+="priority:"+Re(this.ca.J())+":");var t=typeof this.B,e=e+(t+":"),e="number"===t?e+Ad(this.B):e+this.B;this.Gb=ld(e)}return this.Gb},h.Ea=function(){return this.B},h.Gc=function(e){if(e===H)return 1;if(e instanceof fe)return-1;O(e.L(),"Unknown node type");var t=typeof e.B,n=typeof this.B,r=La(Qe,t),i=La(Qe,n);return O(r>=0,"Unknown leaf type: "+t),O(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.B<e.B?-1:this.B===e.B?0:1:i-r},h.pb=function(){return this},h.Mc=function(){return!0},h.ea=function(e){return e===this?!0:e.L()?this.B===e.B&&this.ca.ea(e.ca):!1},h.toString=function(){return G(this.J(!0))},h=fe.prototype,h.L=function(){return!1},h.C=function(){return this.ca||H},h.ia=function(e){return this.m.e()?this:new fe(this.m,e,this.Ab)},h.T=function(e){return".priority"===e?this.C():(e=this.m.get(e),null===e?H:e)},h.S=function(e){var t=K(e);return null===t?this:this.T(t).S(N(e))},h.Fa=function(e){return null!==this.m.get(e)},h.W=function(e,t){if(O(t,"We should always be passing snapshot nodes"),".priority"===e)return this.ia(t);var n,r,i=new L(e,t);return t.e()?(n=this.m.remove(e),i=Ne(this.Ab,i,this.m)):(n=this.m.Sa(e,t),i=Le(this.Ab,i,this.m)),r=n.e()?H:this.ca,new fe(n,r,i)},h.H=function(e,t){var n=K(e);if(null===n)return t;O(".priority"!==K(e)||1===le(e),".priority must be the last token in a path");var r=this.T(n).H(N(e),t);return this.W(n,r)},h.e=function(){return this.m.e()},h.Hb=function(){return this.m.count()};var Se=/^(0|[1-9]\d*)$/;h=fe.prototype,h.J=function(e){if(this.e())return null;var t={},n=0,r=0,i=!0;if(this.R(R,function(o,a){t[o]=a.J(e),n++,i&&Se.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&2*n>r){var o,a=[];for(o in t)a[o]=t[o];return a}return e&&!this.C().e()&&(t[".priority"]=this.C().J()),t},h.hash=function(){if(null===this.Gb){var e="";this.C().e()||(e+="priority:"+Re(this.C().J())+":"),this.R(R,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.Gb=""===e?"":ld(e)}return this.Gb},h.wf=function(e,t,n){return(n=Te(this,n))?(e=Gc(n,new L(e,t)))?e.name:null:Gc(this.m,e)},h.R=function(e,t){var n=Te(this,e);return n?n.ka(function(e){return t(e.name,e.U)}):this.m.ka(t)},h.ac=function(e){return this.bc(e.Wc(),e)},h.bc=function(e,t){var n=Te(this,t);if(n)return n.bc(e,function(e){return e});for(var n=this.m.bc(e.name,wc),r=Jc(n);null!=r&&0>t.compare(r,e);)Ic(n),r=Jc(n);return n},h.xf=function(e){return this.dc(e.Tc(),e)},h.dc=function(e,t){var n=Te(this,t);if(n)return n.dc(e,function(e){return e});for(var n=this.m.dc(e.name,wc),r=Jc(n);null!=r&&0<t.compare(r,e);)Ic(n),r=Jc(n);return n},h.Gc=function(e){return this.e()?e.e()?0:-1:e.L()||e.e()?1:e===we?-1:0},h.pb=function(e){if(e===re||sa(this.Ab.hc,e.toString()))return this;var t=this.Ab,n=this.m;O(e!==re,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,n=n.ac(wc),o=Ic(n);o;)i=i||e.Lc(o.U),r.push(o),o=Ic(n);return r=i?Me(r,Vd(e)):te,i=e.toString(),n=wa(t.hc),n[i]=e,e=wa(t.Ed),e[i]=r,new fe(this.m,this.ca,new Ke(e,n))},h.Mc=function(e){return e===re||sa(this.Ab.hc,e.toString())},h.ea=function(e){if(e===this)return!0;if(e.L())return!1;if(this.C().ea(e.C())&&this.m.count()===e.m.count()){var t=this.ac(R);e=e.ac(R);for(var n=Ic(t),r=Ic(e);n&&r;){if(n.name!==r.name||!n.U.ea(r.U))return!1;n=Ic(t),r=Ic(e)}return null===n&&null===r}return!1},h.toString=function(){return G(this.J(!0))};var Ue=Math.log(2),H=new fe(new Ec(zc),null,Oe);ka(Xe,fe),h=Xe.prototype,h.Gc=function(e){return e===this?0:1},h.ea=function(e){return e===this},h.C=function(){return this},h.T=function(){return H},h.e=function(){return!1};var we=new Xe,ue=new L("[MIN_NAME]",H),Ae=new L("[MAX_NAME]",we);je.prototype.w=function(){return this.ae},h=Ye.prototype,h.w=function(){return this.Oa.w().j()},h.kb=function(e){var t=Yb(this.Oa);return t&&(He(this.Y.n)||!e.e()&&!t.T(K(e)).e())?t.S(e):null},h.e=function(){return 0===this.$a.length},h.Tb=function(e){this.$a.push(e)},h.nb=function(e,t){var n=[];if(t){O(null==e,"A cancel should cancel all event registrations.");var r=this.Y.path;Ma(this.$a,function(e){(e=e.lf(t,r))&&n.push(e)})}if(e){for(var i=[],o=0;o<this.$a.length;++o){var a=this.$a[o];if(a.matches(e)){if(e.yf()){i=i.concat(this.$a.slice(o+1));break}}else i.push(a)}this.$a=i}else this.$a=[];return n},h.gb=function(e,t,n){e.type===be&&null!==e.source.Lb&&(O(Yb(this.Oa),"We should always have a full cache before handling merges"),O(ke(this.Oa),"Missing event cache, even though we have a server cache"));var r=this.Oa;return e=this.Nf.gb(r,e,t,n),t=this.Nf,n=e.me,O(n.Q.j().Mc(t.X.g),"Event snap not indexed"),O(n.w().j().Mc(t.X.g),"Server snap not indexed"),O(lc(e.me.w())||!lc(r.w()),"Once a server snap is complete, it should never go back"),this.Oa=e.me,$e(this,e.og,e.me.Q.j(),null)},bf.prototype.$c=function(e){return this.path.e()?(e=this.children.subtree(new P(e)),e.e()?null:e.value?new Ac(this.source,M,e.value):new bf(this.source,M,e)):(O(K(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new bf(this.source,N(this.path),this.children))},bf.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},h=cf.prototype,h.Cf=function(e,t,n,r){var i=e.path.toString();this.f("Listen called for "+i+" "+e.wa());var o=df(e,n),a={};this.ba[o]=a,e=Je(e.n);var s=this;ef(this,i+".json",e,function(e,t){var u=t;404===e&&(e=u=null),null===e&&s.Kb(i,u,!1,n),z(s.ba,o)===a&&r(e?401==e?"permission_denied":"rest_error:"+e:"ok",null)})},h.$f=function(e,t){var n=df(e,t);delete this.ba[n]},h.O=function(e,t){this.Ca=e;var n=Cd(e),r=n.data,n=n.Ec&&n.Ec.exp;t&&t("ok",{auth:r,expires:n})},h.je=function(e){this.Ca=null,e("ok",null)},h.Qe=function(){},h.Gf=function(){},h.Md=function(){},h.put=function(){},h.Df=function(){},h.Ye=function(){},ff.prototype.ie=function(e,t){var n;n=this.Rc[e]||[];var r=n.length;if(r>0){for(var i=Array(r),o=0;r>o;o++)i[o]=n[o];n=i}else n=[];for(r=0;r<n.length;r++)n[r].Dc.apply(n[r].Qa,Array.prototype.slice.call(arguments,1))},ff.prototype.Ib=function(e,t,n){gf(this,e),this.Rc[e]=this.Rc[e]||[],this.Rc[e].push({Dc:t,Qa:n}),(e=this.Ee(e))&&t.apply(n,e)},ff.prototype.mc=function(e,t,n){gf(this,e),e=this.Rc[e]||[];for(var r=0;r<e.length;r++)if(e[r].Dc===t&&(!n||n===e[r].Qa)){e.splice(r,1);break}};var hf=function(){var e=0,t=[];return function(n){var r=n===e;e=n;for(var i=Array(8),o=7;o>=0;o--)i[o]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(n%64),n=Math.floor(n/64);if(O(0===n,"Cannot push at time == 0"),n=i.join(""),r){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;12>o;o++)t[o]=Math.floor(64*Math.random());for(o=0;12>o;o++)n+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(t[o]);return O(20===n.length,"nextPushId: Length should be 20."),n}}();ka(jf,ff),jf.prototype.Ee=function(e){return O("online"===e,"Unknown event type: "+e),[this.oc]},ba(jf),ka(kf,ff),kf.prototype.Ee=function(e){return O("visible"===e,"Unknown event type: "+e),[this.Sb]},ba(kf),h=P.prototype,h.toString=function(){for(var e="",t=this.aa;t<this.u.length;t++)""!==this.u[t]&&(e+="/"+this.u[t]);return e||"/"},h.slice=function(e){return this.u.slice(this.aa+(e||0))},h.parent=function(){if(this.aa>=this.u.length)return null;for(var e=[],t=this.aa;t<this.u.length-1;t++)e.push(this.u[t]);return new P(e,0)},h.o=function(e){for(var t=[],n=this.aa;n<this.u.length;n++)t.push(this.u[n]);if(e instanceof P)for(n=e.aa;n<e.u.length;n++)t.push(e.u[n]);else for(e=e.split("/"),n=0;n<e.length;n++)0<e[n].length&&t.push(e[n]);return new P(t,0)},h.e=function(){return this.aa>=this.u.length},h.ea=function(e){if(le(this)!==le(e))return!1;for(var t=this.aa,n=e.aa;t<=this.u.length;t++,n++)if(this.u[t]!==e.u[n])return!1;return!0},h.contains=function(e){var t=this.aa,n=e.aa;if(le(this)>le(e))return!1;for(;t<this.u.length;){if(this.u[t]!==e.u[n])return!1;++t,++n}return!0};var M=new P("");nf.prototype.push=function(e){0<this.Ua.length&&(this.Ka+=1),this.Ua.push(e),this.Ka+=Pb(e),of(this)},nf.prototype.pop=function(){var e=this.Ua.pop();this.Ka-=Pb(e),0<this.Ua.length&&--this.Ka};var rf=new Ec(function(e,t){return e===t?0:t>e?-1:1});h=qf.prototype,h.e=function(){return null===this.value&&this.children.e()},h.subtree=function(e){if(e.e())return this;var t=this.children.get(K(e));return null!==t?t.subtree(N(e)):qe},h.set=function(e,t){if(e.e())return new qf(t,this.children);var n=K(e),r=(this.children.get(n)||qe).set(N(e),t),n=this.children.Sa(n,r);return new qf(this.value,n)},h.remove=function(e){if(e.e())return this.children.e()?qe:new qf(null,this.children);var t=K(e),n=this.children.get(t);return n?(e=n.remove(N(e)),t=e.e()?this.children.remove(t):this.children.Sa(t,e),null===this.value&&t.e()?qe:new qf(this.value,t)):this},h.get=function(e){if(e.e())return this.value;var t=this.children.get(K(e));return t?t.get(N(e)):null};var qe=new qf(null);qf.prototype.toString=function(){var e={};return ne(this,function(t,n){e[t.toString()]=n.toString()}),G(e)},Df.prototype.$c=function(e){return this.path.e()?null!=this.Ub.value?(O(this.Ub.children.e(),"affectedTree should not have overlapping affected paths."),this):(e=this.Ub.subtree(new P(e)),new Df(M,e,this.Yd)):(O(K(this.path)===e,"operationForChild called for unrelated child."),new Df(N(this.path),this.Ub,this.Yd))},Df.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Yd+" affectedTree="+this.Ub+")"};var Bc=0,be=1,ee=2,Dc=3,Ef=new Ff(!0,!1,null,!1),Gf=new Ff(!1,!0,null,!1);
Ff.prototype.toString=function(){return this.Ae?"user":this.ef?"server(queryID="+this.Lb+")":"server"};var If=new Hf(new qf(null));Hf.prototype.Ud=function(e){return e.e()?If:(e=pe(this.Z,e,qe),new Hf(e))},Hf.prototype.e=function(){return this.Z.e()},Hf.prototype.apply=function(e){return Of(M,this.Z,e)},h=Pf.prototype,h.Ud=function(e){var t=Sa(this.pa,function(t){return t.md===e});O(t>=0,"removeWrite called with nonexistent writeId.");var n=this.pa[t];this.pa.splice(t,1);for(var r=n.visible,i=!1,o=this.pa.length-1;r&&o>=0;){var a=this.pa[o];a.visible&&(o>=t&&Rf(a,n.path)?r=!1:n.path.contains(a.path)&&(i=!0)),o--}if(r){if(i)this.V=Sf(this.pa,Tf,M),this.Pc=0<this.pa.length?this.pa[this.pa.length-1].md:-1;else if(n.Ja)this.V=this.V.Ud(n.path);else{var s=this;v(n.children,function(e,t){s.V=s.V.Ud(n.path.o(t))})}return!0}return!1},h.Aa=function(e,t,n,r){if(n||r){var i=Nf(this.V,e);return!r&&i.e()?t:r||null!=t||null!=Lf(i,M)?(i=Sf(this.pa,function(t){return(t.visible||r)&&(!n||!(0<=La(n,t.md)))&&(t.path.contains(e)||e.contains(t.path))},e),t=t||H,i.apply(t)):null}return i=Lf(this.V,e),null!=i?i:(i=Nf(this.V,e),i.e()?t:null!=t||null!=Lf(i,M)?(t=t||H,i.apply(t)):null)},h.Cc=function(e,t){var n=H,r=Lf(this.V,e);if(r)r.L()||r.R(R,function(e,t){n=n.W(e,t)});else if(t){var i=Nf(this.V,e);t.R(R,function(e,t){var r=Nf(i,new P(e)).apply(t);n=n.W(e,r)}),Ma(Mf(i),function(e){n=n.W(e.name,e.U)})}else i=Nf(this.V,e),Ma(Mf(i),function(e){n=n.W(e.name,e.U)});return n},h.nd=function(e,t,n,r){return O(n||r,"Either existingEventSnap or existingServerSnap must exist"),e=e.o(t),null!=Lf(this.V,e)?null:(e=Nf(this.V,e),e.e()?r.S(t):e.apply(r.S(t)))},h.Bc=function(e,t,n){e=e.o(t);var r=Lf(this.V,e);return null!=r?r:Wb(n,t)?Nf(this.V,e).apply(n.j().T(t)):null},h.xc=function(e){return Lf(this.V,e)},h.qe=function(e,t,n,r,i,o){var a;if(e=Nf(this.V,e),a=Lf(e,M),null==a){if(null==t)return[];a=e.apply(t)}if(a=a.pb(o),a.e()||a.L())return[];for(t=[],e=Vd(o),i=i?a.dc(n,o):a.bc(n,o),o=Ic(i);o&&t.length<r;)0!==e(o,n)&&t.push(o),o=Ic(i);return t},h=Uf.prototype,h.Aa=function(e,t,n){return this.Z.Aa(this.Qb,e,t,n)},h.Cc=function(e){return this.Z.Cc(this.Qb,e)},h.nd=function(e,t,n){return this.Z.nd(this.Qb,e,t,n)},h.xc=function(e){return this.Z.xc(this.Qb.o(e))},h.qe=function(e,t,n,r,i){return this.Z.qe(this.Qb,e,t,n,r,i)},h.Bc=function(e,t){return this.Z.Bc(this.Qb,e,t)},h.o=function(e){return new Uf(this.Qb.o(e),this.Z)},h=Wf.prototype,h.Ea=function(){return this.A.value},h.clear=function(){this.A.value=null,this.A.children={},this.A.pd=0,Zf(this)},h.zd=function(){return 0<this.A.pd},h.e=function(){return null===this.Ea()&&!this.zd()},h.R=function(e){var t=this;v(this.A.children,function(n,r){e(new Wf(r,t,n))})},h.path=function(){return new P(null===this.Ha?this.Jd:this.Ha.path()+"/"+this.Jd)},h.name=function(){return this.Jd},h.parent=function(){return this.Ha};var bg=/[\[\].#$\/\u0000-\u001F\u007F]/,cg=/[\[\].#$\u0000-\u001F\u007F]/,dg=/^[a-zA-Z][a-zA-Z._\-+]+$/;h=ug.prototype,h.add=function(e,t){this.set[e]=null!==t?t:!0},h.contains=function(e){return y(this.set,e)},h.get=function(e){return this.contains(e)?this.set[e]:void 0},h.remove=function(e){delete this.set[e]},h.clear=function(){this.set={}},h.e=function(){return va(this.set)},h.count=function(){return oa(this.set)},h.keys=function(){var e=[];return v(this.set,function(t,n){e.push(n)}),e},Vc.prototype.find=function(e){if(null!=this.B)return this.B.S(e);if(e.e()||null==this.m)return null;var t=K(e);return e=N(e),this.m.contains(t)?this.m.get(t).find(e):null},Vc.prototype.rc=function(e,t){if(e.e())this.B=t,this.m=null;else if(null!==this.B)this.B=this.B.H(e,t);else{null==this.m&&(this.m=new ug);var n=K(e);this.m.contains(n)||this.m.add(n,new Vc),n=this.m.get(n),e=N(e),n.rc(e,t)}},Vc.prototype.R=function(e){null!==this.m&&vg(this.m,function(t,n){e(t,n)})};var xg="auth.firebase.com",zg=["remember","redirectTo"];Bg.prototype.set=function(e,t){if(!t){if(!this.ee.length)throw Error("fb.login.SessionManager : No storage options available!");t=this.ee[0]}t.set(this.Ue,e)},Bg.prototype.get=function(){var e=Oa(this.ee,u(this.Bg,this)),e=Na(e,function(e){return null!==e});return Va(e,function(e,t){return Dd(t.token)-Dd(e.token)}),0<e.length?e.shift():null},Bg.prototype.Bg=function(e){try{var t=e.get(this.Ue);if(t&&t.token)return t}catch(n){}return null},Bg.prototype.clear=function(){var e=this;Ma(this.ee,function(t){t.remove(e.Ue)})},Og.prototype.nc=function(e){var t,n=this;try{t=Rb(e.data)}catch(r){}t&&"request"===t.a&&(Ig(window,"message",this.nc),this.fe=e.origin,this.hb&&setTimeout(function(){n.hb(n.fe,t.d,function(e,t){n.mg=!t,n.hb=void 0,Pg(n,{a:"response",d:e,forceKeepWindowOpen:t})})},0))},Og.prototype.Ng=function(){try{Ig(this.Cd,"message",this.Ff)}catch(e){}this.hb&&(Pg(this,{a:"error",d:"unknown closed window"}),this.hb=void 0);try{window.close()}catch(t){}},Og.prototype.Ff=function(e){if(this.mg&&"die"===e.data)try{window.close()}catch(t){}},Qg.prototype.open=function(e,t){cd.set("redirect_request_id",this.tc),cd.set("redirect_request_id",this.tc),t.requestId=this.tc,t.redirectTo=t.redirectTo||window.location.href,e+=(/\?/.test(e)?"":"?")+Ib(t),window.location=e},Qg.isAvailable=function(){return!Eg()&&!Dg()},Qg.prototype.Fc=function(){return"redirect"};var Rg={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};Tg.prototype.open=function(e,t,n){function r(e){if(o&&(document.body.removeChild(o),o=void 0),l&&(l=clearInterval(l)),Ig(window,"message",i),Ig(window,"unload",r),c&&!e)try{c.close()}catch(t){a.postMessage("die",u)}c=a=void 0}function i(e){if(e.origin===u)try{var t=Rb(e.data);"ready"===t.a?a.postMessage(h,u):"error"===t.a?(r(!1),n&&(n(t.d),n=null)):"response"===t.a&&(r(t.forceKeepWindowOpen),n&&(n(null,t.d),n=null))}catch(i){}}var o,a,s=Fg(8);if(!this.options.relay_url)return n(Error("invalid arguments: origin of url and relay_url must match"));var u=Jg(e);if(u!==Jg(this.options.relay_url))n&&setTimeout(function(){n(Error("invalid arguments: origin of url and relay_url must match"))},0);else{s&&(o=document.createElement("iframe"),o.setAttribute("src",this.options.relay_url),o.style.display="none",o.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(o),a=o.contentWindow),e+=(/\?/.test(e)?"":"?")+Ib(t);var c=window.open(e,this.options.window_name,this.options.window_features);a||(a=c);var l=setInterval(function(){c&&c.closed&&(r(!1),n&&(n(Sg("USER_CANCELLED")),n=null))},500),h=G({a:"request",d:t});Hg(window,"unload",r),Hg(window,"message",i)}},Tg.isAvailable=function(){var e;return(e="postMessage"in window&&!Eg())&&((e=Dg()||"undefined"!=typeof navigator&&(!!Cg().match(/Windows Phone/)||!!window.Windows&&/^ms-appx:/.test(location.href)))||(e=Cg(),e="undefined"!=typeof navigator&&"undefined"!=typeof window&&!!(e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||e.match(/CriOS/)||e.match(/Twitter for iPhone/)||e.match(/FBAN\/FBIOS/)||window.navigator.standalone)),e=!e),e&&!Cg().match(/PhantomJS/)},Tg.prototype.Fc=function(){return"popup"},Ug.prototype.open=function(e,t,n){function r(){n&&(n(Sg("REQUEST_INTERRUPTED")),n=null)}var i,o=new XMLHttpRequest,a=this.options.method.toUpperCase();if(Hg(window,"beforeunload",r),o.onreadystatechange=function(){if(n&&4===o.readyState){var e;if(200<=o.status&&300>o.status){try{e=Rb(o.responseText)}catch(t){}n(null,e)}else n(500<=o.status&&600>o.status?Sg("SERVER_ERROR"):Sg("NETWORK_ERROR"));n=null,Ig(window,"beforeunload",r)}},"GET"===a)e+=(/\?/.test(e)?"":"?")+Ib(t),i=null;else{var s=this.options.headers.content_type;"application/json"===s&&(i=G(t)),"application/x-www-form-urlencoded"===s&&(i=Ib(t))}o.open(a,e,!0),e={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"},ya(e,this.options.headers);for(var u in e)o.setRequestHeader(u,e[u]);o.send(i)},Ug.isAvailable=function(){var e;return(e=!!window.XMLHttpRequest)&&(e=Cg(),e=!(e.match(/MSIE/)||e.match(/Trident/))||Fg(10)),e},Ug.prototype.Fc=function(){return"json"},Vg.prototype.open=function(e,t,n){function i(){n&&(n(Sg("USER_CANCELLED")),n=null)}var o,a=this,s=sd(xg);t.requestId=this.tc,t.redirectTo=s.scheme+"://"+s.host+"/blank/page.html",e+=/\?/.test(e)?"":"?",e+=Ib(t),(o=window.open(e,"_blank","location=no"))&&r(o.addEventListener)?(o.addEventListener("loadstart",function(e){var t;if(t=e&&e.url)e:{try{var r=document.createElement("a");r.href=e.url,t=r.host===s.host&&"/blank/page.html"===r.pathname;break e}catch(u){}t=!1}t&&(e=Kg(e.url),o.removeEventListener("exit",i),o.close(),e=new yg(null,null,{requestId:a.tc,requestKey:e}),a.Kf.requestWithCredential("/auth/session",e,n),n=null)}),o.addEventListener("exit",i)):n(Sg("TRANSPORT_UNAVAILABLE"))},Vg.isAvailable=function(){return Dg()},Vg.prototype.Fc=function(){return"redirect"},Wg.prototype.open=function(e,t,n){function r(){n&&(n(Sg("REQUEST_INTERRUPTED")),n=null)}function i(){setTimeout(function(){window.__firebase_auth_jsonp[o]=void 0,va(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var e=document.getElementById(o);e&&e.parentNode.removeChild(e)}catch(t){}},1),Ig(window,"beforeunload",r)}var o="fn"+(new Date).getTime()+Math.floor(99999*Math.random());t[this.options.callback_parameter]="__firebase_auth_jsonp."+o,e+=(/\?/.test(e)?"":"?")+Ib(t),Hg(window,"beforeunload",r),window.__firebase_auth_jsonp[o]=function(e){n&&(n(null,e),n=null),i()},Xg(o,e,n)},Wg.isAvailable=function(){return"undefined"!=typeof document&&null!=document.createElement},Wg.prototype.Fc=function(){return"json"},ka(Yg,ff),h=Yg.prototype,h.Be=function(){return this.qb||null},h.ve=function(e,t){gh(this);var n=Ag(e);n.fb._method="POST",this.uc("/users",n,function(e,n){e?T(t,e):T(t,e,n)})},h.Xe=function(e,t){var n=this;gh(this);var r="/users/"+encodeURIComponent(e.email),i=Ag(e);i.fb._method="DELETE",this.uc(r,i,function(e,r){!e&&r&&r.uid&&n.qb&&n.qb.uid&&n.qb.uid===r.uid&&eh(n),T(t,e)})},h.se=function(e,t){gh(this);var n="/users/"+encodeURIComponent(e.email)+"/password",r=Ag(e);r.fb._method="PUT",r.fb.password=e.newPassword,this.uc(n,r,function(e){T(t,e)})},h.re=function(e,t){gh(this);var n="/users/"+encodeURIComponent(e.oldEmail)+"/email",r=Ag(e);r.fb._method="PUT",r.fb.email=e.newEmail,r.fb.password=e.password,this.uc(n,r,function(e){T(t,e)})},h.Ze=function(e,t){gh(this);var n="/users/"+encodeURIComponent(e.email)+"/password",r=Ag(e);r.fb._method="POST",this.uc(n,r,function(e){T(t,e)})},h.uc=function(e,t,n){jh(this,[Ug,Wg],e,t,n)},h.Ee=function(e){return O("auth_status"===e,'initial event must be of type "auth_status"'),this.We?null:[this.qb]};var gd="websocket",hd="long_polling",oh,ph;nh.prototype.open=function(e,t){this.mf=0,this.na=t,this.Ef=new kh(e),this.Db=!1;var n=this;this.ub=setTimeout(function(){n.f("Timed out trying to connect."),n.bb(),n.ub=null},Math.floor(3e4)),ud(function(){if(!n.Db){n.Wa=new qh(function(e,t,r,i,o){if(rh(n,arguments),n.Wa)if(n.ub&&(clearTimeout(n.ub),n.ub=null),n.Kc=!0,"start"==e)n.id=t,n.Mf=r;else{if("close"!==e)throw Error("Unrecognized command received: "+e);t?(n.Wa.$d=!1,lh(n.Ef,t,function(){n.bb()})):n.bb()}},function(e,t){rh(n,arguments),mh(n.Ef,e,t)},function(){n.bb()},n.ld);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.Wa.ke&&(e.cb=n.Wa.ke),e.v="5",n.Xf&&(e.s=n.Xf),n.Fb&&(e.ls=n.Fb),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f"),e=n.ld(e),n.f("Connecting via long-poll to "+e),sh(n.Wa,e,function(){})}})},nh.prototype.start=function(){var e=this.Wa,t=this.Mf;for(e.Gg=this.id,e.Hg=t,e.oe=!0;th(e););e=this.id,t=this.Mf,this.kc=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.kc.src=this.ld(n),this.kc.style.display="none",document.body.appendChild(this.kc)},nh.isAvailable=function(){return oh||!ph&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.kh)&&!0},h=nh.prototype,h.Hd=function(){},h.fd=function(){this.Db=!0,this.Wa&&(this.Wa.close(),this.Wa=null),this.kc&&(document.body.removeChild(this.kc),this.kc=null),this.ub&&(clearTimeout(this.ub),this.ub=null)},h.bb=function(){this.Db||(this.f("Longpoll is closing itself"),this.fd(),this.na&&(this.na(this.Kc),this.na=null))},h.close=function(){this.Db||(this.f("Longpoll is being closed."),this.fd())},h.send=function(e){e=G(e),this.sb+=e.length,rc(this.Xa,"bytes_sent",e.length),e=Ob(e),e=nb(e,!0),e=yd(e,1840);for(var t=0;t<e.length;t++){var n=this.Wa;n.cd.push({Yg:this.mf,hh:e.length,of:e[t]}),n.oe&&th(n),this.mf++}},qh.prototype.close=function(){if(this.oe=!1,this.Ga){this.Ga.jb.body.innerHTML="";var e=this;setTimeout(function(){null!==e.Ga&&(document.body.removeChild(e.Ga),e.Ga=null)},Math.floor(0))}var t=this.lb;t&&(this.lb=null,t())};var vh=null;"undefined"!=typeof MozWebSocket?vh=MozWebSocket:"undefined"!=typeof WebSocket&&(vh=WebSocket);var xh;wh.prototype.open=function(e,t){this.lb=t,this.Lg=e,this.f("Websocket connecting to "+this.jf),this.Kc=!1,bd.set("previous_websocket_failure",!0);try{this.La=new vh(this.jf)}catch(n){this.f("Error instantiating WebSocket.");var r=n.message||n.data;return r&&this.f(r),void this.bb()}var i=this;this.La.onopen=function(){i.f("Websocket connected."),i.Kc=!0},this.La.onclose=function(){i.f("Websocket connection was disconnected."),i.La=null,i.bb()},this.La.onmessage=function(e){if(null!==i.La)if(e=e.data,i.rb+=e.length,rc(i.Xa,"bytes_received",e.length),yh(i),null!==i.frames)zh(i,e);else{e:{if(O(null===i.frames,"We already have a frame buffer"),6>=e.length){var t=Number(e);if(!isNaN(t)){i.ff=t,i.frames=[],e=null;break e}}i.ff=1,i.frames=[]}null!==e&&zh(i,e)}},this.La.onerror=function(e){i.f("WebSocket error.  Closing connection."),(e=e.message||e.data)&&i.f(e),i.bb()}},wh.prototype.start=function(){},wh.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&1<t.length&&4.4>parseFloat(t[1])&&(e=!0)}return!e&&null!==vh&&!xh},wh.responsesRequiredToBeHealthy=2,wh.healthyTimeout=3e4,h=wh.prototype,h.Hd=function(){bd.remove("previous_websocket_failure")},h.send=function(e){yh(this),e=G(e),this.sb+=e.length,rc(this.Xa,"bytes_sent",e.length),e=yd(e,16384),1<e.length&&Ah(this,String(e.length));for(var t=0;t<e.length;t++)Ah(this,e[t])},h.fd=function(){this.Db=!0,this.Nc&&(clearInterval(this.Nc),this.Nc=null),this.La&&(this.La.close(),this.La=null)},h.bb=function(){this.Db||(this.f("WebSocket is closing itself"),this.fd(),this.lb&&(this.lb(this.Kc),this.lb=null))},h.close=function(){this.Db||(this.f("WebSocket is being closed"),this.fd())};var Dh=[nh,wh];Fh.prototype.Ia=function(e){Qh(this,{t:"d",d:e})},Fh.prototype.Ld=function(e){Nh(this),this.nc(e)},Fh.prototype.close=function(){2!==this.N&&(this.f("Closing realtime connection."),this.N=2,Mh(this),this.na&&(this.na(),this.na=null))};var Sh=0,Uh=0;h=Rh.prototype,h.Ia=function(e,t,n){var r=++this.Xg;e={r:r,a:e,b:t},this.f(G(e)),O(this.qa,"sendRequest call when we're not connected not allowed."),this.Ma.Ia(e),n&&(this.Wd[r]=n)},h.Cf=function(e,t,n,r){var i=e.wa(),o=e.path.toString();this.f("Listen called for "+o+" "+i),this.ba[o]=this.ba[o]||{},O(Ie(e.n)||!He(e.n),"listen() called for non-default but complete query"),O(!this.ba[o][i],"listen() called twice for same path/queryId."),e={I:r,Ad:t,Ug:e,tag:n},this.ba[o][i]=e,this.qa&&Vh(this,e)},h.O=function(e,t,n){this.Ca={rg:e,sf:!1,Dc:t,od:n},this.f("Authenticating using credential: "+e),Xh(this),(t=40==e.length)||(e=Cd(e).Ec,t="object"==typeof e&&!0===z(e,"admin")),t&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.Id=3e4)},h.je=function(e){this.Ca=null,this.qa&&this.Ia("unauth",{},function(t){e(t.s,t.d)})},h.$f=function(e,t){var n=e.path.toString(),r=e.wa();if(this.f("Unlisten called for "+n+" "+r),O(Ie(e.n)||!He(e.n),"unlisten() called for non-default but complete query"),Wh(this,n,r)&&this.qa){var i=Ge(e.n);this.f("Unlisten on "+n+" for "+r),n={p:n},t&&(n.q=i,n.t=t),this.Ia("n",n)}},h.Qe=function(e,t,n){this.qa?Yh(this,"o",e,t,n):this.Yc.push({bd:e,action:"o",data:t,I:n})},h.Gf=function(e,t,n){this.qa?Yh(this,"om",e,t,n):this.Yc.push({bd:e,action:"om",data:t,I:n})},h.Md=function(e,t){this.qa?Yh(this,"oc",e,null,t):this.Yc.push({bd:e,action:"oc",data:null,I:t})},h.put=function(e,t,n,r){Zh(this,"p",e,t,n,r)},h.Df=function(e,t,n,r){Zh(this,"m",e,t,n,r)},h.Ye=function(e){this.qa&&(e={c:e},this.f("reportStats",e),this.Ia("s",e,function(e){"ok"!==e.s&&this.f("reportStats","Error sending stats: "+e.d)}))},h.Ld=function(e){if("r"in e){this.f("from server: "+G(e));var t=e.r,n=this.Wd[t];n&&(delete this.Wd[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&(t=e.a,n=e.b,this.f("handleServerMessage",t,n),"d"===t?this.Kb(n.p,n.d,!1,n.t):"m"===t?this.Kb(n.p,n.d,!0,n.t):"c"===t?ai(this,n.p,n.q):"ac"===t?(e=n.s,t=n.d,n=this.Ca,this.Ca=null,n&&n.od&&n.od(e,t)):"sd"===t?this.$e?this.$e(n):"msg"in n&&"undefined"!=typeof console&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: ")):qd("Unrecognized action received from server: "+G(t)+"\nAre you using the latest client?"))}},h.Zc=function(e,t){if(this.f("connection ready"),this.qa=!0,this.Oc=(new Date).getTime(),this.Se({serverTimeOffset:e-(new Date).getTime()}),this.Fb=t,this.rf){var n={};n["sdk.js."+Eb.replace(/\./g,"-")]=1,Dg()?n["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(n["framework.reactnative"]=1),this.Ye(n)}bi(this),this.rf=!1,this.Xc(!0)},h.Og=function(e){e&&!this.Sb&&this.eb===this.Id&&(this.f("Window became visible.  Reducing delay."),this.eb=1e3,this.Ma||Th(this,0)),this.Sb=e},h.Mg=function(e){e?(this.f("Browser went online."),this.eb=1e3,this.Ma||Th(this,0)):(this.f("Browser went offline.  Killing connection."),this.Ma&&this.Ma.close())},h.If=function(){this.f("data client disconnected"),this.qa=!1,this.Ma=null;for(var e=0;e<this.sa.length;e++){var t=this.sa[e];t&&"h"in t.Pf&&t.Vg&&(t.I&&t.I("disconnect"),delete this.sa[e],this.ad--)}0===this.ad&&(this.sa=[]),this.Wd={},di(this)&&(this.Sb?this.Oc&&(3e4<(new Date).getTime()-this.Oc&&(this.eb=1e3),this.Oc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.eb=this.Id,this.Ke=(new Date).getTime()),e=Math.max(0,this.eb-((new Date).getTime()-this.Ke)),e*=Math.random(),this.f("Trying to reconnect in "+e+"ms"),Th(this,e),this.eb=Math.min(this.Id,1.3*this.eb)),this.Xc(!1)},h.Cb=function(){this.Ie=!0,this.Ma?this.Ma.close():(this.wb&&(clearTimeout(this.wb),this.wb=null),this.qa&&this.If())},h.vc=function(){this.Ie=!1,this.eb=1e3,this.Ma||Th(this,0)};var U={zg:function(){oh=xh=!0}};U.forceLongPolling=U.zg,U.Ag=function(){ph=!0},U.forceWebSockets=U.Ag,U.Eg=function(){return wh.isAvailable()},U.isWebSocketsAvailable=U.Eg,U.ah=function(e,t){e.k.Va.$e=t},U.setSecurityDebugCallback=U.ah,U.bf=function(e,t){e.k.bf(t)},U.stats=U.bf,U.cf=function(e,t){e.k.cf(t)},U.statsIncrementCounter=U.cf,U.ud=function(e){return e.k.ud},U.dataUpdateCount=U.ud,U.Dg=function(e,t){e.k.He=t},U.interceptServerData=U.Dg,U.Kg=function(e){new Og(e)},U.onPopupOpen=U.Kg,U.Zg=function(e){xg=e},U.setAuthenticationServer=U.Zg,V.prototype.cancel=function(e){D("Firebase.onDisconnect().cancel",0,1,arguments.length),F("Firebase.onDisconnect().cancel",1,e,!0);var t=new B;return this.dd.Md(this.ta,C(t,e)),t.D},V.prototype.cancel=V.prototype.cancel,V.prototype.remove=function(e){D("Firebase.onDisconnect().remove",0,1,arguments.length),og("Firebase.onDisconnect().remove",this.ta),F("Firebase.onDisconnect().remove",1,e,!0);var t=new B;return fi(this.dd,this.ta,null,C(t,e)),t.D},V.prototype.remove=V.prototype.remove,V.prototype.set=function(e,t){D("Firebase.onDisconnect().set",1,2,arguments.length),og("Firebase.onDisconnect().set",this.ta),gg("Firebase.onDisconnect().set",e,this.ta,!1),F("Firebase.onDisconnect().set",2,t,!0);var n=new B;return fi(this.dd,this.ta,e,C(n,t)),n.D},V.prototype.set=V.prototype.set,V.prototype.Ob=function(e,t,n){D("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),og("Firebase.onDisconnect().setWithPriority",this.ta),gg("Firebase.onDisconnect().setWithPriority",e,this.ta,!1),kg("Firebase.onDisconnect().setWithPriority",2,t),F("Firebase.onDisconnect().setWithPriority",3,n,!0);var r=new B;return gi(this.dd,this.ta,e,t,C(r,n)),r.D},V.prototype.setWithPriority=V.prototype.Ob,V.prototype.update=function(e,t){if(D("Firebase.onDisconnect().update",1,2,arguments.length),og("Firebase.onDisconnect().update",this.ta),da(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return jg("Firebase.onDisconnect().update",e,this.ta),F("Firebase.onDisconnect().update",2,t,!0),n=new B,hi(this.dd,this.ta,e,C(n,t)),n.D},V.prototype.update=V.prototype.update,W.prototype.J=function(){return D("Firebase.DataSnapshot.val",0,0,arguments.length),this.A.J()},W.prototype.val=W.prototype.J,W.prototype.qf=function(){return D("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.A.J(!0)},W.prototype.exportVal=W.prototype.qf,W.prototype.xg=function(){return D("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.A.e()},W.prototype.exists=W.prototype.xg,W.prototype.o=function(e){D("Firebase.DataSnapshot.child",0,1,arguments.length),fa(e)&&(e=String(e)),ng("Firebase.DataSnapshot.child",e);var t=new P(e),n=this.Y.o(t);return new W(this.A.S(t),n,R)},W.prototype.child=W.prototype.o,W.prototype.Fa=function(e){D("Firebase.DataSnapshot.hasChild",1,1,arguments.length),ng("Firebase.DataSnapshot.hasChild",e);var t=new P(e);return!this.A.S(t).e()},W.prototype.hasChild=W.prototype.Fa,W.prototype.C=function(){return D("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.A.C().J()},W.prototype.getPriority=W.prototype.C,W.prototype.forEach=function(e){if(D("Firebase.DataSnapshot.forEach",1,1,arguments.length),F("Firebase.DataSnapshot.forEach",1,e,!1),this.A.L())return!1;var t=this;return!!this.A.R(this.g,function(n,r){return e(new W(r,t.Y.o(n),R))})},W.prototype.forEach=W.prototype.forEach,W.prototype.zd=function(){return D("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),this.A.L()?!1:!this.A.e()},W.prototype.hasChildren=W.prototype.zd,W.prototype.name=function(){return S("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead."),D("Firebase.DataSnapshot.name",0,0,arguments.length),this.key()},W.prototype.name=W.prototype.name,W.prototype.key=function(){return D("Firebase.DataSnapshot.key",0,0,arguments.length),this.Y.key()},W.prototype.key=W.prototype.key,W.prototype.Hb=function(){return D("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.A.Hb()},W.prototype.numChildren=W.prototype.Hb,W.prototype.Mb=function(){return D("Firebase.DataSnapshot.ref",0,0,arguments.length),this.Y},W.prototype.ref=W.prototype.Mb,h=ii.prototype,h.Qf=function(e){return"value"===e},h.createEvent=function(e,t){var n=t.n.g;return new jc("value",this,new W(e.Na,t.Mb(),n))},h.Zb=function(e){var t=this.vb;if("cancel"===e.De()){O(this.tb,"Raising a cancel event on a listener with no cancel callback");var n=this.tb;return function(){n.call(t,e.error)}}var r=this.Vb;return function(){r.call(t,e.be)}},h.lf=function(e,t){return this.tb?new kc(this,e,t):null},h.matches=function(e){return e instanceof ii?e.Vb&&this.Vb?e.Vb===this.Vb&&e.vb===this.vb:!0:!1},h.yf=function(){return null!==this.Vb},h=ji.prototype,h.Qf=function(e){return e="children_added"===e?"child_added":e,("children_removed"===e?"child_removed":e)in this.ja},h.lf=function(e,t){return this.tb?new kc(this,e,t):null},h.createEvent=function(e,t){O(null!=e.Za,"Child events should have a childName.");var n=t.Mb().o(e.Za);return new jc(e.type,this,new W(e.Na,n,t.n.g),e.Td)},h.Zb=function(e){var t=this.vb;if("cancel"===e.De()){O(this.tb,"Raising a cancel event on a listener with no cancel callback");var n=this.tb;return function(){n.call(t,e.error)}}var r=this.ja[e.wd];return function(){r.call(t,e.be,e.Td)}},h.matches=function(e){if(e instanceof ji){if(!this.ja||!e.ja)return!0;if(this.vb===e.vb){var t=oa(e.ja);if(t===oa(this.ja)){if(1===t){var t=pa(e.ja),n=pa(this.ja);return!(n!==t||e.ja[t]&&this.ja[n]&&e.ja[t]!==this.ja[n])}return na(this.ja,function(t,n){return e.ja[n]===t})}}}return!1},h.yf=function(){return null!==this.ja},h=ki.prototype,h.e=function(){return va(this.za)},h.gb=function(e,t,n){var r=e.source.Lb;if(null!==r)return r=z(this.za,r),O(null!=r,"SyncTree gave us an op for an invalid query."),r.gb(e,t,n);var i=[];return v(this.za,function(r){i=i.concat(r.gb(e,t,n))}),i},h.Tb=function(e,t,n,r,i){var o=e.wa(),a=z(this.za,o);if(!a){var a=n.Aa(i?r:null),s=!1;a?s=!0:(a=r instanceof fe?n.Cc(r):H,s=!1),a=new Ye(e,new je(new Xb(a,s,!1),new Xb(r,i,!1))),this.za[o]=a}return a.Tb(t),af(a,t)},h.nb=function(e,t,n){var r=e.wa(),i=[],o=[],a=null!=li(this);if("default"===r){var s=this;v(this.za,function(e,r){o=o.concat(e.nb(t,n)),e.e()&&(delete s.za[r],He(e.Y.n)||i.push(e.Y))})}else{var u=z(this.za,r);u&&(o=o.concat(u.nb(t,n)),u.e()&&(delete this.za[r],He(u.Y.n)||i.push(u.Y)))}return a&&null==li(this)&&i.push(new X(e.k,e.path)),{Wg:i,vg:o}},h.kb=function(e){var t=null;return v(this.za,function(n){t=t||n.kb(e)}),t},oi.prototype.Tb=function(e,t){var n=e.path,r=null,i=!1;zf(this.va,n,function(e,t){var o=lf(e,n);r=r||t.kb(o),i=i||null!=li(t)});var o=this.va.get(n);o?(i=i||null!=li(o),r=r||o.kb(M)):(o=new ki,this.va=this.va.set(n,o));var a;null!=r?a=!0:(a=!1,r=H,Cf(this.va.subtree(n),function(e,t){var n=t.kb(M);n&&(r=r.W(e,n))}));var s=null!=ni(o,e);if(!s&&!He(e.n)){var u=zi(e);O(!(u in this.qc),"View does not exist, but we have a tag");var c=Ai++;this.qc[u]=c,this.df["_"+c]=u}return a=o.Tb(e,t,new Uf(n,this.mb),r,a),s||i||(o=ni(o,e),a=a.concat(Bi(this,e,o))),a},oi.prototype.nb=function(e,t,n){var r=e.path,i=this.va.get(r),o=[];if(i&&("default"===e.wa()||null!=ni(i,e))){o=i.nb(e,t,n),i.e()&&(this.va=this.va.remove(r)),i=o.Wg,o=o.vg,t=-1!==Sa(i,function(e){return He(e.n)});var a=xf(this.va,r,function(e,t){return null!=li(t)});if(t&&!a&&(r=this.va.subtree(r),!r.e()))for(var r=Ci(r),s=0;s<r.length;++s){var u=r[s],c=u.Y,u=Di(this,u);this.Qc.af(Ei(c),Fi(this,c),u.Ad,u.I)}if(!a&&0<i.length&&!n)if(t)this.Qc.de(Ei(e),null);else{var l=this;Ma(i,function(e){e.wa();var t=l.qc[zi(e)];l.Qc.de(Ei(e),t)})}Gi(this,i)}return o},oi.prototype.Aa=function(e,t){var n=this.mb,r=xf(this.va,e,function(t,n){var r=lf(t,e);return(r=n.kb(r))?r:void 0});return n.Aa(e,r,t,!0)};var Ai=1;h=Ji.prototype,h.toString=function(){return(this.G.ob?"https://":"http://")+this.G.host},h.name=function(){return this.G.lc},h.Kb=function(e,t,n,r){this.ud++;var i=new P(e);t=this.He?this.He(e,t):t,e=[],r?n?(t=ma(t,function(e){return Q(e)}),e=yi(this.M,i,t,r)):(t=Q(t),e=ui(this.M,i,t,r)):n?(r=ma(t,function(e){return Q(e)}),e=ti(this.M,i,r)):(r=Q(t),e=qi(this.M,new Ac(Gf,i,r))),r=i,0<e.length&&(r=Ni(this,i)),dc(this.fa,r,e)},h.Xc=function(e){Ki(this,"connected",e),!1===e&&Oi(this)},h.Se=function(e){var t=this;zd(e,function(e,n){Ki(t,n,e)})},h.Pe=function(e){Ki(this,"authenticated",e)},h.Ob=function(e,t,n,r){this.f("set",{path:e.toString(),value:t,nh:n});var i=Mi(this);t=Q(t,n);var i=Xc(t,i),o=this.Kd++,i=pi(this.M,e,i,o,!0);$b(this.fa,i);var a=this;this.da.put(e.toString(),t.J(!0),function(t,n){var i="ok"===t;i||S("set at "+e+" failed: "+t),i=si(a.M,o,!i),dc(a.fa,e,i),Pi(r,t,n)}),i=Qi(this,e),Ni(this,i),dc(this.fa,i,[])},h.update=function(e,t,n){this.f("update",{path:e.toString(),value:t});var r=!0,i=Mi(this),o={};if(v(t,function(e,t){r=!1;var n=Q(e);o[t]=Xc(n,i)}),r)fc("update() called with empty data.  Don't do anything."),Pi(n,"ok");else{var a=this.Kd++,s=ri(this.M,e,o,a);$b(this.fa,s);var u=this;this.da.Df(e.toString(),t,function(t,r){var i="ok"===t;i||S("update at "+e+" failed: "+t);var i=si(u.M,a,!i),o=e;0<i.length&&(o=Ni(u,e)),dc(u.fa,o,i),Pi(n,t,r)}),t=Qi(this,e),Ni(this,t),dc(this.fa,e,[])}},h.Md=function(e,t){var n=this;this.da.Md(e.toString(),function(r,i){"ok"===r&&wg(n.na,e),Pi(t,r,i)})},h.Cb=function(){this.Va&&this.Va.Cb()},h.vc=function(){this.Va&&this.Va.vc()},h.bf=function(e){if("undefined"!=typeof console){e?(this.hd||(this.hd=new oc(this.Xa)),e=this.hd.get()):e=this.Xa.get();var t,n=Pa(ra(e),function(e,t){return Math.max(t.length,e)},0);for(t in e){for(var r=e[t],i=t.length;n+2>i;i++)t+=" ";console.log(t+r)}}},h.cf=function(e){rc(this.Xa,e),this.eh.Vf[e]=!0},h.f=function(e){var t="";this.Va&&(t=this.Va.id+":"),fc(t,arguments)},aj.prototype.Cb=function(){for(var e in this.sc)this.sc[e].Cb()},aj.prototype.vc=function(){for(var e in this.sc)this.sc[e].vc()},aj.prototype.ze=function(){this.ag=!0},ba(aj),aj.prototype.interrupt=aj.prototype.Cb,aj.prototype.resume=aj.prototype.vc,h=Y.prototype,h.Mb=function(){return D("Query.ref",0,0,arguments.length),new X(this.k,this.path)},h.Ib=function(e,t,n,r){D("Query.on",2,4,arguments.length),lg("Query.on",e,!1),F("Query.on",2,t,!1);var i=ej("Query.on",n,r);if("value"===e)Ri(this.k,this,new ii(t,i.cancel||null,i.Qa||null));else{var o={};o[e]=t,Ri(this.k,this,new ji(o,i.cancel,i.Qa))}return t},h.mc=function(e,t,n){D("Query.off",0,3,arguments.length),lg("Query.off",e,!0),F("Query.off",2,t,!0),Qb("Query.off",3,n);var r=null,i=null;"value"===e?r=new ii(t||null,null,n||null):e&&(t&&(i={},i[e]=t),r=new ji(i,null,n||null)),i=this.k,r=".info"===K(this.path)?i.Fd.nb(this,r):i.M.nb(this,r),bc(i.fa,this.path,r)},h.Pg=function(e,t){function n(s){o&&(o=!1,i.mc(e,n),t&&t.call(r.Qa,s),a.resolve(s))}D("Query.once",1,4,arguments.length),lg("Query.once",e,!1),F("Query.once",2,t,!0);var r=ej("Query.once",arguments[2],arguments[3]),i=this,o=!0,a=new B;return Nb(a.D),this.Ib(e,n,function(t){i.mc(e,n),r.cancel&&r.cancel.call(r.Qa,t),a.reject(t)}),a.D},h.Le=function(e){if(S("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead."),D("Query.limit",1,1,arguments.length),!fa(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limit: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var t=this.n.Le(e);return cj(t),new Y(this.k,this.path,t,this.pc)},h.Me=function(e){if(D("Query.limitToFirst",1,1,arguments.length),!fa(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Me(e),this.pc)},h.Ne=function(e){if(D("Query.limitToLast",1,1,arguments.length),!fa(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Ne(e),this.pc)},h.Qg=function(e){if(D("Query.orderByChild",1,1,arguments.length),"$key"===e)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ng("Query.orderByChild",e),dj(this,"Query.orderByChild");var t=new P(e);if(t.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return t=new ve(t),t=Fe(this.n,t),bj(t),new Y(this.k,this.path,t,!0);
},h.Rg=function(){D("Query.orderByKey",0,0,arguments.length),dj(this,"Query.orderByKey");var e=Fe(this.n,re);return bj(e),new Y(this.k,this.path,e,!0)},h.Sg=function(){D("Query.orderByPriority",0,0,arguments.length),dj(this,"Query.orderByPriority");var e=Fe(this.n,R);return bj(e),new Y(this.k,this.path,e,!0)},h.Tg=function(){D("Query.orderByValue",0,0,arguments.length),dj(this,"Query.orderByValue");var e=Fe(this.n,Be);return bj(e),new Y(this.k,this.path,e,!0)},h.ce=function(e,t){D("Query.startAt",0,2,arguments.length),gg("Query.startAt",e,this.path,!0),mg("Query.startAt",t);var n=this.n.ce(e,t);if(cj(n),bj(n),this.n.oa)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return p(e)||(t=e=null),new Y(this.k,this.path,n,this.pc)},h.vd=function(e,t){D("Query.endAt",0,2,arguments.length),gg("Query.endAt",e,this.path,!0),mg("Query.endAt",t);var n=this.n.vd(e,t);if(cj(n),bj(n),this.n.ra)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Y(this.k,this.path,n,this.pc)},h.tg=function(e,t){if(D("Query.equalTo",1,2,arguments.length),gg("Query.equalTo",e,this.path,!1),mg("Query.equalTo",t),this.n.oa)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.n.ra)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.ce(e,t).vd(e,t)},h.toString=function(){D("Query.toString",0,0,arguments.length);for(var e=this.path,t="",n=e.aa;n<e.u.length;n++)""!==e.u[n]&&(t+="/"+encodeURIComponent(String(e.u[n])));return this.k.toString()+(t||"/")},h.wa=function(){var e=xd(Ge(this.n));return"{}"===e?"default":e},Y.prototype.ref=Y.prototype.Mb,Y.prototype.on=Y.prototype.Ib,Y.prototype.off=Y.prototype.mc,Y.prototype.once=Y.prototype.Pg,Y.prototype.limit=Y.prototype.Le,Y.prototype.limitToFirst=Y.prototype.Me,Y.prototype.limitToLast=Y.prototype.Ne,Y.prototype.orderByChild=Y.prototype.Qg,Y.prototype.orderByKey=Y.prototype.Rg,Y.prototype.orderByPriority=Y.prototype.Sg,Y.prototype.orderByValue=Y.prototype.Tg,Y.prototype.startAt=Y.prototype.ce,Y.prototype.endAt=Y.prototype.vd,Y.prototype.equalTo=Y.prototype.tg,Y.prototype.toString=Y.prototype.toString;var Z={};Z.zc=Rh,Z.DataConnection=Z.zc,Rh.prototype.dh=function(e,t){this.Ia("q",{p:e},t)},Z.zc.prototype.simpleListen=Z.zc.prototype.dh,Rh.prototype.sg=function(e,t){this.Ia("echo",{d:e},t)},Z.zc.prototype.echo=Z.zc.prototype.sg,Rh.prototype.interrupt=Rh.prototype.Cb,Z.dg=Fh,Z.RealTimeConnection=Z.dg,Fh.prototype.sendRequest=Fh.prototype.Ia,Fh.prototype.close=Fh.prototype.close,Z.Cg=function(e){var t=Rh.prototype.put;return Rh.prototype.put=function(n,r,i,o){p(o)&&(o=e()),t.call(this,n,r,i,o)},function(){Rh.prototype.put=t}},Z.hijackHash=Z.Cg,Z.cg=dd,Z.ConnectionTarget=Z.cg,Z.wa=function(e){return e.wa()},Z.queryIdentifier=Z.wa,Z.Fg=function(e){return e.k.Va.ba},Z.listens=Z.Fg,Z.ze=function(e){e.ze()},Z.forceRestClient=Z.ze,ka(X,Y);var fj=X,gj=["Firebase"],hj=n;gj[0]in hj||!hj.execScript||hj.execScript("var "+gj[0]);for(var ij;gj.length&&(ij=gj.shift());)!gj.length&&p(fj)?hj[ij]=fj:hj=hj[ij]?hj[ij]:hj[ij]={};X.goOffline=function(){D("Firebase.goOffline",0,0,arguments.length),aj.yb().Cb()},X.goOnline=function(){D("Firebase.goOnline",0,0,arguments.length),aj.yb().vc()},X.enableLogging=od,X.ServerValue={TIMESTAMP:{".sv":"timestamp"}},X.SDK_VERSION=Eb,X.INTERNAL=U,X.Context=aj,X.TEST_ACCESS=Z,X.prototype.name=function(){return S("Firebase.name() being deprecated. Please use Firebase.key() instead."),D("Firebase.name",0,0,arguments.length),this.key()},X.prototype.name=X.prototype.name,X.prototype.key=function(){return D("Firebase.key",0,0,arguments.length),this.path.e()?null:me(this.path)},X.prototype.key=X.prototype.key,X.prototype.o=function(e){if(D("Firebase.child",1,1,arguments.length),fa(e))e=String(e);else if(!(e instanceof P))if(null===K(this.path)){var t=e;t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ng("Firebase.child",t)}else ng("Firebase.child",e);return new X(this.k,this.path.o(e))},X.prototype.child=X.prototype.o,X.prototype.parent=function(){D("Firebase.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new X(this.k,e)},X.prototype.parent=X.prototype.parent,X.prototype.root=function(){D("Firebase.ref",0,0,arguments.length);for(var e=this;null!==e.parent();)e=e.parent();return e},X.prototype.root=X.prototype.root,X.prototype.set=function(e,t){D("Firebase.set",1,2,arguments.length),og("Firebase.set",this.path),gg("Firebase.set",e,this.path,!1),F("Firebase.set",2,t,!0);var n=new B;return this.k.Ob(this.path,e,null,C(n,t)),n.D},X.prototype.set=X.prototype.set,X.prototype.update=function(e,t){if(D("Firebase.update",1,2,arguments.length),og("Firebase.update",this.path),da(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return jg("Firebase.update",e,this.path),F("Firebase.update",2,t,!0),n=new B,this.k.update(this.path,e,C(n,t)),n.D},X.prototype.update=X.prototype.update,X.prototype.Ob=function(e,t,n){if(D("Firebase.setWithPriority",2,3,arguments.length),og("Firebase.setWithPriority",this.path),gg("Firebase.setWithPriority",e,this.path,!1),kg("Firebase.setWithPriority",2,t),F("Firebase.setWithPriority",3,n,!0),".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";var r=new B;return this.k.Ob(this.path,e,t,C(r,n)),r.D},X.prototype.setWithPriority=X.prototype.Ob,X.prototype.remove=function(e){return D("Firebase.remove",0,1,arguments.length),og("Firebase.remove",this.path),F("Firebase.remove",1,e,!0),this.set(null,e)},X.prototype.remove=X.prototype.remove,X.prototype.transaction=function(e,t,n){if(D("Firebase.transaction",1,3,arguments.length),og("Firebase.transaction",this.path),F("Firebase.transaction",1,e,!1),F("Firebase.transaction",2,t,!0),p(n)&&"boolean"!=typeof n)throw Error(E("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";"undefined"==typeof n&&(n=!0);var i=new B;return r(t)&&Nb(i.D),Si(this.k,this.path,e,function(e,n,o){e?i.reject(e):i.resolve(new ei(n,o)),r(t)&&t(e,n,o)},n),i.D},X.prototype.transaction=X.prototype.transaction,X.prototype.$g=function(e,t){D("Firebase.setPriority",1,2,arguments.length),og("Firebase.setPriority",this.path),kg("Firebase.setPriority",1,e),F("Firebase.setPriority",2,t,!0);var n=new B;return this.k.Ob(this.path.o(".priority"),e,null,C(n,t)),n.D},X.prototype.setPriority=X.prototype.$g,X.prototype.push=function(e,t){D("Firebase.push",0,2,arguments.length),og("Firebase.push",this.path),gg("Firebase.push",e,this.path,!0),F("Firebase.push",2,t,!0);var n=Li(this.k),i=hf(n),n=this.o(i);if(null!=e){var o=this,a=n.set(e,t).then(function(){return o.o(i)});n.then=u(a.then,a),n["catch"]=u(a.then,a,void 0),r(t)&&Nb(a)}return n},X.prototype.push=X.prototype.push,X.prototype.lb=function(){return og("Firebase.onDisconnect",this.path),new V(this.k,this.path)},X.prototype.onDisconnect=X.prototype.lb,X.prototype.O=function(e,t,n){S("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead."),D("Firebase.auth",1,3,arguments.length),pg("Firebase.auth",e),F("Firebase.auth",2,t,!0),F("Firebase.auth",3,t,!0);var r=new B;return dh(this.k.O,e,{},{remember:"none"},C(r,t),n),r.D},X.prototype.auth=X.prototype.O,X.prototype.je=function(e){D("Firebase.unauth",0,1,arguments.length),F("Firebase.unauth",1,e,!0);var t=new B;return eh(this.k.O,C(t,e)),t.D},X.prototype.unauth=X.prototype.je,X.prototype.Be=function(){return D("Firebase.getAuth",0,0,arguments.length),this.k.O.Be()},X.prototype.getAuth=X.prototype.Be,X.prototype.Jg=function(e,t){D("Firebase.onAuth",1,2,arguments.length),F("Firebase.onAuth",1,e,!1),Qb("Firebase.onAuth",2,t),this.k.O.Ib("auth_status",e,t)},X.prototype.onAuth=X.prototype.Jg,X.prototype.Ig=function(e,t){D("Firebase.offAuth",1,2,arguments.length),F("Firebase.offAuth",1,e,!1),Qb("Firebase.offAuth",2,t),this.k.O.mc("auth_status",e,t)},X.prototype.offAuth=X.prototype.Ig,X.prototype.hg=function(e,t,n){D("Firebase.authWithCustomToken",1,3,arguments.length),2===arguments.length&&Hb(t)&&(n=t,t=void 0),pg("Firebase.authWithCustomToken",e),F("Firebase.authWithCustomToken",2,t,!0),sg("Firebase.authWithCustomToken",3,n,!0);var r=new B;return dh(this.k.O,e,{},n||{},C(r,t)),r.D},X.prototype.authWithCustomToken=X.prototype.hg,X.prototype.ig=function(e,t,n){D("Firebase.authWithOAuthPopup",1,3,arguments.length),2===arguments.length&&Hb(t)&&(n=t,t=void 0),rg("Firebase.authWithOAuthPopup",e),F("Firebase.authWithOAuthPopup",2,t,!0),sg("Firebase.authWithOAuthPopup",3,n,!0);var r=new B;return ih(this.k.O,e,n,C(r,t)),r.D},X.prototype.authWithOAuthPopup=X.prototype.ig,X.prototype.jg=function(e,t,n){D("Firebase.authWithOAuthRedirect",1,3,arguments.length),2===arguments.length&&Hb(t)&&(n=t,t=void 0),rg("Firebase.authWithOAuthRedirect",e),F("Firebase.authWithOAuthRedirect",2,t,!1),sg("Firebase.authWithOAuthRedirect",3,n,!0);var r=new B,i=this.k.O,o=n,a=C(r,t);gh(i);var s=[Qg],o=Ag(o);return"anonymous"===e||"firebase"===e?T(a,Sg("TRANSPORT_UNAVAILABLE")):(cd.set("redirect_client_options",o.qd),hh(i,s,"/auth/"+e,o,a)),r.D},X.prototype.authWithOAuthRedirect=X.prototype.jg,X.prototype.kg=function(e,t,n,r){D("Firebase.authWithOAuthToken",2,4,arguments.length),3===arguments.length&&Hb(n)&&(r=n,n=void 0),rg("Firebase.authWithOAuthToken",e),F("Firebase.authWithOAuthToken",3,n,!0),sg("Firebase.authWithOAuthToken",4,r,!0);var i=new B;return q(t)?(qg("Firebase.authWithOAuthToken",2,t),fh(this.k.O,e+"/token",{access_token:t},r,C(i,n))):(sg("Firebase.authWithOAuthToken",2,t,!1),fh(this.k.O,e+"/token",t,r,C(i,n))),i.D},X.prototype.authWithOAuthToken=X.prototype.kg,X.prototype.gg=function(e,t){D("Firebase.authAnonymously",0,2,arguments.length),1===arguments.length&&Hb(e)&&(t=e,e=void 0),F("Firebase.authAnonymously",1,e,!0),sg("Firebase.authAnonymously",2,t,!0);var n=new B;return fh(this.k.O,"anonymous",{},t,C(n,e)),n.D},X.prototype.authAnonymously=X.prototype.gg,X.prototype.lg=function(e,t,n){D("Firebase.authWithPassword",1,3,arguments.length),2===arguments.length&&Hb(t)&&(n=t,t=void 0),sg("Firebase.authWithPassword",1,e,!1),tg("Firebase.authWithPassword",e,"email"),tg("Firebase.authWithPassword",e,"password"),F("Firebase.authWithPassword",2,t,!0),sg("Firebase.authWithPassword",3,n,!0);var r=new B;return fh(this.k.O,"password",e,n,C(r,t)),r.D},X.prototype.authWithPassword=X.prototype.lg,X.prototype.ve=function(e,t){D("Firebase.createUser",1,2,arguments.length),sg("Firebase.createUser",1,e,!1),tg("Firebase.createUser",e,"email"),tg("Firebase.createUser",e,"password"),F("Firebase.createUser",2,t,!0);var n=new B;return this.k.O.ve(e,C(n,t)),n.D},X.prototype.createUser=X.prototype.ve,X.prototype.Xe=function(e,t){D("Firebase.removeUser",1,2,arguments.length),sg("Firebase.removeUser",1,e,!1),tg("Firebase.removeUser",e,"email"),tg("Firebase.removeUser",e,"password"),F("Firebase.removeUser",2,t,!0);var n=new B;return this.k.O.Xe(e,C(n,t)),n.D},X.prototype.removeUser=X.prototype.Xe,X.prototype.se=function(e,t){D("Firebase.changePassword",1,2,arguments.length),sg("Firebase.changePassword",1,e,!1),tg("Firebase.changePassword",e,"email"),tg("Firebase.changePassword",e,"oldPassword"),tg("Firebase.changePassword",e,"newPassword"),F("Firebase.changePassword",2,t,!0);var n=new B;return this.k.O.se(e,C(n,t)),n.D},X.prototype.changePassword=X.prototype.se,X.prototype.re=function(e,t){D("Firebase.changeEmail",1,2,arguments.length),sg("Firebase.changeEmail",1,e,!1),tg("Firebase.changeEmail",e,"oldEmail"),tg("Firebase.changeEmail",e,"newEmail"),tg("Firebase.changeEmail",e,"password"),F("Firebase.changeEmail",2,t,!0);var n=new B;return this.k.O.re(e,C(n,t)),n.D},X.prototype.changeEmail=X.prototype.re,X.prototype.Ze=function(e,t){D("Firebase.resetPassword",1,2,arguments.length),sg("Firebase.resetPassword",1,e,!1),tg("Firebase.resetPassword",e,"email"),F("Firebase.resetPassword",2,t,!0);var n=new B;return this.k.O.Ze(e,C(n,t)),n.D},X.prototype.resetPassword=X.prototype.Ze}(),module.exports=Firebase},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,require,require,require,require,__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,require,require,require,require,require,require;(function(global){!function(e,t){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(409)],__WEBPACK_AMD_DEFINE_FACTORY__=t,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(this,function(THREE){!function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return require(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){t.exports={"default":e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":4}],2:[function(e,t,n){"use strict";n["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n.__esModule=!0},{}],3:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/define-property")["default"];n["default"]=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(e,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n.__esModule=!0},{"babel-runtime/core-js/object/define-property":1}],4:[function(e,t,n){var r=e("../../modules/$");t.exports=function(e,t,n){return r.setDesc(e,t,n)}},{"../../modules/$":5}],5:[function(e,t,n){var r=Object;t.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},{}],6:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"];window.altspace||(window.altspace={}),window.altspace.utilities||(window.altspace.utilities={}),window.altspace.utilities.shims||(window.altspace.utilities.shims={});var o=function(){function e(){i(this,e)}return r(e,[{key:"load",value:function(e,t,n){var r=new THREE.MTLLoader,i=t.split("/").slice(0,-1).join("/");r.setBaseUrl(i+"/"),r.load(t,function(t){var r=new THREE.OBJLoader;r.setMaterials(t),r.load(e,n)})}}]),e}();window.altspace.utilities.shims.OBJMTLLoader=o},{"babel-runtime/helpers/class-call-check":2,"babel-runtime/helpers/create-class":3}]},{},[6]),function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return require(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){(function(e){function r(e){return e&&e.Object===Object?e:null}var i={"function":!0,object:!0},o=i[typeof n]&&n&&!n.nodeType?n:void 0,a=i[typeof t]&&t&&!t.nodeType?t:void 0,s=r(o&&a&&"object"==typeof e&&e),u=r(i[typeof self]&&self),c=r(i[typeof window]&&window),l=r(i[typeof this]&&this),h=s||c!==(l&&l.window)&&c||u||l||Function("return this")();t.exports=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){(function(e){function r(e){return e&&e.Object===Object?e:null}function i(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function o(){}function a(e,t){return u(e,t)&&delete e[t]}function s(e,t){if(ne){var n=e[t];return n===F?void 0:n}return Q.call(e,t)?e[t]:void 0}function u(e,t){return ne?void 0!==e[t]:Q.call(e,t)}function c(e,t,n){e[t]=ne&&void 0===n?F:n}function l(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function h(){this.__data__={hash:new o,map:te?new te:[],string:new o}}function f(e){var t=this.__data__;return A(e)?a("string"==typeof e?t.string:t.hash,e):te?t.map["delete"](e):_(t.map,e)}function p(e){var t=this.__data__;return A(e)?s("string"==typeof e?t.string:t.hash,e):te?t.map.get(e):E(t.map,e)}function d(e){var t=this.__data__;return A(e)?u("string"==typeof e?t.string:t.hash,e):te?t.map.has(e):S(t.map,e)}function v(e,t){var n=this.__data__;return A(e)?c("string"==typeof e?n.string:n.hash,e,t):te?n.map.set(e,t):T(n.map,e,t),this}function m(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function g(){this.__data__={array:[],map:null}}function y(e){var t=this.__data__,n=t.array;return n?_(n,e):t.map["delete"](e)}function b(e){var t=this.__data__,n=t.array;return n?E(n,e):t.map.get(e)}function w(e){var t=this.__data__,n=t.array;return n?S(n,e):t.map.has(e)}function x(e,t){var n=this.__data__,r=n.array;r&&(r.length<L-1?T(r,e,t):(n.array=null,n.map=new l(r)));var i=n.map;return i&&i.set(e,t),this}function _(e,t){var n=M(e,t);if(0>n)return!1;var r=e.length-1;return n==r?e.pop():ee.call(e,n,1),!0}function E(e,t){var n=M(e,t);return 0>n?void 0:e[n][1]}function S(e,t){return M(e,t)>-1}function M(e,t){for(var n=e.length;n--;)if(k(e[n][0],t))return n;return-1}function T(e,t,n){var r=M(e,t);0>r?e.push([t,n]):e[r][1]=n}function C(e,t){var n=e[t];return R(n)?n:void 0}function A(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e}function k(e,t){return e===t||e!==e&&t!==t}function P(e){var t=O(e)?J.call(e):"";return t==j||t==N}function O(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function D(e){return!!e&&"object"==typeof e}function R(e){return null==e?!1:P(e)?Z.test(Y.call(e)):D(e)&&(i(e)?Z:U).test(e)}var L=200,F="__lodash_hash_undefined__",j="[object Function]",N="[object GeneratorFunction]",I=/[\\^$.*+?()[\]{}|]/g,U=/^\[object .+?Constructor\]$/,B={"function":!0,object:!0},$=B[typeof n]&&n&&!n.nodeType?n:void 0,V=B[typeof t]&&t&&!t.nodeType?t:void 0,W=r($&&V&&"object"==typeof e&&e),G=r(B[typeof self]&&self),H=r(B[typeof window]&&window),z=r(B[typeof this]&&this),q=W||H!==(z&&z.window)&&H||G||z||Function("return this")(),X=Array.prototype,K=Object.prototype,Y=Function.prototype.toString,Q=K.hasOwnProperty,J=K.toString,Z=RegExp("^"+Y.call(Q).replace(I,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ee=X.splice,te=C(q,"Map"),ne=C(Object,"create");o.prototype=ne?ne(null):K,l.prototype.clear=h,l.prototype["delete"]=f,l.prototype.get=p,l.prototype.has=d,l.prototype.set=v,m.prototype.clear=g,m.prototype["delete"]=y,m.prototype.get=b,m.prototype.has=w,m.prototype.set=x,t.exports=m}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){function r(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function i(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function o(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function a(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function s(e,t){return se.call(e,t)||"object"==typeof e&&t in e&&null===d(e)}function u(e,t,n,r,i){return e===t?!0:null==e||null==t||!b(e)&&!w(t)?e!==e&&t!==t:c(e,t,u,n,r,i)}function c(e,t,n,r,o,a){var s=Me(e),u=Me(t),c=P,p=P;s||(c=v(e),c=c==k?I:c),u||(p=v(t),p=p==k?I:p);var d=c==I&&!i(e),m=p==I&&!i(t),g=c==p;if(g&&!d)return a||(a=new E),s||_(e)?l(e,t,n,r,o,a):h(e,t,c,n,r,o,a);if(!(o&C)){var y=d&&se.call(e,"__wrapped__"),b=m&&se.call(t,"__wrapped__");if(y||b){var w=y?e.value():e,x=b?t.value():t;return a||(a=new E),n(w,x,r,o,a)}}return g?(a||(a=new E),f(e,t,n,r,o,a)):!1}function l(e,t,n,i,o,a){var s=-1,u=o&C,c=o&T,l=e.length,h=t.length;if(l!=h&&!(u&&h>l))return!1;var f=a.get(e);if(f)return f==t;var p=!0;for(a.set(e,t);++s<l;){var d=e[s],v=t[s];if(i)var m=u?i(v,d,s,t,e,a):i(d,v,s,e,t,a);if(void 0!==m){if(m)continue;p=!1;break}if(c){if(!r(t,function(e){return d===e||n(d,e,i,o,a)})){p=!1;break}}else if(d!==v&&!n(d,v,i,o,a)){p=!1;break}}return a["delete"](e),p}function h(e,t,n,r,i,s,u){switch(n){case z:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case H:return!(e.byteLength!=t.byteLength||!r(new he(e),new he(t)));case O:case D:return+e==+t;case R:return e.name==t.name&&e.message==t.message;case N:return e!=+e?t!=+t:e==+t;case B:case V:return e==t+"";case j:var c=o;case $:var h=s&C;if(c||(c=a),e.size!=t.size&&!h)return!1;var f=u.get(e);return f?f==t:(s|=T,u.set(e,t),l(c(e),c(t),r,i,s,u));case W:if(Se)return Se.call(e)==Se.call(t)}return!1}function f(e,t,n,r,i,o){var a=i&C,u=S(e),c=u.length,l=S(t),h=l.length;if(c!=h&&!a)return!1;for(var f=c;f--;){var p=u[f];if(!(a?p in t:s(t,p)))return!1}var d=o.get(e);if(d)return d==t;var v=!0;o.set(e,t);for(var m=a;++f<c;){p=u[f];var g=e[p],y=t[p];if(r)var b=a?r(y,g,p,t,e,o):r(g,y,p,e,t,o);if(!(void 0===b?g===y||n(g,y,r,i,o):b)){v=!1;break}m||(m="constructor"==p)}if(v&&!m){var w=e.constructor,x=t.constructor;w!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x)&&(v=!1)}return o["delete"](e),v}function p(e,t){var n=e[t];return x(n)?n:void 0}function d(e){return fe(Object(e))}function v(e){return ue.call(e)}function m(e,t){return u(e,t)}function g(e){var t=b(e)?ue.call(e):"";return t==L||t==F}function y(e){return"number"==typeof e&&e>-1&&e%1==0&&A>=e}function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function w(e){return!!e&&"object"==typeof e}function x(e){return null==e?!1:g(e)?ce.test(ae.call(e)):w(e)&&(i(e)?ce:re).test(e)}function _(e){return w(e)&&y(e.length)&&!!ie[ue.call(e)]}var E=e("lodash._stack"),S=e("lodash.keys"),M=e("lodash._root"),T=1,C=2,A=9007199254740991,k="[object Arguments]",P="[object Array]",O="[object Boolean]",D="[object Date]",R="[object Error]",L="[object Function]",F="[object GeneratorFunction]",j="[object Map]",N="[object Number]",I="[object Object]",U="[object Promise]",B="[object RegExp]",$="[object Set]",V="[object String]",W="[object Symbol]",G="[object WeakMap]",H="[object ArrayBuffer]",z="[object DataView]",q="[object Float32Array]",X="[object Float64Array]",K="[object Int8Array]",Y="[object Int16Array]",Q="[object Int32Array]",J="[object Uint8Array]",Z="[object Uint8ClampedArray]",ee="[object Uint16Array]",te="[object Uint32Array]",ne=/[\\^$.*+?()[\]{}|]/g,re=/^\[object .+?Constructor\]$/,ie={};ie[q]=ie[X]=ie[K]=ie[Y]=ie[Q]=ie[J]=ie[Z]=ie[ee]=ie[te]=!0,ie[k]=ie[P]=ie[H]=ie[O]=ie[z]=ie[D]=ie[R]=ie[L]=ie[j]=ie[N]=ie[I]=ie[B]=ie[$]=ie[V]=ie[G]=!1;var oe=Object.prototype,ae=Function.prototype.toString,se=oe.hasOwnProperty,ue=oe.toString,ce=RegExp("^"+ae.call(se).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),le=M.Symbol,he=M.Uint8Array,fe=Object.getPrototypeOf,pe=p(M,"DataView"),de=p(M,"Map"),ve=p(M,"Promise"),me=p(M,"Set"),ge=p(M,"WeakMap"),ye=pe?pe+"":"",be=de?ae.call(de):"",we=ve?ae.call(ve):"",xe=me?ae.call(me):"",_e=ge?ae.call(ge):"",Ee=le?le.prototype:void 0,Se=Ee?Ee.valueOf:void 0;(pe&&v(new pe(new ArrayBuffer(1)))!=z||de&&v(new de)!=j||ve&&v(ve.resolve())!=U||me&&v(new me)!=$||ge&&v(new ge)!=G)&&(v=function(e){var t=ue.call(e),n=t==I?e.constructor:null,r="function"==typeof n?ae.call(n):"";if(r)switch(r){case ye:return z;case be:return j;case we:return U;case xe:return $;case _e:return G}return t});var Me=Array.isArray;t.exports=m},{"lodash._root":1,"lodash._stack":2,"lodash.keys":4}],4:[function(e,t,n){function r(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function i(e,t){return e="number"==typeof e||M.test(e)?+e:-1,t=null==t?w:t,e>-1&&e%1==0&&t>e}function o(e,t){return C.call(e,t)||"object"==typeof e&&t in e&&null===u(e)}function a(e){return O(Object(e))}function s(e){return function(t){return null==t?void 0:t[e]}}function u(e){return P(Object(e))}function c(e){var t=e?e.length:void 0;return v(t)&&(R(e)||y(e)||h(e))?r(t,String):null}function l(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||T;return e===n}function h(e){return p(e)&&C.call(e,"callee")&&(!k.call(e,"callee")||A.call(e)==x)}function f(e){return null!=e&&v(D(e))&&!d(e)}function p(e){return g(e)&&f(e)}function d(e){var t=m(e)?A.call(e):"";return t==_||t==E}function v(e){return"number"==typeof e&&e>-1&&e%1==0&&w>=e}function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){return!!e&&"object"==typeof e}function y(e){return"string"==typeof e||!R(e)&&g(e)&&A.call(e)==S}function b(e){var t=l(e);if(!t&&!f(e))return a(e);var n=c(e),r=!!n,s=n||[],u=s.length;for(var h in e)!o(e,h)||r&&("length"==h||i(h,u))||t&&"constructor"==h||s.push(h);return s}var w=9007199254740991,x="[object Arguments]",_="[object Function]",E="[object GeneratorFunction]",S="[object String]",M=/^(?:0|[1-9]\d*)$/,T=Object.prototype,C=T.hasOwnProperty,A=T.toString,k=T.propertyIsEnumerable,P=Object.getPrototypeOf,O=Object.keys,D=s("length"),R=Array.isArray;t.exports=b},{}],5:[function(e,t,n){window.altspace=window.altspace||{},window.altspace.utilities=window.altspace.utilities||{},window.altspace.utilities.behaviors=window.altspace.utilities.behaviors||{},window.altspace.utilities.behaviors.Object3DSync=function(t){function n(e,t){l=e,h=l.key(),d=l.child("batch"),f=l.child("data"),p=l.child("owner"),v=t}function r(){d.on("value",function(e){if(!m){var n=e.val();n&&(t.position&&u.position.set(n.position.x,n.position.y,n.position.z),t.rotation&&u.quaternion.set(n.quaternion.x,n.quaternion.y,n.quaternion.z,n.quaternion.w),t.scale&&u.scale.set(n.scale.x,n.scale.y,n.scale.z))}}),p.on("value",function(e){var t=e.val(),n=t===v.clientId&&!m;n&&u.dispatchEvent({type:"ownershipgained"});var r=t!==v.clientId&&m;r&&u.dispatchEvent({type:"ownershiplost"}),m=t===v.clientId})}function i(){if(m){var e={};if(t.world?(u.updateMatrixWorld(),u.matrixWorld.decompose(g,y,b)):(g=u.position,y=u.quaternion,b=u.scale),t.position&&(e.position={x:g.x,y:g.y,z:g.z}),t.rotation&&(e.quaternion={x:y.x,y:y.y,z:y.z,w:y.w}),t.scale&&(e.scale={x:b.x,y:b.y,z:b.z}),Object.keys(e).length>0){if(w(e,this.lastTransform))return;d.set(e),this.lastTransform=e}}}function o(e,t){u=e,c=t,r()}function a(e){}function s(){p.set(v.clientId)}t=t||{};var u,c,l,h,f,p,d,v,m=!1,g=new THREE.Vector3,y=new THREE.Quaternion,b=new THREE.Vector3,w=e("lodash.isequal"),x={awake:o,update:a,type:"Object3DSync",link:n,autoSend:i,takeOwnership:s};return Object.defineProperty(x,"dataRef",{get:function(){return f}}),Object.defineProperty(x,"isMine",{get:function(){return m}}),x}},{"lodash.isequal":3}]},{},[5]),/*!Please JS v0.4.2, Jordan Checkman 2014, Checkman.io, MIT License, Have fun.*/
!function(e,t,n){__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_FACTORY__=n,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}("Please",this,function(){"use strict";function e(){function e(e,t,n){var r=Math.random;return n instanceof a&&(r=n.random),Math.floor(r()*(t-e+1))+e}function t(e,t,n){var r=Math.random;return n instanceof a&&(r=n.random),r()*(t-e)+e}function n(e,t,n){return Math.max(t,Math.min(e,n))}function r(e,t){var n;switch(e){case"hex":for(n=0;n<t.length;n++)t[n]=s.HSV_to_HEX(t[n]);break;case"rgb":for(n=0;n<t.length;n++)t[n]=s.HSV_to_RGB(t[n]);break;case"rgb-string":for(n=0;n<t.length;n++){var r=s.HSV_to_RGB(t[n]);t[n]="rgb("+r.r+","+r.g+","+r.b+")"}break;case"hsv":break;default:console.error("Format not recognized.")}return t}function i(e){var t=s.HSV_to_RGB(e),n=(299*t.r+587*t.g+114*t.b)/1e3;return n>=128?"dark":"light"}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function a(e){function t(){r=(r+1)%256,i=(i+n[r])%256;var e=n[r];return n[r]=n[i],n[i]=e,n[(n[r]+n[i])%256]}for(var n=[],r=0,i=0,o=0;256>o;o++)n[o]=o;for(var a=0,s=0;256>a;a++){s=(s+n[a]+e.charCodeAt(a%e.length))%256;var u=n[a];n[a]=n[s],n[s]=u}this.random=function(){for(var e=0,n=0,r=1;8>e;e++)n+=t()*r,r*=256;return n/0x10000000000000000}}var s={},u={aliceblue:"F0F8FF",antiquewhite:"FAEBD7",aqua:"00FFFF",aquamarine:"7FFFD4",azure:"F0FFFF",beige:"F5F5DC",bisque:"FFE4C4",black:"000000",blanchedalmond:"FFEBCD",blue:"0000FF",blueviolet:"8A2BE2",brown:"A52A2A",burlywood:"DEB887",cadetblue:"5F9EA0",chartreuse:"7FFF00",chocolate:"D2691E",coral:"FF7F50",cornflowerblue:"6495ED",cornsilk:"FFF8DC",crimson:"DC143C",cyan:"00FFFF",darkblue:"00008B",darkcyan:"008B8B",darkgoldenrod:"B8860B",darkgray:"A9A9A9",darkgrey:"A9A9A9",darkgreen:"006400",darkkhaki:"BDB76B",darkmagenta:"8B008B",darkolivegreen:"556B2F",darkorange:"FF8C00",darkorchid:"9932CC",darkred:"8B0000",darksalmon:"E9967A",darkseagreen:"8FBC8F",darkslateblue:"483D8B",darkslategray:"2F4F4F",darkslategrey:"2F4F4F",darkturquoise:"00CED1",darkviolet:"9400D3",deeppink:"FF1493",deepskyblue:"00BFFF",dimgray:"696969",dimgrey:"696969",dodgerblue:"1E90FF",firebrick:"B22222",floralwhite:"FFFAF0",forestgreen:"228B22",fuchsia:"FF00FF",gainsboro:"DCDCDC",ghostwhite:"F8F8FF",gold:"FFD700",goldenrod:"DAA520",gray:"808080",grey:"808080",green:"008000",greenyellow:"ADFF2F",honeydew:"F0FFF0",hotpink:"FF69B4",indianred:"CD5C5C",indigo:"4B0082",ivory:"FFFFF0",khaki:"F0E68C",lavender:"E6E6FA",lavenderblush:"FFF0F5",lawngreen:"7CFC00",lemonchiffon:"FFFACD",lightblue:"ADD8E6",lightcoral:"F08080",lightcyan:"E0FFFF",lightgoldenrodyellow:"FAFAD2",lightgray:"D3D3D3",lightgrey:"D3D3D3",lightgreen:"90EE90",lightpink:"FFB6C1",lightsalmon:"FFA07A",lightseagreen:"20B2AA",lightskyblue:"87CEFA",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"B0C4DE",lightyellow:"FFFFE0",lime:"00FF00",limegreen:"32CD32",linen:"FAF0E6",magenta:"FF00FF",maroon:"800000",mediumaquamarine:"66CDAA",mediumblue:"0000CD",mediumorchid:"BA55D3",mediumpurple:"9370D8",mediumseagreen:"3CB371",mediumslateblue:"7B68EE",mediumspringgreen:"00FA9A",mediumturquoise:"48D1CC",mediumvioletred:"C71585",midnightblue:"191970",mintcream:"F5FFFA",mistyrose:"FFE4E1",moccasin:"FFE4B5",navajowhite:"FFDEAD",navy:"000080",oldlace:"FDF5E6",olive:"808000",olivedrab:"6B8E23",orange:"FFA500",orangered:"FF4500",orchid:"DA70D6",palegoldenrod:"EEE8AA",palegreen:"98FB98",paleturquoise:"AFEEEE",palevioletred:"D87093",papayawhip:"FFEFD5",peachpuff:"FFDAB9",peru:"CD853F",pink:"FFC0CB",plum:"DDA0DD",powderblue:"B0E0E6",purple:"800080",rebeccapurple:"663399",red:"FF0000",rosybrown:"BC8F8F",royalblue:"4169E1",saddlebrown:"8B4513",salmon:"FA8072",sandybrown:"F4A460",seagreen:"2E8B57",seashell:"FFF5EE",sienna:"A0522D",silver:"C0C0C0",skyblue:"87CEEB",slateblue:"6A5ACD",slategray:"708090",slategrey:"708090",snow:"FFFAFA",springgreen:"00FF7F",steelblue:"4682B4",tan:"D2B48C",teal:"008080",thistle:"D8BFD8",tomato:"FF6347",turquoise:"40E0D0",violet:"EE82EE",wheat:"F5DEB3",white:"FFFFFF",whitesmoke:"F5F5F5",yellow:"FFFF00",yellowgreen:"9ACD32"},c=.618033988749895,l={hue:null,saturation:null,value:null,base_color:"",greyscale:!1,grayscale:!1,golden:!0,full_random:!1,colors_returned:1,format:"hex",seed:null},h={scheme_type:"analogous",format:"hex"},f={golden:!1,format:"hex"};return s.NAME_to_HEX=function(e){return e=e.toLowerCase(),e in u?u[e]:void console.error("Color name not recognized.")},s.NAME_to_RGB=function(e){return s.HEX_to_RGB(s.NAME_to_HEX(e))},s.NAME_to_HSV=function(e){return s.HEX_to_HSV(s.NAME_to_HEX(e))},s.HEX_to_RGB=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,r){return t+t+n+n+r+r});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null},s.RGB_to_HEX=function(e){return"#"+((1<<24)+(e.r<<16)+(e.g<<8)+e.b).toString(16).slice(1)},s.HSV_to_RGB=function(e){var t,n,r,i,o,a,s,u,c=e.h,l=e.s,h=e.v;if(0===l)return{r:h,g:h,b:h};switch(c/=60,i=Math.floor(c),o=c-i,a=h*(1-l),s=h*(1-l*o),u=h*(1-l*(1-o)),i){case 0:t=h,n=u,r=a;break;case 1:t=s,n=h,r=a;break;case 2:t=a,n=h,r=u;break;case 3:t=a,n=s,r=h;break;case 4:t=u,n=a,r=h;break;case 5:t=h,n=a,r=s}return{r:Math.floor(255*t),g:Math.floor(255*n),b:Math.floor(255*r)}},s.RGB_to_HSV=function(e){var t=e.r/255,n=e.g/255,r=e.b/255,i=0,o=0,a=0,s=Math.min(t,Math.min(n,r)),u=Math.max(t,Math.max(n,r));if(s===u)return a=s,{h:0,s:0,v:a};var c=t===s?n-r:r===s?t-n:r-t,l=t===s?3:r===s?1:5;return i=60*(l-c/(u-s)),o=(u-s)/u,a=u,{h:i,s:o,v:a}},s.HSV_to_HEX=function(e){return s.RGB_to_HEX(s.HSV_to_RGB(e))},s.HEX_to_HSV=function(e){return s.RGB_to_HSV(s.HEX_to_RGB(e))},s.make_scheme=function(e,t){function i(e){return{h:e.h,s:e.s,v:e.v}}var a,s,u,c,l,f=o(h);if(null!==t)for(var p in t)t.hasOwnProperty(p)&&(f[p]=t[p]);var d=[e];switch(f.scheme_type.toLowerCase()){case"monochromatic":case"mono":for(l=1;2>=l;l++)a=i(e),u=a.s+.1*l,u=n(u,0,1),c=a.v+.1*l,c=n(c,0,1),a.s=u,a.v=c,d.push(a);for(l=1;2>=l;l++)a=i(e),u=a.s-.1*l,u=n(u,0,1),c=a.v-.1*l,c=n(c,0,1),a.s=u,a.v=c,d.push(a);break;case"complementary":case"complement":case"comp":a=i(e),a.h=(a.h+180)%360,d.push(a);break;case"split-complementary":case"split-complement":case"split":a=i(e),a.h=(a.h+165)%360,d.push(a),a=i(e),a.h=Math.abs((a.h-165)%360),d.push(a);break;case"double-complementary":case"double-complement":case"double":a=i(e),a.h=(a.h+180)%360,d.push(a),a.h=(a.h+30)%360,s=i(a),d.push(a),a.h=(a.h+180)%360,d.push(s);break;case"analogous":case"ana":for(l=1;5>=l;l++)a=i(e),a.h=(a.h+20*l)%360,d.push(a);break;case"triadic":case"triad":case"tri":for(l=1;3>l;l++)a=i(e),a.h=(a.h+120*l)%360,d.push(a);break;default:console.error("Color scheme not recognized.")}return r(f.format.toLowerCase(),d),d},s.make_color=function(i){var u=[],h=o(l),f=null;if(null!==i)for(var p in i)i.hasOwnProperty(p)&&(h[p]=i[p]);var d=null;"string"==typeof h.seed&&(d=new a(h.seed)),h.base_color.length>0&&(f=h.base_color.match(/^#?([0-9a-f]{3})([0-9a-f]{3})?$/i)?s.HEX_to_HSV(h.base_color):s.NAME_to_HSV(h.base_color));for(var v=0;v<h.colors_returned;v++){var m,g,y,b=e(0,360,d);null!==f?(m=n(e(f.h-5,f.h+5,d),0,360),g=0===f.s?0:t(.4,.85,d),y=t(.4,.85,d),u.push({h:m,s:g,v:y})):(m=h.greyscale===!0||h.grayscale===!0?0:h.golden===!0?(b+b/c)%360:null===h.hue||h.full_random===!0?b:n(h.hue,0,360),g=h.greyscale===!0||h.grayscale===!0?0:h.full_random===!0?t(0,1,d):null===h.saturation?.4:n(h.saturation,0,1),y=h.full_random===!0?t(0,1,d):h.greyscale===!0||h.grayscale===!0?t(.15,.75,d):null===h.value?.75:n(h.value,0,1),u.push({h:m,s:g,v:y}))}return r(h.format.toLowerCase(),u),u},s.make_contrast=function(e,t){var a=o(f);if(null!==t)for(var u in t)t.hasOwnProperty(u)&&(a[u]=t[u]);var l,h,p=i(e);if(a.golden===!0)h=e.h*(1+c)%360;else{var d=s.make_scheme(e,{scheme_type:"complementary",format:"hsv"})[1];h=n(d.h-30,0,360)}var v;return"dark"===p?v=n(e.v-.25,0,1):"light"===p&&(v=n(e.v+.25,0,1)),l=[{h:h,s:e.s,v:v}],r(a.format.toLowerCase(),l),l[0]},s}return e()});var Url=function(){"use strict";var e={protocol:"protocol",host:"hostname",port:"port",path:"pathname",query:"search",hash:"hash"},t={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},n=function(n,r){var o=document,a=o.createElement("a"),r=r||o.location.href,s=r.match(/\/\/(.*?)(?::(.*?))?@/)||[];a.href=r;for(var u in e)n[u]=a[e[u]]||"";if(n.protocol=n.protocol.replace(/:$/,""),n.query=n.query.replace(/^\?/,""),n.hash=n.hash.replace(/^#/,""),n.user=s[1]||"",n.pass=s[2]||"",n.port=t[n.protocol]==n.port||0==n.port?"":n.port,n.protocol||/^([a-z]+:)?\/\//.test(r))n.path=n.path.replace(/^\/?/,"/");else{var c=new Url(o.location.href.match(/(.*\/)/)[0]),l=c.path.split("/"),h=n.path.split("/");l.pop();for(var u=0,f=["protocol","user","pass","host","port"],p=f.length;p>u;u++)n[f[u]]=c[f[u]];for(;".."==h[0];)l.pop(),h.shift();n.path=("/"!=r.substring(0,1)?l.join("/"):"")+"/"+h.join("/")}i(n)},r=function(e){return e=e.replace(/\+/g," "),e=e.replace(/%([ef][0-9a-f])%([89ab][0-9a-f])%([89ab][0-9a-f])/gi,function(e,t,n,r){var i=parseInt(t,16)-224,o=parseInt(n,16)-128;if(0==i&&32>o)return e;var a=parseInt(r,16)-128,s=(i<<12)+(o<<6)+a;return s>65535?e:String.fromCharCode(s)}),e=e.replace(/%([cd][0-9a-f])%([89ab][0-9a-f])/gi,function(e,t,n){var r=parseInt(t,16)-192;if(2>r)return e;var i=parseInt(n,16)-128;return String.fromCharCode((r<<6)+i)}),e=e.replace(/%([0-7][0-9a-f])/gi,function(e,t){return String.fromCharCode(parseInt(t,16))})},i=function(e){var t=e.query;e.query=new function(e){for(var t,n=/([^=&]+)(=([^&]*))?/g;t=n.exec(e);){var i=decodeURIComponent(t[1].replace(/\+/g," ")),o=t[3]?r(t[3]):"";null!=this[i]?(this[i]instanceof Array||(this[i]=[this[i]]),this[i].push(o)):this[i]=o}this.clear=function(){for(i in this)this[i]instanceof Function||delete this[i]},this.toString=function(){var e="",t=encodeURIComponent;for(var n in this)if(!(this[n]instanceof Function))if(this[n]instanceof Array){var r=this[n].length;if(r)for(var i=0;r>i;i++)e+=e?"&":"",e+=t(n)+"="+t(this[n][i]);else e+=(e?"&":"")+t(n)+"="}else e+=e?"&":"",e+=t(n)+"="+t(this[n]);return e}}(t)};return function(e){this.toString=function(){return(this.protocol&&this.protocol+"://")+(this.user&&this.user+(this.pass&&":"+this.pass)+"@")+(this.host&&this.host)+(this.port&&":"+this.port)+(this.path&&this.path)+(this.query.toString()&&"?"+this.query)+(this.hash&&"#"+this.hash)},n(this,e)}}();/*! @license Firebase v2.2.9
	    License: https://www.firebase.com/terms/terms-of-service.html */
return function(){function n(e){return void 0!==e}function ba(){}function ca(e){e.vb=function(){return e.uf?e.uf:e.uf=new e}}function da(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function ea(e){return"array"==da(e)}function fa(e){var t=da(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"string"==typeof e}function ga(e){return"number"==typeof e}function ha(e){return"function"==da(e)}function ia(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function ja(e,t,n){return e.call.apply(e.bind,arguments)}function ka(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function q(e,t,n){return q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka,q.apply(null,arguments)}function ma(e,t){function n(){}n.prototype=t.prototype,e.$g=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wg=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function r(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function na(e,t){var n,r={};for(n in e)r[n]=t.call(void 0,e[n],n,e);return r}function oa(e,t){for(var n in e)if(!t.call(void 0,e[n],n,e))return!1;return!0}function pa(e){var t,n=0;for(t in e)n++;return n}function qa(e){for(var t in e)return t}function ra(e){var t,n=[],r=0;for(t in e)n[r++]=e[t];return n}function sa(e){var t,n=[],r=0;for(t in e)n[r++]=t;return n}function ta(e,t){for(var n in e)if(e[n]==t)return!0;return!1}function ua(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r}function va(e,t){var n=ua(e,t,void 0);return n&&e[n]}function wa(e){for(var t in e)return!1;return!0}function xa(e){var t,n={};for(t in e)n[t]=e[t];return n}function za(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<ya.length;o++)n=ya[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Aa(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)}function Ba(){this.Sd=void 0}function Ca(e,t,n){switch(typeof t){case"string":Da(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?t:"null");break;case"boolean":n.push(t);break;case"undefined":n.push("null");break;case"object":if(null==t){n.push("null");break}if(ea(t)){var r=t.length;n.push("[");for(var i="",o=0;r>o;o++)n.push(i),i=t[o],Ca(e,e.Sd?e.Sd.call(t,String(o),i):i,n),i=",";n.push("]");break}n.push("{"),r="";for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i=t[o],"function"!=typeof i&&(n.push(r),Da(o,n),n.push(":"),Ca(e,e.Sd?e.Sd.call(t,o,i):i,n),r=","));n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof t)}}function Da(e,t){t.push('"',e.replace(Fa,function(e){if(e in Ea)return Ea[e];var t=e.charCodeAt(0),n="\\u";return 16>t?n+="000":256>t?n+="00":4096>t&&(n+="0"),Ea[e]=n+t.toString(16)}),'"')}function Ga(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^la()).toString(36)}function Ka(){this.Wa=-1}function La(){this.Wa=-1,this.Wa=64,this.P=[],this.ne=[],this.Uf=[],this.Ld=[],this.Ld[0]=128;for(var e=1;e<this.Wa;++e)this.Ld[e]=0;this.ee=this.ac=0,this.reset()}function Ma(e,t,n){n||(n=0);var r=e.Uf;if(p(t))for(var i=0;16>i;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(i=0;16>i;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(i=16;80>i;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=4294967295&(o<<1|o>>>31)}t=e.P[0],n=e.P[1];for(var a,s=e.P[2],u=e.P[3],c=e.P[4],i=0;80>i;i++)40>i?20>i?(o=u^n&(s^u),a=1518500249):(o=n^s^u,a=1859775393):60>i?(o=n&s|u&(n|s),a=2400959708):(o=n^s^u,a=3395469782),o=(t<<5|t>>>27)+o+c+a+r[i]&4294967295,c=u,u=s,s=4294967295&(n<<30|n>>>2),n=t,t=o;e.P[0]=e.P[0]+t&4294967295,e.P[1]=e.P[1]+n&4294967295,e.P[2]=e.P[2]+s&4294967295,e.P[3]=e.P[3]+u&4294967295,e.P[4]=e.P[4]+c&4294967295}function Ta(e,t){var n=Ua(e,t,void 0);return 0>n?null:p(e)?e.charAt(n):e[n]}function Ua(e,t,n){for(var r=e.length,i=p(e)?e.split(""):e,o=0;r>o;o++)if(o in i&&t.call(n,i[o],o,e))return o;return-1}function Va(e,t){var n=Na(e,t);n>=0&&u.splice.call(e,n,1)}function Wa(e,t,n){return 2>=arguments.length?u.slice.call(e,t):u.slice.call(e,t,n)}function Xa(e,t){e.sort(t||Ya)}function Ya(e,t){return e>t?1:t>e?-1:0}function fb(e,t){if(!fa(e))throw Error("encodeByteArray takes an array as a parameter");gb();for(var n=t?db:cb,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,o=(3&o)<<4|s>>4,s=(15&s)<<2|c>>6,c=63&c;u||(c=64,a||(s=64)),r.push(n[l],n[o],n[s],n[c])}return r.join("")}function gb(){if(!cb){cb={},db={},eb={};for(var e=0;65>e;e++)cb[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),db[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e),eb[db[e]]=e,e>=62&&(eb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)]=e)}}function v(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function w(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function ib(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function jb(e){var t={};return ib(e,function(e,n){t[e]=n}),t}function kb(e){var t=[];return ib(e,function(e,n){ea(n)?Oa(n,function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.length?"&"+t.join("&"):""}function lb(e){var t={};return e=e.replace(/^\?/,"").split("&"),Oa(e,function(e){e&&(e=e.split("="),t[e[0]]=e[1])}),t}function x(e,t,n,r){var i;if(t>r?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function z(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e=e+" failed: "+(r+" argument ")}function A(e,t,r,i){if((!i||n(r))&&!ha(r))throw Error(z(e,t,i)+"must be a valid function.")}function mb(e,t,r){if(n(r)&&(!ia(r)||null===r))throw Error(z(e,t,!0)+"must be a valid context object.")}function nb(e){return"undefined"!=typeof JSON&&n(JSON.parse)?JSON.parse(e):Aa(e)}function B(e){if("undefined"!=typeof JSON&&n(JSON.stringify))e=JSON.stringify(e);else{var t=[];Ca(new Ba,e,t),e=t.join("")}return e}function ob(){this.Wd=C}function pb(){}function rb(e,t,n){this.Rf=e,this.Ka=t,this.Kd=n}function vb(){this.ub=[]}function wb(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.Zb();null===n||o.ca(n.Zb())||(e.ub.push(n),n=null),null===n&&(n=new xb(o)),n.add(i)}n&&e.ub.push(n)}function yb(e,t,n){wb(e,n),zb(e,function(e){return e.ca(t)})}function Ab(e,t,n){wb(e,n),zb(e,function(e){return e.contains(t)||t.contains(e)})}function zb(e,t){for(var n=!0,r=0;r<e.ub.length;r++){var i=e.ub[r];if(i)if(i=i.Zb(),t(i)){for(var i=e.ub[r],o=0;o<i.vd.length;o++){var a=i.vd[o];if(null!==a){i.vd[o]=null;var s=a.Vb();Bb&&Cb("event: "+a.toString()),Db(s)}}e.ub[r]=null}else n=!1}n&&(e.ub=[])}function xb(e){this.ra=e,this.vd=[]}function D(e,t,n,r){this.type=e,this.Ja=t,this.Xa=n,this.Le=r,this.Qd=void 0}function Eb(e){return new D(Fb,e)}function Gb(e,t,n,r){this.ve=t,this.$d=n,this.Qd=r,this.ud=e}function Hb(e,t,n){this.ve=e,this.error=t,this.path=n}function tb(e,t,n){this.w=e,this.ea=t,this.Ub=n}function Ib(e){return e.ea}function Jb(e,t){return t.e()?e.ea&&!e.Ub:sb(e,E(t))}function sb(e,t){return e.ea&&!e.Ub||e.w.Da(t)}function Kb(e){this.eg=e,this.Dd=null}function Lb(e,t){this.Nf={},this.fd=new Kb(e),this.ba=t;var n=1e4+2e4*Math.random();setTimeout(q(this.If,this),Math.floor(n))}function Mb(){this.Ec={}}function Nb(e,t,r){n(r)||(r=1),v(e.Ec,t)||(e.Ec[t]=0),e.Ec[t]+=r}function Qb(e){return e=e.toString(),Ob[e]||(Ob[e]=new Mb),Ob[e]}function Rb(e,t){var n=e.toString();return Pb[n]||(Pb[n]=t()),Pb[n]}function F(e,t){this.name=e,this.S=t}function Sb(e,t){return new F(e,t)}function Tb(e,t){return Ub(e.name,t.name)}function Vb(e,t){return Ub(e,t)}function Wb(e,t,n){this.type=Xb,this.source=e,this.path=t,this.Ga=n}function Yb(e,t){this.type=Zb,this.source=e,this.path=t}function $b(e,t){this.La=e,this.wa=t?t:ac}function bc(e,t){for(var n,r=e.wa,i=null;!r.e();){if(n=e.La(t,r.key),0===n){if(r.left.e())return i?i.key:null;for(r=r.left;!r.right.e();)r=r.right;return r.key}0>n?r=r.left:n>0&&(i=r,r=r.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function cc(e,t,n,r,i){for(this.Ud=i||null,this.Ge=r,this.Qa=[],i=1;!e.e();)if(i=t?n(e.key,t):1,r&&(i*=-1),0>i)e=this.Ge?e.left:e.right;else{if(0===i){this.Qa.push(e);break}this.Qa.push(e),e=this.Ge?e.right:e.left}}function J(e){if(0===e.Qa.length)return null;var t,n=e.Qa.pop();if(t=e.Ud?e.Ud(n.key,n.value):{key:n.key,value:n.value},e.Ge)for(n=n.left;!n.e();)e.Qa.push(n),n=n.right;else for(n=n.right;!n.e();)e.Qa.push(n),n=n.left;return t}function dc(e){if(0===e.Qa.length)return null;var t;return t=e.Qa,t=t[t.length-1],e.Ud?e.Ud(t.key,t.value):{key:t.key,value:t.value}}function ec(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:!0,this.left=null!=r?r:ac,this.right=null!=i?i:ac}function fc(e){return e.left.e()?e:fc(e.left)}function hc(e){return e.left.e()?ac:(e.left.fa()||e.left.left.fa()||(e=ic(e)),e=e.X(null,null,null,hc(e.left),null),gc(e))}function gc(e){return e.right.fa()&&!e.left.fa()&&(e=lc(e)),e.left.fa()&&e.left.left.fa()&&(e=jc(e)),e.left.fa()&&e.right.fa()&&(e=kc(e)),e}function ic(e){return e=kc(e),e.right.left.fa()&&(e=e.X(null,null,null,null,jc(e.right)),e=lc(e),e=kc(e)),e}function lc(e){return e.right.X(null,null,e.color,e.X(null,null,!0,null,e.right.left),null)}function jc(e){return e.left.X(null,null,e.color,null,e.X(null,null,!0,e.left.right,null))}function kc(e){return e.X(null,null,!e.color,e.left.X(null,null,!e.left.color,null,null),e.right.X(null,null,!e.right.color,null,null))}function mc(){}function nc(e,t){return e&&"object"==typeof e?(K(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e}function oc(e,t){var n=new pc;return qc(e,new L(""),function(e,r){n.nc(e,rc(r,t))}),n}function rc(e,t){var n,r=e.B().H(),r=nc(r,t);if(e.L()){var i=nc(e.Ca(),t);return i!==e.Ca()||r!==e.B().H()?new sc(i,M(r)):e}return n=e,r!==e.B().H()&&(n=n.ga(new sc(r))),e.R(N,function(e,r){var i=rc(r,t);i!==r&&(n=n.O(e,i))}),n}function L(e,t){if(1==arguments.length){this.n=e.split("/");for(var n=0,r=0;r<this.n.length;r++)0<this.n[r].length&&(this.n[n]=this.n[r],n++);this.n.length=n,this.Z=0}else this.n=e,this.Z=t}function O(e,t){var n=E(e);if(null===n)return t;if(n===E(t))return O(H(e),H(t));throw Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function E(e){return e.Z>=e.n.length?null:e.n[e.Z]}function tc(e){return e.n.length-e.Z}function H(e){var t=e.Z;return t<e.n.length&&t++,new L(e.n,t)}function uc(e){return e.Z<e.n.length?e.n[e.n.length-1]:null}function vc(e,t){this.Ra=e.slice(),this.Ha=Math.max(1,this.Ra.length),this.lf=t;for(var n=0;n<this.Ra.length;n++)this.Ha+=wc(this.Ra[n]);xc(this)}function xc(e){if(768<e.Ha)throw Error(e.lf+"has a key path longer than 768 bytes ("+e.Ha+").");if(32<e.Ra.length)throw Error(e.lf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+yc(e))}function yc(e){return 0==e.Ra.length?"":"in property '"+e.Ra.join(".")+"'"}function zc(){this.wc={}}function Ac(e){this.Fc=e,this.Pd="firebase:"}function Bc(e){try{if("undefined"!=typeof window&&"undefined"!=typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ac(t)}}catch(n){}return new zc}function Dc(e,t,n,r,i){this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.lb=t,this.Db=n,this.Ug=r,this.Od=i||"",this.Pa=Cc.get("host:"+e)||this.host}function Ec(e,t){t!==e.Pa&&(e.Pa=t,"s-"===e.Pa.substr(0,2)&&Cc.set("host:"+e.host,e.Pa))}function K(e,t){if(!e)throw Gc(t)}function Gc(e){return Error("Firebase ("+hb+") INTERNAL ASSERT FAILED: "+e)}function Hc(e){try{var t;if("undefined"!=typeof atob)t=atob(e);else{gb();for(var n=eb,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;var s=i<e.length?n[e.charAt(i)]:64;++i;var u=i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!=s&&(r.push(a<<4&240|s>>2),64!=u&&r.push(s<<6&192|u))}if(8192>r.length)t=String.fromCharCode.apply(null,r);else{for(e="",n=0;n<r.length;n+=8192)e+=String.fromCharCode.apply(null,Wa(r,n,n+8192));t=e}}return t}catch(c){Cb("base64Decode failed: ",c)}return null}function Ic(e){var t=Jc(e);e=new La,e.update(t);var t=[],n=8*e.ee;56>e.ac?e.update(e.Ld,56-e.ac):e.update(e.Ld,e.Wa-(e.ac-56));for(var r=e.Wa-1;r>=56;r--)e.ne[r]=255&n,n/=256;for(Ma(e,e.ne),r=n=0;5>r;r++)for(var i=24;i>=0;i-=8)t[n]=e.P[r]>>i&255,++n;return fb(t)}function Kc(e){for(var t="",n=0;n<arguments.length;n++)t=fa(arguments[n])?t+Kc.apply(null,arguments[n]):"object"==typeof arguments[n]?t+B(arguments[n]):t+arguments[n],t+=" ";return t}function Cb(e){if(!0===Lc&&(Lc=!1,null===Bb&&!0===P.get("logging_enabled")&&Mc(!0)),Bb){var t=Kc.apply(null,arguments);Bb(t)}}function Nc(e){return function(){Cb(e,arguments)}}function Oc(e){if("undefined"!=typeof console){var t="FIREBASE INTERNAL ERROR: "+Kc.apply(null,arguments);"undefined"!=typeof console.error?console.error(t):console.log(t)}}function Pc(e){var t=Kc.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+t)}function Q(e){if("undefined"!=typeof console){var t="FIREBASE WARNING: "+Kc.apply(null,arguments);"undefined"!=typeof console.warn?console.warn(t):console.log(t)}}function Qc(e){var t="",n="",r="",i="",o=!0,a="https",s=443;if(p(e)){var u=e.indexOf("//");for(u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2)),u=e.indexOf("/"),-1===u&&(u=e.length),t=e.substring(0,u),i="",e=e.substring(u).split("/"),u=0;u<e.length;u++)if(0<e[u].length){var c=e[u];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch(l){}i+="/"+c}e=t.split("."),3===e.length?(n=e[1],r=e[0].toLowerCase()):2===e.length&&(n=e[0]),u=t.indexOf(":"),u>=0&&(o="https"===a||"wss"===a,s=t.substring(u+1),isFinite(s)&&(s=String(s)),s=p(s)?/^\s*-?0x/i.test(s)?parseInt(s,16):parseInt(s,10):NaN)}return{host:t,port:s,domain:n,Rg:r,lb:o,scheme:a,$c:i}}function Rc(e){return ga(e)&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)}function Sc(e){if("complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}function Ub(e,t){if(e===t)return 0;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return-1;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return 1;var n=Tc(e),r=Tc(t);return null!==n?null!==r?0==n-r?e.length-t.length:n-r:-1:null!==r?1:t>e?-1:1}function Uc(e,t){if(t&&e in t)return t[e];throw Error("Missing required key ("+e+") in object: "+B(t))}function Vc(e){if("object"!=typeof e||null===e)return B(e);var t,n=[];for(t in e)n.push(t);n.sort(),t="{";for(var r=0;r<n.length;r++)0!==r&&(t+=","),t+=B(n[r]),t+=":",t+=Vc(e[n[r]]);return t+"}"}function Wc(e,t){if(e.length<=t)return[e];for(var n=[],r=0;r<e.length;r+=t)r+t>e?n.push(e.substring(r,e.length)):n.push(e.substring(r,r+t));return n}function Xc(e,t){if(ea(e))for(var n=0;n<e.length;++n)t(n,e[n]);else r(e,t)}function Yc(e){K(!Rc(e),"Invalid JSON number");var t,n,r,i;for(0===e?(r=n=0,t=-(1/0)===1/e?1:0):(t=0>e,e=Math.abs(e),e>=Math.pow(2,-1022)?(r=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=r+1023,r=Math.round(e*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074)))),i=[],e=52;e;--e)i.push(r%2?1:0),r=Math.floor(r/2);for(e=11;e;--e)i.push(n%2?1:0),n=Math.floor(n/2);for(i.push(t?1:0),i.reverse(),t=i.join(""),n="",e=0;64>e;e+=8)r=parseInt(t.substr(e,8),2).toString(16),1===r.length&&(r="0"+r),n+=r;return n.toLowerCase()}function Tc(e){return Zc.test(e)&&(e=Number(e),e>=-2147483648&&2147483647>=e)?e:null}function Db(e){try{e()}catch(t){setTimeout(function(){throw Q("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}}function R(e,t){if(ha(e)){var n=Array.prototype.slice.call(arguments,1).slice();Db(function(){e.apply(null,n)})}}function Jc(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i>=55296&&56319>=i&&(i-=55296,r++,K(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(i<<10)+(e.charCodeAt(r)-56320)),128>i?t[n++]=i:(2048>i?t[n++]=i>>6|192:(65536>i?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t}function wc(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t++:2048>r?t+=2:r>=55296&&56319>=r?(t+=4,n++):t+=3}return t}function $c(e){var t={},n={},r={},i="";try{var o=e.split("."),t=nb(Hc(o[0])||""),n=nb(Hc(o[1])||""),i=o[2],r=n.d||{};delete n.d}catch(a){}return{Xg:t,Bc:n,data:r,Og:i}}function ad(e){return e=$c(e).Bc,"object"==typeof e&&e.hasOwnProperty("iat")?w(e,"iat"):null}function bd(e){e=$c(e);var t=e.Bc;return!!e.Og&&!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}function cd(e){this.V=e,this.g=e.o.g}function dd(e,t,n,r){var i=[],o=[];return Oa(t,function(t){"child_changed"===t.type&&e.g.Ad(t.Le,t.Ja)&&o.push(new D("child_moved",t.Ja,t.Xa))}),ed(e,i,"child_removed",t,r,n),ed(e,i,"child_added",t,r,n),ed(e,i,"child_moved",o,r,n),ed(e,i,"child_changed",t,r,n),ed(e,i,Fb,t,r,n),i}function ed(e,t,n,r,i,o){r=Pa(r,function(e){return e.type===n}),Xa(r,q(e.fg,e)),Oa(r,function(n){var r=fd(e,n,o);Oa(i,function(i){i.Kf(n.type)&&t.push(i.createEvent(r,e.V))})})}function fd(e,t,n){return"value"!==t.type&&"child_removed"!==t.type&&(t.Qd=n.rf(t.Xa,t.Ja,e.g)),t}function gd(){this.bb={}}function hd(e,t){var n=t.type,r=t.Xa;K("child_added"==n||"child_changed"==n||"child_removed"==n,"Only child changes supported for tracking"),K(".priority"!==r,"Only non-priority child changes can be tracked.");var i=w(e.bb,r);if(i){var o=i.type;if("child_added"==n&&"child_removed"==o)e.bb[r]=new D("child_changed",t.Ja,r,i.Ja);else if("child_removed"==n&&"child_added"==o)delete e.bb[r];else if("child_removed"==n&&"child_changed"==o)e.bb[r]=new D("child_removed",i.Le,r);else if("child_changed"==n&&"child_added"==o)e.bb[r]=new D("child_added",t.Ja,r);else{if("child_changed"!=n||"child_changed"!=o)throw Gc("Illegal combination of changes: "+t+" occurred after "+i);e.bb[r]=new D("child_changed",t.Ja,r,i.Le)}}else e.bb[r]=t}function id(e,t,n){this.Rb=e,this.qb=t,this.sb=n||null}function jd(e,t,n){this.ha=e,this.qb=t,this.sb=n}function kd(e){this.g=e}function ld(e){this.Ce=new kd(e.g),this.g=e.g;var t;e.ma?(t=md(e),t=e.g.Pc(nd(e),t)):t=e.g.Tc(),this.ed=t,e.pa?(t=od(e),e=e.g.Pc(pd(e),t)):e=e.g.Qc(),this.Gc=e}function qd(e){this.sa=new ld(e),this.g=e.g,K(e.ja,"Only valid if limit has been set"),this.ka=e.ka,this.Jb=!rd(e)}function sd(e,t,n,r,i,o){var a;if(e.Jb){var s=td(e.g);a=function(e,t){return s(t,e)}}else a=td(e.g);K(t.Eb()==e.ka,"");var u=new F(n,r),c=e.Jb?ud(t,e.g):vd(t,e.g),l=e.sa.matches(u);if(t.Da(n)){for(var h=t.J(n),c=i.ze(e.g,c,e.Jb);null!=c&&(c.name==n||t.Da(c.name));)c=i.ze(e.g,c,e.Jb);return i=null==c?1:a(c,u),l&&!r.e()&&i>=0?(null!=o&&hd(o,new D("child_changed",r,n,h)),t.O(n,r)):(null!=o&&hd(o,new D("child_removed",h,n)),t=t.O(n,C),null!=c&&e.sa.matches(c)?(null!=o&&hd(o,new D("child_added",c.S,c.name)),t.O(c.name,c.S)):t)}return r.e()?t:l&&0<=a(c,u)?(null!=o&&(hd(o,new D("child_removed",c.S,c.name)),hd(o,new D("child_added",r,n))),t.O(n,r).O(c.name,C)):t}function wd(e,t){this.ke=e,this.dg=t}function yd(e){this.U=e}function Hd(e,t,n,r,i,o){var a=t.Q;if(null!=r.tc(n))return t;var s;if(n.e())K(Ib(t.C()),"If change path is empty, we must have complete server data"),t.C().Ub?(i=ub(t),r=r.yc(i instanceof T?i:C)):r=r.za(ub(t)),o=e.U.xa(t.Q.j(),r,o);else{var u=E(n);if(".priority"==u)K(1==tc(n),"Can't have a priority with additional path components"),o=a.j(),s=t.C().j(),r=r.ld(n,o,s),o=null!=r?e.U.ga(o,r):a.j();else{var c=H(n);sb(a,u)?(s=t.C().j(),r=r.ld(n,a.j(),s),r=null!=r?a.j().J(u).K(c,r):a.j().J(u)):r=r.xc(u,t.C()),o=null!=r?e.U.K(a.j(),u,r,c,i,o):a.j()}}return Fd(t,o,a.ea||n.e(),e.U.Na())}function Ad(e,t,n,r,i,o,a,s){var u=t.C();if(a=a?e.U:e.U.Wb(),n.e())r=a.xa(u.j(),r,null);else if(a.Na()&&!u.Ub)r=u.j().K(n,r),r=a.xa(u.j(),r,null);else{var c=E(n);if(!Jb(u,n)&&1<tc(n))return t;var l=H(n);r=u.j().J(c).K(l,r),r=".priority"==c?a.ga(u.j(),r):a.K(u.j(),c,r,l,qb,null)}return u=u.ea||n.e(),t=new Id(t.Q,new tb(r,u,a.Na())),Hd(e,t,n,i,new rb(i,t,o),s)}function zd(e,t,n,r,i,o,a){var s=t.Q;if(i=new rb(i,t,o),n.e())a=e.U.xa(t.Q.j(),r,a),e=Fd(t,a,!0,e.U.Na());else if(o=E(n),".priority"===o)a=e.U.ga(t.Q.j(),r),e=Fd(t,a,s.ea,s.Ub);else{n=H(n);var u=s.j().J(o);if(!n.e()){var c=i.qf(o);r=null!=c?".priority"===uc(n)&&c.Y(n.parent()).e()?c:c.K(n,r):C}u.ca(r)?e=t:(a=e.U.K(s.j(),o,r,n,i,a),e=Fd(t,a,s.ea,e.U.Na()))}return e}function Cd(e,t,n,r,i,o,a){var s=t;return Kd(r,function(r,u){var c=n.u(r);sb(t.Q,E(c))&&(s=zd(e,s,c,u,i,o,a))}),Kd(r,function(r,u){var c=n.u(r);sb(t.Q,E(c))||(s=zd(e,s,c,u,i,o,a))}),s}function Ld(e,t){return Kd(t,function(t,n){e=e.K(t,n)}),e}function Dd(e,t,n,r,i,o,a,s){if(t.C().j().e()&&!Ib(t.C()))return t;var u=t;n=n.e()?r:Md(Nd,n,r);var c=t.C().j();return n.children.ia(function(n,r){if(c.Da(n)){var l=t.C().j().J(n),l=Ld(l,r);u=Ad(e,u,new L(n),l,i,o,a,s)}}),n.children.ia(function(n,r){var l=!sb(t.C(),n)&&null==r.value;c.Da(n)||l||(l=t.C().j().J(n),l=Ld(l,r),u=Ad(e,u,new L(n),l,i,o,a,s))}),u}function Gd(e,t,n,r,i,o,a){if(null!=i.tc(n))return t;var s=t.C();if(null!=r.value){if(n.e()&&s.ea||Jb(s,n))return Ad(e,t,n,s.j().Y(n),i,o,!1,a);if(n.e()){var u=Nd;return s.j().R(Od,function(e,t){u=u.set(new L(e),t)}),Dd(e,t,n,u,i,o,!1,a)}return t}return u=Nd,Kd(r,function(e){var t=n.u(e);Jb(s,t)&&(u=u.set(e,s.j().Y(t)))}),Dd(e,t,n,u,i,o,!1,a)}function Pd(){}function td(e){return q(e.compare,e)}function Sd(e){this.cc=e}function Ud(){}function Vd(){}function Wd(){}function Zd(){this.Tb=this.pa=this.Lb=this.ma=this.ja=!1,this.ka=0,this.Nb="",this.ec=null,this.yb="",this.bc=null,this.wb="",this.g=N}function rd(e){return""===e.Nb?e.ma:"l"===e.Nb}function nd(e){return K(e.ma,"Only valid if start has been set"),e.ec}function md(e){return K(e.ma,"Only valid if start has been set"),e.Lb?e.yb:"[MIN_NAME]"}function pd(e){return K(e.pa,"Only valid if end has been set"),e.bc}function od(e){return K(e.pa,"Only valid if end has been set"),e.Tb?e.wb:"[MAX_NAME]"}function ae(e){var t=new Zd;return t.ja=e.ja,t.ka=e.ka,t.ma=e.ma,t.ec=e.ec,t.Lb=e.Lb,t.yb=e.yb,t.pa=e.pa,t.bc=e.bc,t.Tb=e.Tb,t.wb=e.wb,t.g=e.g,t}function be(e,t){var n=ae(e);return n.g=t,n}function ce(e){var t={};if(e.ma&&(t.sp=e.ec,e.Lb&&(t.sn=e.yb)),e.pa&&(t.ep=e.bc,e.Tb&&(t.en=e.wb)),e.ja){t.l=e.ka;var n=e.Nb;""===n&&(n=rd(e)?"l":"r"),t.vf=n}return e.g!==N&&(t.i=e.g.toString()),t}function de(e){return!(e.ma||e.pa||e.ja)}function ee(e){var t={};if(de(e)&&e.g==N)return t;var n;return e.g===N?n="$priority":e.g===Yd?n="$value":e.g===Od?n="$key":(K(e.g instanceof Sd,"Unrecognized index type!"),n=e.g.toString()),t.orderBy=B(n),e.ma&&(t.startAt=B(e.ec),e.Lb&&(t.startAt+=","+B(e.yb))),e.pa&&(t.endAt=B(e.bc),e.Tb&&(t.endAt+=","+B(e.wb))),e.ja&&(rd(e)?t.limitToFirst=e.ka:t.limitToLast=e.ka),t}function fe(e,t){this.Bd=e,this.dc=t}function ge(e,t,n){var r=na(e.Bd,function(r,i){var o=w(e.dc,i);if(K(o,"Missing index implementation for "+i),r===Qd){if(o.Ic(t.S)){for(var a=[],s=n.Xb(Sb),u=J(s);u;)u.name!=t.name&&a.push(u),u=J(s);return a.push(t),he(a,td(o))}return Qd}return o=n.get(t.name),a=r,o&&(a=a.remove(new F(t.name,o))),a.Oa(t,t.S)});return new fe(r,e.dc)}function ie(e,t,n){var r=na(e.Bd,function(e){if(e===Qd)return e;var r=n.get(t.name);return r?e.remove(new F(t.name,r)):e});return new fe(r,e.dc)}function sc(e,t){this.A=e,K(n(this.A)&&null!==this.A,"LeafNode shouldn't be created with null/undefined value."),this.aa=t||C,ke(this.aa),this.Cb=null}function T(e,t,n){this.m=e,(this.aa=t)&&ke(this.aa),e.e()&&K(!this.aa||this.aa.e(),"An empty node cannot have a priority"),this.xb=n,this.Cb=null}function ud(e,t){var n;return n=(n=oe(e,t))?(n=n.Sc())&&n.name:e.m.Sc(),n?new F(n,e.m.get(n)):null}function vd(e,t){var n;return n=(n=oe(e,t))?(n=n.fc())&&n.name:e.m.fc(),n?new F(n,e.m.get(n)):null}function oe(e,t){return t===Od?null:e.xb.get(t.toString())}function M(e,t){if(null===e)return C;var n=null;if("object"==typeof e&&".priority"in e?n=e[".priority"]:"undefined"!=typeof t&&(n=t),K(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new sc(e,M(n));if(e instanceof Array){var i=C,o=e;return r(o,function(e,t){if(v(o,t)&&"."!==t.substring(0,1)){var n=M(e);!n.L()&&n.e()||(i=i.O(t,n))}}),i.ga(M(n))}var a=[],s=!1,u=e;if(ib(u,function(e){if("string"!=typeof e||"."!==e.substring(0,1)){var t=M(u[e]);t.e()||(s=s||!t.B().e(),a.push(new F(e,t)))}}),0==a.length)return C;var c=he(a,Tb,function(e){return e.name},Vb);if(s){var l=he(a,td(N));return new T(c,M(n),new fe({".priority":l},{".priority":N}))}return new T(c,M(n),je)}function qe(e){this.count=parseInt(Math.log(e+1)/pe,10),this.jf=this.count-1,this.cg=e+1&parseInt(Array(this.count+1).join("1"),2)}function re(e){var t=!(e.cg&1<<e.jf);return e.jf--,t}function he(e,t,n,r){function i(t,r){var o=r-t;if(0==o)return null;if(1==o){var a=e[t],s=n?n(a):a;return new ec(s,a.S,!1,null,null)}var a=parseInt(o/2,10)+t,o=i(t,a),u=i(a+1,r),a=e[a],s=n?n(a):a;return new ec(s,a.S,!1,o,u)}e.sort(t);var o=function(t){function r(t,r){var u=s-t,c=s;s-=t;var c=i(u+1,c),u=e[u],l=n?n(u):u,c=new ec(l,u.S,r,null,c);o?o.left=c:a=c,o=c}for(var o=null,a=null,s=e.length,u=0;u<t.count;++u){var c=re(t),l=Math.pow(2,t.count-(u+1));c?r(l,!1):(r(l,!1),r(l,!0))}return a}(new qe(e.length));return null!==o?new $b(r||t,o):new $b(r||t)}function me(e){return"number"==typeof e?"number:"+Yc(e):"string:"+e}function ke(e){if(e.L()){var t=e.H();K("string"==typeof t||"number"==typeof t||"object"==typeof t&&v(t,".sv"),"Priority must be a string or number.")}else K(e===Td||e.e(),"priority of unexpected type.");K(e===Td||e.B().e(),"Priority nodes can't have a priority of their own.")}function se(){T.call(this,new $b(Vb),C,je)}function Id(e,t){this.Q=e,this.Yd=t}function Fd(e,t,n,r){return new Id(new tb(t,n,r),e.Yd)}function Jd(e){return e.Q.ea?e.Q.j():null}function ub(e){return e.Yd.ea?e.Yd.j():null}function te(e,t){this.V=e;var n=e.o,r=new kd(n.g),n=de(n)?new kd(n.g):n.ja?new qd(n):new ld(n);this.Hf=new yd(n);var i=t.C(),o=t.Q,a=r.xa(C,i.j(),null),s=n.xa(C,o.j(),null);this.Ka=new Id(new tb(s,o.ea,n.Na()),new tb(a,i.ea,r.Na())),this.Ya=[],this.jg=new cd(e)}function ue(e){return e.V}function we(e,t){var n=e.Ka.Q,r=[];return n.j().L()||n.j().R(N,function(e,t){r.push(new D("child_added",t,e))}),n.ea&&r.push(Eb(n.j())),ve(e,r,n.j(),t)}function ve(e,t,n,r){return dd(e.jg,t,n,r?[r]:e.Ya)}function xe(e,t,n){this.type=Bd,this.source=e,this.path=t,this.children=n}function ye(e,t){this.f=Nc("p:rest:"),this.F=e,this.Hb=t,this.Aa=null,this.$={}}function ze(e,t){if(n(t))return"tag$"+t;var r=e.o;return K(de(r)&&r.g==N,"should have a tag if it's not a default query."),e.path.toString()}function Ae(e,t,n,r){n=n||{},n.format="export",e.Aa&&(n.auth=e.Aa);var i=(e.F.lb?"https://":"http://")+e.F.host+t+"?"+kb(n);e.f("Sending REST request for "+i);var o=new XMLHttpRequest;o.onreadystatechange=function(){if(r&&4===o.readyState){e.f("REST Response for "+i+" received. status:",o.status,"response:",o.responseText);var t=null;if(200<=o.status&&300>o.status){try{t=nb(o.responseText)}catch(n){Q("Failed to parse JSON response for "+i+": "+o.responseText)}r(null,t)}else 401!==o.status&&404!==o.status&&Q("Got unsuccessful REST response for "+i+" Status: "+o.status),r(o.status);r=null}},o.open("GET",i,!0),o.send()}function Be(e,t){this.value=e,this.children=t||Ce}function De(e){var t=Nd;return r(e,function(e,n){t=t.set(new L(n),e)}),t}function Ee(e,t,n){if(null!=e.value&&n(e.value))return{path:G,value:e.value};if(t.e())return null;var r=E(t);return e=e.children.get(r),null!==e?(t=Ee(e,H(t),n),null!=t?{path:new L(r).u(t.path),value:t.value}:null):null}function Fe(e,t){return Ee(e,t,function(){return!0})}function Md(e,t,n){if(t.e())return n;var r=E(t);return t=Md(e.children.get(r)||Nd,H(t),n),r=t.e()?e.children.remove(r):e.children.Oa(r,t),new Be(e.value,r)}function Ge(e,t){return He(e,G,t)}function He(e,t,n){var r={};return e.children.ia(function(e,i){r[e]=He(i,t.u(e),n)}),n(t,e.value,r)}function Ie(e,t,n){return Je(e,t,G,n)}function Je(e,t,n,r){var i=e.value?r(n,e.value):!1;return i?i:t.e()?null:(i=E(t),(e=e.children.get(i))?Je(e,H(t),n.u(i),r):null)}function Ke(e,t,n){var r=G;if(!t.e()){var i=!0;e.value&&(i=n(r,e.value)),!0===i&&(i=E(t),(e=e.children.get(i))&&Le(e,H(t),r.u(i),n))}}function Le(e,t,n,r){if(t.e())return e;e.value&&r(n,e.value);var i=E(t);return(e=e.children.get(i))?Le(e,H(t),n.u(i),r):Nd}function Kd(e,t){Me(e,G,t)}function Me(e,t,n){e.children.ia(function(e,r){Me(r,t.u(e),n)}),e.value&&n(t,e.value)}function Ne(e,t){e.children.ia(function(e,n){n.value&&t(e,n.value)})}function Oe(e,t,n){this.type=Ed,this.source=Pe,this.path=e,this.Qb=t,this.Vd=n}function Qe(e,t,n,r){this.xe=e,this.pf=t,this.Ib=n,this.bf=r,K(!r||t,"Tagged queries must be from server.")}function Se(e){this.W=e}function Ue(e,t,n){if(t.e())return new Se(new Be(n));var r=Fe(e.W,t);if(null!=r){var i=r.path,r=r.value;return t=O(i,t),r=r.K(t,n),new Se(e.W.set(i,r))}return e=Md(e.W,t,new Be(n)),new Se(e)}function Ve(e,t,n){var r=e;return ib(n,function(e,n){r=Ue(r,t.u(e),n)}),r}function We(e,t){var n=Fe(e.W,t);return null!=n?e.W.get(n.path).Y(O(n.path,t)):null}function Xe(e){var t=[],n=e.W.value;return null!=n?n.L()||n.R(N,function(e,n){t.push(new F(e,n))}):e.W.children.ia(function(e,n){null!=n.value&&t.push(new F(e,n.value))}),t}function Ye(e,t){if(t.e())return e;var n=We(e,t);return new Se(null!=n?new Be(n):e.W.subtree(t))}function Ze(e,t,n){if(null!=t.value)return n.K(e,t.value);var r=null;return t.children.ia(function(t,i){".priority"===t?(K(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Ze(e.u(t),i,n)}),n.Y(e).e()||null===r||(n=n.K(e.u(".priority"),r)),n}function $e(){this.T=Te,this.na=[],this.Mc=-1}function af(e,t){for(var n=0;n<e.na.length;n++){var r=e.na[n];if(r.kd===t)return r}return null}function bf(e,t){return e.Ga?e.path.contains(t):!!ua(e.children,function(n,r){return e.path.u(r).contains(t)})}function df(e){return e.visible}function cf(e,t,n){for(var r=Te,i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path;if(o.Ga)n.contains(a)?(a=O(n,a),r=Ue(r,a,o.Ga)):a.contains(n)&&(a=O(a,n),r=Ue(r,G,o.Ga.Y(a)));else{if(!o.children)throw Gc("WriteRecord should have .snap or .children");
n.contains(a)?(a=O(n,a),r=Ve(r,a,o.children)):a.contains(n)&&(a=O(a,n),a.e()?r=Ve(r,G,o.children):(o=w(o.children,E(a)))&&(o=o.Y(H(a)),r=Ue(r,G,o)))}}}return r}function ef(e,t){this.Mb=e,this.W=t}function ff(){this.ya={}}function hf(e){return Pa(ra(e.ya),function(e){return!de(e.V.o)})}function jf(e,t){if(de(t.o))return gf(e);var n=t.va();return w(e.ya,n)}function gf(e){return va(e.ya,function(e){return de(e.V.o)})||null}function kf(e){this.ta=Nd,this.jb=new $e,this.af={},this.lc={},this.Nc=e}function lf(e,t,r,i,o){var a=e.jb,s=o;return K(i>a.Mc,"Stacking an older write on top of newer ones"),n(s)||(s=!0),a.na.push({path:t,Ga:r,kd:i,visible:s}),s&&(a.T=Ue(a.T,t,r)),a.Mc=i,o?mf(e,new Wb(Pe,t,r)):[]}function nf(e,t,n,r){var i=e.jb;return K(r>i.Mc,"Stacking an older merge on top of newer ones"),i.na.push({path:t,children:n,kd:r,visible:!0}),i.T=Ve(i.T,t,n),i.Mc=r,n=De(n),mf(e,new xe(Pe,t,n))}function of(e,t,n){n=n||!1;var r=af(e.jb,t);if(e.jb.Rd(t)){var i=Nd;return null!=r.Ga?i=i.set(G,!0):ib(r.children,function(e,t){i=i.set(new L(e),t)}),mf(e,new Oe(r.path,i,n))}return[]}function pf(e,t,n){return n=De(n),mf(e,new xe(Re,t,n))}function qf(e,t,n,r){if(r=rf(e,r),null!=r){var i=sf(r);return r=i.path,i=i.Ib,t=O(r,t),n=new Wb(new Qe(!1,!0,i,!0),t,n),tf(e,r,n)}return[]}function uf(e,t,n,r){if(r=rf(e,r)){var i=sf(r);return r=i.path,i=i.Ib,t=O(r,t),n=De(n),n=new xe(new Qe(!1,!0,i,!0),t,n),tf(e,r,n)}return[]}function yf(e){return Ge(e,function(e,t,n){if(t&&null!=gf(t))return[gf(t)];var i=[];return t&&(i=hf(t)),r(n,function(e){i=i.concat(e)}),i})}function Bf(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!de(r.o)){var r=vf(r),i=e.lc[r];delete e.lc[r],delete e.af["_"+i]}}}function xf(e,t,n){var i=t.path,o=Af(e,t);if(n=zf(e,n),t=e.Nc.Ye(t,o,n.xd,n.G),i=e.ta.subtree(i),o)K(null==gf(i.value),"If we're adding a query, it shouldn't be shadowed");else for(o=Ge(i,function(e,t,n){if(!e.e()&&t&&null!=gf(t))return[ue(gf(t))];var i=[];return t&&(i=i.concat(Qa(hf(t),function(e){return e.V}))),r(n,function(e){i=i.concat(e)}),i}),i=0;i<o.length;++i)n=o[i],e.Nc.be(n,Af(e,n));return t}function zf(e,t){var n=t.V,r=Af(e,n);return{xd:function(){return(t.C()||C).hash()},G:function(t){if("ok"===t){if(r){var i=n.path;if(t=rf(e,r)){var o=sf(t);t=o.path,o=o.Ib,i=O(t,i),i=new Yb(new Qe(!1,!0,o,!0),i),t=tf(e,t,i)}else t=[]}else t=mf(e,new Yb(Re,n.path));return t}return i="Unknown Error","too_big"===t?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?i="Client doesn't have permission to access the desired data.":"unavailable"==t&&(i="The service is unavailable"),i=Error(t+": "+i),i.code=t.toUpperCase(),e.kb(n,null,i)}}}function vf(e){return e.path.toString()+"$"+e.va()}function sf(e){var t=e.indexOf("$");return K(-1!==t&&t<e.length-1,"Bad queryKey."),{Ib:e.substr(t+1),path:new L(e.substr(0,t))}}function rf(e,t){var n=e.af,r="_"+t;return r in n?n[r]:void 0}function Af(e,t){var n=vf(t);return w(e.lc,n)}function tf(e,t,n){var r=e.ta.get(t);return K(r,"Missing sync point for query tag that we're tracking"),r.ab(n,new ef(t,e.jb),null)}function mf(e,t){return Cf(e,t,e.ta,null,new ef(G,e.jb))}function Cf(e,t,n,r,i){if(t.path.e())return Df(e,t,n,r,i);var o=n.get(G);null==r&&null!=o&&(r=o.gb(G));var a=[],s=E(t.path),u=t.Xc(s);if((n=n.children.get(s))&&u)var c=r?r.J(s):null,s=i.u(s),a=a.concat(Cf(e,u,n,c,s));return o&&(a=a.concat(o.ab(t,i,r))),a}function Df(e,t,n,r,i){var o=n.get(G);null==r&&null!=o&&(r=o.gb(G));var a=[];return n.children.ia(function(n,o){var s=r?r.J(n):null,u=i.u(n),c=t.Xc(n);c&&(a=a.concat(Df(e,c,o,s,u)))}),o&&(a=a.concat(o.ab(t,i,r))),a}function Ef(){this.children={},this.nd=0,this.value=null}function Ff(e,t,n){this.Gd=e?e:"",this.Zc=t?t:null,this.w=n?n:new Ef}function Gf(e,t){for(var n,r=t instanceof L?t:new L(t),i=e;null!==(n=E(r));)i=new Ff(n,i,w(i.w.children,n)||new Ef),r=H(r);return i}function Hf(e,t){K("undefined"!=typeof t,"Cannot set value to undefined"),e.w.value=t,If(e)}function Jf(e,t,n,r){n&&!r&&t(e),e.R(function(e){Jf(e,t,!0,r)}),n&&r&&t(e)}function Kf(e,t){for(var n=e.parent();null!==n&&!t(n);)n=n.parent()}function If(e){if(null!==e.Zc){var t=e.Zc,n=e.Gd,r=e.e(),i=v(t.w.children,n);r&&i?(delete t.w.children[n],t.w.nd--,If(t)):r||i||(t.w.children[n]=e.w,t.w.nd++,If(t))}}function Lf(e){K(ea(e)&&0<e.length,"Requires a non-empty array"),this.Vf=e,this.Oc={}}function Mf(e,t){K(Ta(e.Vf,function(e){return e===t}),"Unknown event: "+t)}function Of(){if(Lf.call(this,["online"]),this.jc=!0,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var e=this;window.addEventListener("online",function(){e.jc||(e.jc=!0,e.ge("online",!0))},!1),window.addEventListener("offline",function(){e.jc&&(e.jc=!1,e.ge("online",!1))},!1)}}function Pf(){Lf.call(this,["visible"]);var e,t;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!=typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!=typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!=typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.Ob=!0,t){var n=this;document.addEventListener(t,function(){var t=!document[e];t!==n.Ob&&(n.Ob=t,n.ge("visible",t))},!1)}}function Tf(e){return p(e)&&0!==e.length&&!Qf.test(e)}function Uf(e){return null===e||p(e)||ga(e)&&!Rc(e)||ia(e)&&v(e,".sv")}function Vf(e,t,r,i){i&&!n(t)||Wf(z(e,1,i),t,r)}function Wf(e,t,r){if(r instanceof L&&(r=new vc(r,e)),!n(t))throw Error(e+"contains undefined "+yc(r));if(ha(t))throw Error(e+"contains a function "+yc(r)+" with contents: "+t.toString());if(Rc(t))throw Error(e+"contains "+t.toString()+" "+yc(r));if(p(t)&&t.length>10485760/3&&10485760<wc(t))throw Error(e+"contains a string greater than 10485760 utf8 bytes "+yc(r)+" ('"+t.substring(0,50)+"...')");if(ia(t)){var i=!1,o=!1;if(ib(t,function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!Tf(t)))throw Error(e+" contains an invalid key ("+t+") "+yc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(t),Wf(e,n,r),r.pop()}),i&&o)throw Error(e+' contains ".value" child '+yc(r)+" in addition to actual children.")}}function Xf(e,t,n){if(!ia(t)||ea(t))throw Error(z(e,1,!1)+" must be an Object containing the children to replace.");if(v(t,".value"))throw Error(z(e,1,!1)+' must not contain ".value".  To overwrite with a leaf value, just use .set() instead.');Vf(e,t,n,!1)}function Yf(e,t,n){if(Rc(n))throw Error(z(e,t,!1)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Uf(n))throw Error(z(e,t,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function Zf(e,t,r){if(!r||n(t))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(z(e,1,r)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function $f(e,t,r,i){if((!i||n(r))&&!Tf(r))throw Error(z(e,t,i)+'was an invalid key: "'+r+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function ag(e,t){if(!p(t)||0===t.length||Rf.test(t))throw Error(z(e,1,!1)+'was an invalid path: "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function bg(e,t){if(".info"===E(t))throw Error(e+" failed: Can't modify data under /.info/")}function cg(e,t){if(!p(t))throw Error(z(e,1,!1)+"must be a valid credential (a string).")}function dg(e,t,n){if(!p(n))throw Error(z(e,t,!1)+"must be a valid string.")}function eg(e,t){if(dg(e,1,t),!Sf.test(t))throw Error(z(e,1,!1)+"'"+t+"' is not a valid authentication provider.")}function fg(e,t,r,i){if((!i||n(r))&&(!ia(r)||null===r))throw Error(z(e,t,i)+"must be a valid object.")}function gg(e,t,n){if(!ia(t)||!v(t,n))throw Error(z(e,1,!1)+'must contain the key "'+n+'"');if(!p(w(t,n)))throw Error(z(e,1,!1)+'must contain the key "'+n+'" with type "string"')}function hg(){this.set={}}function ig(e,t){r(e.set,function(e,n){t(n,e)})}function pc(){this.m=this.A=null}function jg(e,t){if(t.e())return e.A=null,e.m=null,!0;if(null!==e.A){if(e.A.L())return!1;var n=e.A;return e.A=null,n.R(N,function(t,n){e.nc(new L(t),n)}),jg(e,t)}return null!==e.m?(n=E(t),t=H(t),e.m.contains(n)&&jg(e.m.get(n),t)&&e.m.remove(n),e.m.e()?(e.m=null,!0):!1):!0}function qc(e,t,n){null!==e.A?n(t,e.A):e.R(function(e,r){var i=new L(t.toString()+"/"+e);qc(r,i,n)})}function lg(e,t,n){this.od=e||{},this.fe=t||{},this.$a=n||{},this.od.remember||(this.od.remember="default")}function ng(e){var t={},n={};return ib(e||{},function(e,r){0<=Na(mg,e)?t[e]=r:n[e]=r}),new lg(t,{},n)}function og(e,t){this.Re=["session",e.Od,e.Db].join(":"),this.ce=t}function pg(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function qg(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pg())}function rg(){return"undefined"!=typeof location&&/^file:\//.test(location.href)}function sg(e){var t=pg();if(""===t)return!1;if("Microsoft Internet Explorer"===navigator.appName){if((t=t.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<t.length)return parseFloat(t[1])>=e}else if(-1<t.indexOf("Trident")&&(t=t.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<t.length)return parseFloat(t[1])>=e;return!1}function tg(){var e,t=window.opener.frames;for(e=t.length-1;e>=0;e--)try{if(t[e].location.protocol===window.location.protocol&&t[e].location.host===window.location.host&&"__winchan_relay_frame"===t[e].name)return t[e]}catch(n){}return null}function ug(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,!1)}function vg(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener&&e.removeEventListener(t,n,!1)}function wg(e){/^https?:\/\//.test(e)||(e=window.location.href);var t=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(e);return t?t[1]:e}function xg(e){var t="";try{e=e.replace("#","");var n=lb(e);n&&v(n,"__firebase_request_key")&&(t=w(n,"__firebase_request_key"))}catch(r){}return t}function yg(){var e=Qc(kg);return e.scheme+"://"+e.host+"/v2"}function zg(e){return yg()+"/"+e+"/auth/channel"}function Ag(e){var t=this;if(this.Ac=e,this.de="*",sg(8)?this.Rc=this.zd=tg():(this.Rc=window.opener,this.zd=window),!t.Rc)throw"Unable to find relay frame";ug(this.zd,"message",q(this.ic,this)),ug(this.zd,"message",q(this.Bf,this));try{Bg(this,{a:"ready"})}catch(n){ug(this.Rc,"load",function(){Bg(t,{a:"ready"})})}ug(window,"unload",q(this.zg,this))}function Bg(e,t){t=B(t),sg(8)?e.Rc.doPost(t,e.de):e.Rc.postMessage(t,e.de)}function Cg(e){this.pc=Ga()+Ga()+Ga(),this.Ef=e}function Eg(e){var t=Error(w(Dg,e),e);return t.code=e,t}function Fg(e){var t;(t=!e.window_features)||(t=pg(),t=-1!==t.indexOf("Fennec/")||-1!==t.indexOf("Firefox/")&&-1!==t.indexOf("Android")),t&&(e.window_features=void 0),e.window_name||(e.window_name="_blank"),this.options=e}function Gg(e){e.method||(e.method="GET"),e.headers||(e.headers={}),e.headers.content_type||(e.headers.content_type="application/json"),e.headers.content_type=e.headers.content_type.toLowerCase(),this.options=e}function Hg(e){this.pc=Ga()+Ga()+Ga(),this.Ef=e}function Ig(e){e.callback_parameter||(e.callback_parameter="callback"),this.options=e,window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}function Jg(e,t,n){setTimeout(function(){try{var r=document.createElement("script");r.type="text/javascript",r.id=e,r.async=!0,r.src=t,r.onerror=function(){var t=document.getElementById(e);null!==t&&t.parentNode.removeChild(t),n&&n(Eg("NETWORK_ERROR"))};var i=document.getElementsByTagName("head");(i&&0!=i.length?i[0]:document.documentElement).appendChild(r)}catch(o){n&&n(Eg("NETWORK_ERROR"))}},0)}function Kg(e,t,n,r){Lf.call(this,["auth_status"]),this.F=e,this.ef=t,this.Tg=n,this.Me=r,this.sc=new og(e,[Cc,P]),this.nb=null,this.Te=!1,Lg(this)}function Lg(e){P.get("redirect_request_id")&&Mg(e);var t=e.sc.get();t&&t.token?(Ng(e,t),e.ef(t.token,function(n,r){Og(e,n,r,!1,t.token,t)},function(t,n){Pg(e,"resumeSession()",t,n)})):Ng(e,null)}function Qg(e,t,n,r,i,o){"firebaseio-demo.com"===e.F.domain&&Q("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com."),e.ef(t,function(o,a){Og(e,o,a,!0,t,n,r||{},i)},function(t,n){Pg(e,"auth()",t,n,o)})}function Rg(e,t){e.sc.clear(),Ng(e,null),e.Tg(function(e,n){if("ok"===e)R(t,null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n),i=Error(i),i.code=r,R(t,i)}})}function Og(e,t,n,r,i,o,a,s){"ok"===t?(r&&(t=n.auth,o.auth=t,o.expires=n.expires,o.token=bd(i)?i:"",n=null,t&&v(t,"uid")?n=w(t,"uid"):v(o,"uid")&&(n=w(o,"uid")),o.uid=n,n="custom",t&&v(t,"provider")?n=w(t,"provider"):v(o,"provider")&&(n=w(o,"provider")),o.provider=n,e.sc.clear(),bd(i)&&(a=a||{},n=Cc,"sessionOnly"===a.remember&&(n=P),"none"!==a.remember&&e.sc.set(o,n)),Ng(e,o)),R(s,null,o)):(e.sc.clear(),Ng(e,null),o=e=(t||"error").toUpperCase(),n&&(o+=": "+n),o=Error(o),o.code=e,R(s,o))}function Pg(e,t,n,r,i){Q(t+" was canceled: "+r),e.sc.clear(),Ng(e,null),e=Error(r),e.code=n.toUpperCase(),R(i,e)}function Sg(e,t,n,r,i){Tg(e),n=new lg(r||{},{},n||{}),Ug(e,[Gg,Ig],"/auth/"+t,n,i)}function Vg(e,t,n,r){Tg(e);var i=[Fg,Hg];n=ng(n),"anonymous"===t||"password"===t?setTimeout(function(){R(r,Eg("TRANSPORT_UNAVAILABLE"))},0):(n.fe.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"==typeof screen?.5*(screen.height-625):0)+",left="+("object"==typeof screen?.5*(screen.width-625):0),n.fe.relay_url=zg(e.F.Db),n.fe.requestWithCredential=q(e.qc,e),Ug(e,i,"/auth/"+t,n,r))}function Mg(e){var t=P.get("redirect_request_id");if(t){var n=P.get("redirect_client_options");P.remove("redirect_request_id"),P.remove("redirect_client_options");var r=[Gg,Ig],t={requestId:t,requestKey:xg(document.location.hash)},n=new lg(n,{},t);e.Te=!0;try{document.location.hash=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,"")}catch(i){}Ug(e,r,"/auth/session",n,function(){this.Te=!1}.bind(e))}}function Ug(e,t,n,r,i){Wg(e,t,n,r,function(t,n){!t&&n&&n.token&&n.uid?Qg(e,n.token,n,r.od,function(e,t){e?R(i,e):R(i,null,t)}):R(i,t||Eg("UNKNOWN_ERROR"))})}function Wg(e,t,n,r,i){t=Pa(t,function(e){return"function"==typeof e.isAvailable&&e.isAvailable()}),0===t.length?setTimeout(function(){R(i,Eg("TRANSPORT_UNAVAILABLE"))},0):(t=new(t.shift())(r.fe),r=jb(r.$a),r.v="js-"+hb,r.transport=t.Cc(),r.suppress_status_codes=!0,e=yg()+"/"+e.F.Db+n,t.open(e,r,function(e,t){if(e)R(i,e);else if(t&&t.error){var n=Error(t.error.message);n.code=t.error.code,n.details=t.error.details,R(i,n)}else R(i,null,t)}))}function Ng(e,t){var n=null!==e.nb||null!==t;e.nb=t,n&&e.ge("auth_status",t),e.Me(null!==t)}function Tg(e){var t=e.F;if("firebaseio.com"!==t.domain&&"firebaseio-demo.com"!==t.domain&&"auth.firebase.com"===kg)throw Error("This custom Firebase server ('"+e.F.domain+"') does not support delegated login.")}function Xg(e){this.ic=e,this.Nd=[],this.Sb=0,this.re=-1,this.Gb=null}function Yg(e,t,n){e.re=t,e.Gb=n,e.re<e.Sb&&(e.Gb(),e.Gb=null)}function Zg(e,t,n){for(e.Nd[t]=n;e.Nd[e.Sb];){var r=e.Nd[e.Sb];delete e.Nd[e.Sb];for(var i=0;i<r.length;++i)if(r[i]){var o=e;Db(function(){o.ic(r[i])})}if(e.Sb===e.re){e.Gb&&(clearTimeout(e.Gb),e.Gb(),e.Gb=null);break}e.Sb++}}function $g(e,t,n){this.se=e,this.f=Nc(e),this.ob=this.pb=0,this.Va=Qb(t),this.Zd=n,this.Hc=!1,this.jd=function(e){t.host!==t.Pa&&(e.ns=t.Db);var n,r=[];for(n in e)e.hasOwnProperty(n)&&r.push(n+"="+e[n]);return(t.lb?"https://":"http://")+t.Pa+"/.lp?"+r.join("&")}}function dh(e,t){var n=B(t).length;e.ob+=n,Nb(e.Va,"bytes_received",n)}function ch(e,t,n,r){if(this.jd=r,this.ib=n,this.Qe=new hg,this.ad=[],this.ue=Math.floor(1e8*Math.random()),this.Xd=!0,this.ie=Fc(),window["pLPCommand"+this.ie]=e,window["pRTLPCB"+this.ie]=t,e=document.createElement("iframe"),e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Cb("No IE domain setting required")}catch(i){e.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}e.contentDocument?e.fb=e.contentDocument:e.contentWindow?e.fb=e.contentWindow.document:e.document&&(e.fb=e.document),this.Ea=e,e="",this.Ea.src&&"javascript:"===this.Ea.src.substr(0,11)&&(e='<script>document.domain="'+document.domain+'";</script>'),e="<html><body>"+e+"</body></html>";try{this.Ea.fb.open(),this.Ea.fb.write(e),this.Ea.fb.close()}catch(o){Cb("frame writing exception"),o.stack&&Cb(o.stack),Cb(o)}}function fh(e){if(e.me&&e.Xd&&e.Qe.count()<(0<e.ad.length?2:1)){e.ue++;var t={};t.id=e.sg,t.pw=e.tg,t.ser=e.ue;for(var t=e.jd(t),n="",r=0;0<e.ad.length&&1870>=e.ad[0].kf.length+30+n.length;){var i=e.ad.shift(),n=n+"&seg"+r+"="+i.Kg+"&ts"+r+"="+i.Sg+"&d"+r+"="+i.kf;r++}return gh(e,t+n,e.ue),!0}return!1}function gh(e,t,n){function r(){e.Qe.remove(n),fh(e)}e.Qe.add(n,1);var i=setTimeout(r,Math.floor(25e3));eh(e,t,function(){clearTimeout(i),r()})}function eh(e,t,n){setTimeout(function(){try{if(e.Xd){var r=e.Ea.fb.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=function(){Cb("Long-poll script failed to load: "+t),e.Xd=!1,e.close()},e.Ea.fb.body.appendChild(r)}}catch(i){}},Math.floor(1))}function ih(e,t,n){this.se=e,this.f=Nc(this.se),this.frames=this.Kc=null,this.ob=this.pb=this.cf=0,this.Va=Qb(t),this.eb=(t.lb?"wss://":"ws://")+t.Pa+"/.ws?v=5","undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(this.eb+="&r=f"),t.host!==t.Pa&&(this.eb=this.eb+"&ns="+t.Db),n&&(this.eb=this.eb+"&s="+n)}function lh(e,t){if(e.frames.push(t),e.frames.length==e.cf){var n=e.frames.join("");e.frames=null,n=nb(n),e.xg(n)}}function kh(e){clearInterval(e.Kc),e.Kc=setInterval(function(){e.ua&&e.ua.send("0"),kh(e)},Math.floor(45e3))}function mh(e){nh(this,e)}function nh(e,t){var n=ih&&ih.isAvailable(),r=n&&!(Cc.wf||!0===Cc.get("previous_websocket_failure"));if(t.Ug&&(n||Q("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)e.gd=[ih];else{var i=e.gd=[];Xc(oh,function(e,t){t&&t.isAvailable()&&i.push(t)})}}function ph(e){if(0<e.gd.length)return e.gd[0];throw Error("No transports available")}function qh(e,t,n,r,i,o){this.id=e,this.f=Nc("c:"+this.id+":"),this.ic=n,this.Wc=r,this.la=i,this.Oe=o,this.F=t,this.Md=[],this.ff=0,this.Of=new mh(t),this.Ua=0,this.f("Connection created"),rh(this)}function rh(e){var t=ph(e.Of);e.I=new t("c:"+e.id+":"+e.ff++,e.F),e.Se=t.responsesRequiredToBeHealthy||0;var n=sh(e,e.I),r=th(e,e.I);e.hd=e.I,e.cd=e.I,e.D=null,e.Bb=!1,setTimeout(function(){e.I&&e.I.open(n,r)},Math.floor(0)),t=t.healthyTimeout||0,t>0&&(e.yd=setTimeout(function(){e.yd=null,e.Bb||(e.I&&102400<e.I.ob?(e.f("Connection exceeded healthy timeout but has received "+e.I.ob+" bytes.  Marking connection healthy."),e.Bb=!0,e.I.Ed()):e.I&&10240<e.I.pb?e.f("Connection exceeded healthy timeout but has sent "+e.I.pb+" bytes.  Leaving connection alive."):(e.f("Closing unhealthy connection after timeout."),e.close()))},Math.floor(t)))}function th(e,t){return function(n){t===e.I?(e.I=null,n||0!==e.Ua?1===e.Ua&&e.f("Realtime connection lost."):(e.f("Realtime connection failed."),"s-"===e.F.Pa.substr(0,2)&&(Cc.remove("host:"+e.F.host),e.F.Pa=e.F.host)),e.close()):t===e.D?(e.f("Secondary connection lost."),n=e.D,e.D=null,e.hd!==n&&e.cd!==n||e.close()):e.f("closing an old connection")}}function sh(e,t){return function(n){if(2!=e.Ua)if(t===e.cd){var r=Uc("t",n);if(n=Uc("d",n),"c"==r){if(r=Uc("t",n),"d"in n)if(n=n.d,"h"===r){var r=n.ts,i=n.v,o=n.h;e.Zd=n.s,Ec(e.F,o),0==e.Ua&&(e.I.start(),uh(e,e.I,r),"5"!==i&&Q("Protocol version mismatch detected"),n=e.Of,(n=1<n.gd.length?n.gd[1]:null)&&vh(e,n))}else if("n"===r){for(e.f("recvd end transmission on primary"),e.cd=e.D,n=0;n<e.Md.length;++n)e.Id(e.Md[n]);e.Md=[],wh(e)}else"s"===r?(e.f("Connection shutdown command received. Shutting down..."),e.Oe&&(e.Oe(n),e.Oe=null),e.la=null,e.close()):"r"===r?(e.f("Reset packet received.  New host: "+n),Ec(e.F,n),1===e.Ua?e.close():(xh(e),rh(e))):"e"===r?Oc("Server Error: "+n):"o"===r?(e.f("got pong on primary."),yh(e),zh(e)):Oc("Unknown control packet command: "+r)}else"d"==r&&e.Id(n)}else if(t===e.D)if(r=Uc("t",n),n=Uc("d",n),"c"==r)"t"in n&&(n=n.t,"a"===n?Ah(e):"r"===n?(e.f("Got a reset on secondary, closing it"),e.D.close(),e.hd!==e.D&&e.cd!==e.D||e.close()):"o"===n&&(e.f("got pong on secondary."),e.Mf--,Ah(e)));else{if("d"!=r)throw Error("Unknown protocol layer: "+r);e.Md.push(n)}else e.f("message on old connection")}}function wh(e){e.hd===e.D&&e.cd===e.D&&(e.f("cleaning up and promoting a connection: "+e.D.se),e.I=e.D,e.D=null)}function Ah(e){0>=e.Mf?(e.f("Secondary connection is healthy."),e.Bb=!0,e.D.Ed(),e.D.start(),e.f("sending client ack on secondary"),e.D.send({t:"c",d:{t:"a",d:{}}}),e.f("Ending transmission on primary"),e.I.send({t:"c",d:{t:"n",d:{}}}),e.hd=e.D,wh(e)):(e.f("sending ping on secondary."),e.D.send({t:"c",d:{t:"p",d:{}}}))}function yh(e){e.Bb||(e.Se--,0>=e.Se&&(e.f("Primary connection is healthy."),e.Bb=!0,e.I.Ed()))}function vh(e,t){e.D=new t("c:"+e.id+":"+e.ff++,e.F,e.Zd),e.Mf=t.responsesRequiredToBeHealthy||0,e.D.open(sh(e,e.D),th(e,e.D)),setTimeout(function(){e.D&&(e.f("Timed out trying to upgrade."),e.D.close())},Math.floor(6e4))}function uh(e,t,n){e.f("Realtime connection established."),e.I=t,e.Ua=1,e.Wc&&(e.Wc(n),e.Wc=null),0===e.Se?(e.f("Primary connection is healthy."),e.Bb=!0):setTimeout(function(){zh(e)},Math.floor(5e3))}function zh(e){e.Bb||1!==e.Ua||(e.f("sending ping on primary."),Bh(e,{t:"c",d:{t:"p",d:{}}}))}function Bh(e,t){if(1!==e.Ua)throw"Connection is not connected";e.hd.send(t)}function xh(e){e.f("Shutting down all connections"),e.I&&(e.I.close(),e.I=null),e.D&&(e.D.close(),e.D=null),e.yd&&(clearTimeout(e.yd),e.yd=null)}function Ch(e,t,n,r){this.id=Dh++,this.f=Nc("p:"+this.id+":"),this.xf=this.Fe=!1,this.$={},this.qa=[],this.Yc=0,this.Vc=[],this.oa=!1,this.Za=1e3,this.Fd=3e5,this.Hb=t,this.Uc=n,this.Pe=r,this.F=e,this.tb=this.Aa=this.Ia=this.Xe=null,this.Ob=!1,this.Td={},this.Jg=0,this.nf=!0,this.Lc=this.He=null,Eh(this,0),Pf.vb().Fb("visible",this.Ag,this),-1===e.host.indexOf("fblocal")&&Of.vb().Fb("online",this.yg,this)}function Gh(e,t){var n=t.Gg,r=n.path.toString(),i=n.va();e.f("Listen on "+r+" for "+i);var o={p:r};t.tag&&(o.q=ce(n.o),o.t=t.tag),o.h=t.xd(),e.Fa("q",o,function(o){var a=o.d,s=o.s;if(a&&"object"==typeof a&&v(a,"w")){var u=w(a,"w");ea(u)&&0<=Na(u,"no_index")&&Q("Using an unspecified index. Consider adding "+('".indexOn": "'+n.o.g.toString()+'"')+" at "+n.path.toString()+" to your security rules for better performance")}(e.$[r]&&e.$[r][i])===t&&(e.f("listen response",o),"ok"!==s&&Hh(e,r,i),t.G&&t.G(s,a))})}function Ih(e){var t=e.Aa;e.oa&&t&&e.Fa("auth",{cred:t.gg},function(n){var r=n.s;n=n.d||"error","ok"!==r&&e.Aa===t&&delete e.Aa,t.of?"ok"!==r&&t.md&&t.md(r,n):(t.of=!0,t.zc&&t.zc(r,n))})}function Jh(e,t,n,r,i){n={p:n,d:r},e.f("onDisconnect "+t,n),e.Fa(t,n,function(e){i&&setTimeout(function(){i(e.s,e.d)},Math.floor(0))})}function Kh(e,t,r,i,o,a){i={p:r,d:i},n(a)&&(i.h=a),e.qa.push({action:t,Jf:i,G:o}),e.Yc++,t=e.qa.length-1,e.oa?Lh(e,t):e.f("Buffering put: "+r)}function Lh(e,t){var n=e.qa[t].action,r=e.qa[t].Jf,i=e.qa[t].G;e.qa[t].Hg=e.oa,e.Fa(n,r,function(r){e.f(n+" response",r),delete e.qa[t],e.Yc--,0===e.Yc&&(e.qa=[]),i&&i(r.s,r.d)})}function Eh(e,t){K(!e.Ia,"Scheduling a connect when we're already connected/ing?"),e.tb&&clearTimeout(e.tb),e.tb=setTimeout(function(){e.tb=null,Oh(e)},Math.floor(t))}function Oh(e){if(Ph(e)){e.f("Making a connection attempt"),e.He=(new Date).getTime(),e.Lc=null;var t=q(e.Id,e),n=q(e.Wc,e),r=q(e.Df,e),i=e.id+":"+Fh++;e.Ia=new qh(i,e.F,t,n,r,function(t){Q(t+" ("+e.F.toString()+")"),e.xf=!0})}}function Mh(e,t,n){n=n?Qa(n,function(e){return Vc(e)}).join("$"):"default",(e=Hh(e,t,n))&&e.G&&e.G("permission_denied")}function Hh(e,t,r){t=new L(t).toString();var i;return n(e.$[t])?(i=e.$[t][r],delete e.$[t][r],0===pa(e.$[t])&&delete e.$[t]):i=void 0,i}function Nh(e){Ih(e),r(e.$,function(t){r(t,function(t){Gh(e,t)})});for(var t=0;t<e.qa.length;t++)e.qa[t]&&Lh(e,t);for(;e.Vc.length;)t=e.Vc.shift(),Jh(e,t.action,t.$c,t.data,t.G)}function Ph(e){var t;return t=Of.vb().jc,!e.xf&&!e.Fe&&t}function S(e,t,n){this.w=e,this.V=t,this.g=n}function Qh(e,t){this.F=e,this.Va=Qb(e),this.fd=null,this.da=new vb,this.Hd=1,this.Sa=null,t||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.ba=new ye(this.F,q(this.Hb,this)),setTimeout(q(this.Uc,this,!0),0)):this.ba=this.Sa=new Ch(this.F,q(this.Hb,this),q(this.Uc,this),q(this.Pe,this)),this.Qg=Rb(e,q(function(){return new Lb(this.Va,this.ba)},this)),this.uc=new Ff,this.De=new ob;var n=this;this.Cd=new kf({Ye:function(e,t,r,i){return t=[],r=n.De.j(e.path),r.e()||(t=mf(n.Cd,new Wb(Re,e.path,r)),setTimeout(function(){i("ok")},0)),t},be:ba}),Rh(this,"connected",!1),this.la=new pc,this.N=new Kg(e,q(this.ba.N,this.ba),q(this.ba.he,this.ba),q(this.Me,this)),this.sd=0,this.Ee=null,this.M=new kf({Ye:function(e,t,r,i){return n.ba.yf(e,r,t,function(t,r){var o=i(t,r);Ab(n.da,e.path,o)}),[]},be:function(e,t){n.ba.Pf(e,t)}})}function Sh(e){return e=e.De.j(new L(".info/serverTimeOffset")).H()||0,(new Date).getTime()+e}function Th(e){return e=e={timestamp:Sh(e)},e.timestamp=e.timestamp||(new Date).getTime(),e}function Rh(e,t,n){t=new L("/.info/"+t),n=M(n);var r=e.De;r.Wd=r.Wd.K(t,n),n=mf(e.Cd,new Wb(Re,t,n)),Ab(e.da,t,n)}function Vh(e){e.f("onDisconnectEvents");var t=Th(e),n=[];qc(oc(e.la,t),G,function(t,r){n=n.concat(mf(e.M,new Wb(Re,t,r)));var i=Xh(e,t);Uh(e,i)}),e.la=new pc,Ab(e.da,G,n)}function Yh(e,t,n,r){var i=M(n);e.ba.Ne(t.toString(),i.H(!0),function(n,o){"ok"===n&&e.la.nc(t,i),Wh(r,n,o)})}function Zh(e,t,n,r,i){var o=M(n,r);e.ba.Ne(t.toString(),o.H(!0),function(n,r){"ok"===n&&e.la.nc(t,o),Wh(i,n,r)})}function $h(e,t,n,r){var i,o=!0;for(i in n)o=!1;o?(Cb("onDisconnect().update() called with empty data.  Don't do anything."),Wh(r,"ok")):e.ba.Cf(t.toString(),n,function(i,o){if("ok"===i)for(var a in n){var s=M(n[a]);e.la.nc(t.u(a),s)}Wh(r,i,o)})}function ai(e,t,n){n=".info"===E(t.path)?e.Cd.Pb(t,n):e.M.Pb(t,n),yb(e.da,t.path,n)}function Wh(e,t,n){e&&Db(function(){if("ok"==t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n),i=Error(i),i.code=r,e(i)}})}function bi(e,t,r,i,o){function a(){}e.f("transaction on "+t);var s=new U(e,t);if(s.Fb("value",a),r={path:t,update:r,G:i,status:null,Ff:Fc(),df:o,Lf:0,je:function(){s.hc("value",a)},le:null,Ba:null,pd:null,qd:null,rd:null},i=e.M.za(t,void 0)||C,r.pd=i,i=r.update(i.H()),n(i)){Wf("transaction failed: Data returned ",i,r.path),r.status=1,o=Gf(e.uc,t);var u=o.Ca()||[];u.push(r),Hf(o,u),"object"==typeof i&&null!==i&&v(i,".priority")?(u=w(i,".priority"),K(Uf(u),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):u=(e.M.za(t)||C).B().H(),o=Th(e),i=M(i,u),o=rc(i,o),r.qd=i,r.rd=o,r.Ba=e.Hd++,r=lf(e.M,t,o,r.Ba,r.df),Ab(e.da,t,r),ci(e)}else r.je(),r.qd=null,r.rd=null,r.G&&(e=new S(r.pd,new U(e,r.path),N),r.G(null,!1,e))}function ci(e,t){var n=t||e.uc;if(t||di(e,n),null!==n.Ca()){var r=ei(e,n);K(0<r.length,"Sending zero length transaction queue"),Sa(r,function(e){return 1===e.status})&&fi(e,n.path(),r)}else n.wd()&&n.R(function(t){ci(e,t)})}function fi(e,t,n){for(var r=Qa(n,function(e){return e.Ba}),i=e.M.za(t,r)||C,r=i,i=i.hash(),o=0;o<n.length;o++){var a=n[o];K(1===a.status,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=2,a.Lf++;var s=O(t,a.path),r=r.K(s,a.qd)}r=r.H(!0),e.ba.put(t.toString(),r,function(r){e.f("transaction put response",{path:t.toString(),status:r});var i=[];if("ok"===r){for(r=[],o=0;o<n.length;o++){if(n[o].status=3,i=i.concat(of(e.M,n[o].Ba)),n[o].G){var a=n[o].rd,s=new U(e,n[o].path);r.push(q(n[o].G,null,null,!0,new S(a,s,N)))}n[o].je()}for(di(e,Gf(e.uc,t)),ci(e),Ab(e.da,t,i),o=0;o<r.length;o++)Db(r[o])}else{if("datastale"===r)for(o=0;o<n.length;o++)n[o].status=4===n[o].status?5:1;else for(Q("transaction at "+t.toString()+" failed: "+r),o=0;o<n.length;o++)n[o].status=5,n[o].le=r;Uh(e,t)}},i)}function Uh(e,t){var n=gi(e,t),r=n.path(),n=ei(e,n);return hi(e,n,r),r}function hi(e,t,r){if(0!==t.length){for(var i=[],o=[],a=Qa(t,function(e){return e.Ba}),s=0;s<t.length;s++){var u,c=t[s],l=O(r,c.path),h=!1;if(K(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),5===c.status)h=!0,u=c.le,o=o.concat(of(e.M,c.Ba,!0));else if(1===c.status)if(25<=c.Lf)h=!0,u="maxretry",o=o.concat(of(e.M,c.Ba,!0));else{var f=e.M.za(c.path,a)||C;c.pd=f;var p=t[s].update(f.H());n(p)?(Wf("transaction failed: Data returned ",p,c.path),l=M(p),"object"==typeof p&&null!=p&&v(p,".priority")||(l=l.ga(f.B())),f=c.Ba,p=Th(e),p=rc(l,p),c.qd=l,c.rd=p,c.Ba=e.Hd++,Va(a,f),o=o.concat(lf(e.M,c.path,p,c.Ba,c.df)),o=o.concat(of(e.M,f,!0))):(h=!0,u="nodata",o=o.concat(of(e.M,c.Ba,!0)))}Ab(e.da,r,o),o=[],h&&(t[s].status=3,setTimeout(t[s].je,Math.floor(0)),t[s].G&&("nodata"===u?(c=new U(e,t[s].path),i.push(q(t[s].G,null,null,!1,new S(t[s].pd,c,N)))):i.push(q(t[s].G,null,Error(u),!1,null))))}for(di(e,e.uc),s=0;s<i.length;s++)Db(i[s]);ci(e)}}function gi(e,t){for(var n,r=e.uc;null!==(n=E(t))&&null===r.Ca();)r=Gf(r,n),t=H(t);return r}function ei(e,t){var n=[];return ii(e,t,n),n.sort(function(e,t){return e.Ff-t.Ff}),n}function ii(e,t,n){var r=t.Ca();if(null!==r)for(var i=0;i<r.length;i++)n.push(r[i]);t.R(function(t){ii(e,t,n)})}function di(e,t){var n=t.Ca();if(n){for(var r=0,i=0;i<n.length;i++)3!==n[i].status&&(n[r]=n[i],r++);n.length=r,Hf(t,0<n.length?n:null)}t.R(function(t){di(e,t)})}function Xh(e,t){var n=gi(e,t).path(),r=Gf(e.uc,t);return Kf(r,function(t){ji(e,t)}),ji(e,r),Jf(r,function(t){ji(e,t)}),n}function ji(e,t){var n=t.Ca();if(null!==n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)4!==n[a].status&&(2===n[a].status?(K(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=4,n[a].le="set"):(K(1===n[a].status,"Unexpected transaction status in abort"),n[a].je(),i=i.concat(of(e.M,n[a].Ba,!0)),n[a].G&&r.push(q(n[a].G,null,Error("set"),!1,null))));for(-1===o?Hf(t,null):n.length=o+1,Ab(e.da,t.path(),i),a=0;a<r.length;a++)Db(r[a])}}function W(){this.oc={},this.Qf=!1}function X(e,t){this.bd=e,this.ra=t}function Y(e,t,n,r){this.k=e,this.path=t,this.o=n,this.kc=r}function ki(e){var t=null,n=null;if(e.ma&&(t=nd(e)),e.pa&&(n=pd(e)),e.g===Od){if(e.ma){if("[MIN_NAME]"!=md(e))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof t)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(e.pa){if("[MAX_NAME]"!=od(e))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof n)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(e.g===N){if(null!=t&&!Uf(t)||null!=n&&!Uf(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(K(e.g instanceof Sd||e.g===Yd,"unknown index type."),
null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function li(e){if(e.ma&&e.pa&&e.ja&&(!e.ja||""===e.Nb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function mi(e,t){if(!0===e.kc)throw Error(t+": You can't combine multiple orderBy calls.")}function ni(e,t,n){var r={cancel:null,Ma:null};if(t&&n)r.cancel=t,A(e,3,r.cancel,!0),r.Ma=n,mb(e,4,r.Ma);else if(t)if("object"==typeof t&&null!==t)r.Ma=t;else{if("function"!=typeof t)throw Error(z(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r}function U(e,t){var n,r,i;if(e instanceof Qh)n=e,r=t;else{x("new Firebase",1,2,arguments.length),r=Qc(arguments[0]),n=r.Rg,"firebase"===r.domain&&Pc(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||Pc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.lb||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Q("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),n=new Dc(r.host,r.lb,n,"ws"===r.scheme||"wss"===r.scheme),r=new L(r.$c),i=r.toString();var o;if(!(o=!p(n.host)||0===n.host.length||!Tf(n.Db))&&(o=0!==i.length)&&(i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),o=!(p(i)&&0!==i.length&&!Rf.test(i))),o)throw Error(z("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(t)if(t instanceof W)i=t;else{if(!p(t))throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");i=W.vb(),n.Od=t}else i=W.vb();o=n.toString();var a=w(i.oc,o);a||(a=new Qh(n,i.Qf),i.oc[o]=a),n=a}Y.call(this,n,r,$d,!1)}function Mc(e,t){K(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?("undefined"!=typeof console&&("function"==typeof console.log?Bb=q(console.log,console):"object"==typeof console.log&&(Bb=function(e){console.log(e)})),t&&P.set("logging_enabled",!0)):e?Bb=e:(Bb=null,P.remove("logging_enabled"))}var g,aa=this,la=Date.now||function(){return+new Date},ya="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ea={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\x0B":"\\u000b"},Fa=/\uffff/.test("")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,Ha;e:{var Ia=aa.navigator;if(Ia){var Ja=Ia.userAgent;if(Ja){Ha=Ja;break e}}Ha=""}ma(La,Ka),La.prototype.reset=function(){this.P[0]=1732584193,this.P[1]=4023233417,this.P[2]=2562383102,this.P[3]=271733878,this.P[4]=3285377520,this.ee=this.ac=0},La.prototype.update=function(e,t){if(null!=e){n(t)||(t=e.length);for(var r=t-this.Wa,i=0,o=this.ne,a=this.ac;t>i;){if(0==a)for(;r>=i;)Ma(this,e,i),i+=this.Wa;if(p(e)){for(;t>i;)if(o[a]=e.charCodeAt(i),++a,++i,a==this.Wa){Ma(this,o),a=0;break}}else for(;t>i;)if(o[a]=e[i],++a,++i,a==this.Wa){Ma(this,o),a=0;break}}this.ac=a,this.ee+=t}};var u=Array.prototype,Na=u.indexOf?function(e,t,n){return u.indexOf.call(e,t,n)}:function(e,t,n){if(n=null==n?0:0>n?Math.max(0,e.length+n):n,p(e))return p(t)&&1==t.length?e.indexOf(t,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Oa=u.forEach?function(e,t,n){u.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=p(e)?e.split(""):e,o=0;r>o;o++)o in i&&t.call(n,i[o],o,e)},Pa=u.filter?function(e,t,n){return u.filter.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=[],o=0,a=p(e)?e.split(""):e,s=0;r>s;s++)if(s in a){var u=a[s];t.call(n,u,s,e)&&(i[o++]=u)}return i},Qa=u.map?function(e,t,n){return u.map.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=Array(r),o=p(e)?e.split(""):e,a=0;r>a;a++)a in o&&(i[a]=t.call(n,o[a],a,e));return i},Ra=u.reduce?function(e,t,n,r){for(var i=[],o=1,a=arguments.length;a>o;o++)i.push(arguments[o]);return r&&(i[0]=q(t,r)),u.reduce.apply(e,i)}:function(e,t,n,r){var i=n;return Oa(e,function(n,o){i=t.call(r,i,n,o,e)}),i},Sa=u.every?function(e,t,n){return u.every.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=p(e)?e.split(""):e,o=0;r>o;o++)if(o in i&&!t.call(n,i[o],o,e))return!1;return!0},Za=-1!=Ha.indexOf("Opera")||-1!=Ha.indexOf("OPR"),$a=-1!=Ha.indexOf("Trident")||-1!=Ha.indexOf("MSIE"),ab=-1!=Ha.indexOf("Gecko")&&-1==Ha.toLowerCase().indexOf("webkit")&&!(-1!=Ha.indexOf("Trident")||-1!=Ha.indexOf("MSIE")),bb=-1!=Ha.toLowerCase().indexOf("webkit");!function(){var e,t="";return Za&&aa.opera?(t=aa.opera.version,ha(t)?t():t):(ab?e=/rv\:([^\);]+)(\)|;)/:$a?e=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:bb&&(e=/WebKit\/(\S+)/),e&&(t=(t=e.exec(Ha))?t[1]:""),$a&&(e=(e=aa.document)?e.documentMode:void 0,e>parseFloat(t))?String(e):t)}();var cb=null,db=null,eb=null,hb=hb||"2.2.9";ob.prototype.j=function(e){return this.Wd.Y(e)},ob.prototype.toString=function(){return this.Wd.toString()},pb.prototype.qf=function(){return null},pb.prototype.ze=function(){return null};var qb=new pb;rb.prototype.qf=function(e){var t=this.Ka.Q;return sb(t,e)?t.j().J(e):(t=null!=this.Kd?new tb(this.Kd,!0,!1):this.Ka.C(),this.Rf.xc(e,t))},rb.prototype.ze=function(e,t,n){var r=null!=this.Kd?this.Kd:ub(this.Ka);return e=this.Rf.oe(r,t,1,n,e),0===e.length?null:e[0]},xb.prototype.add=function(e){this.vd.push(e)},xb.prototype.Zb=function(){return this.ra};var Fb="value";Gb.prototype.Zb=function(){var e=this.$d.mc();return"value"===this.ud?e.path:e.parent().path},Gb.prototype.Ae=function(){return this.ud},Gb.prototype.Vb=function(){return this.ve.Vb(this)},Gb.prototype.toString=function(){return this.Zb().toString()+":"+this.ud+":"+B(this.$d.mf())},Hb.prototype.Zb=function(){return this.path},Hb.prototype.Ae=function(){return"cancel"},Hb.prototype.Vb=function(){return this.ve.Vb(this)},Hb.prototype.toString=function(){return this.path.toString()+":cancel"},tb.prototype.j=function(){return this.w},Kb.prototype.get=function(){var e=this.eg.get(),t=xa(e);if(this.Dd)for(var n in this.Dd)t[n]-=this.Dd[n];return this.Dd=e,t},Lb.prototype.If=function(){var e,t=this.fd.get(),n={},r=!1;for(e in t)0<t[e]&&v(this.Nf,e)&&(n[e]=t[e],r=!0);r&&this.ba.Ve(n),setTimeout(q(this.If,this),Math.floor(6e5*Math.random()))},Mb.prototype.get=function(){return xa(this.Ec)};var Ob={},Pb={};Wb.prototype.Xc=function(e){return this.path.e()?new Wb(this.source,G,this.Ga.J(e)):new Wb(this.source,H(this.path),this.Ga)},Wb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ga.toString()+")"},Yb.prototype.Xc=function(){return this.path.e()?new Yb(this.source,G):new Yb(this.source,H(this.path))},Yb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},g=$b.prototype,g.Oa=function(e,t){return new $b(this.La,this.wa.Oa(e,t,this.La).X(null,null,!1,null,null))},g.remove=function(e){return new $b(this.La,this.wa.remove(e,this.La).X(null,null,!1,null,null))},g.get=function(e){for(var t,n=this.wa;!n.e();){if(t=this.La(e,n.key),0===t)return n.value;0>t?n=n.left:t>0&&(n=n.right)}return null},g.e=function(){return this.wa.e()},g.count=function(){return this.wa.count()},g.Sc=function(){return this.wa.Sc()},g.fc=function(){return this.wa.fc()},g.ia=function(e){return this.wa.ia(e)},g.Xb=function(e){return new cc(this.wa,null,this.La,!1,e)},g.Yb=function(e,t){return new cc(this.wa,e,this.La,!1,t)},g.$b=function(e,t){return new cc(this.wa,e,this.La,!0,t)},g.sf=function(e){return new cc(this.wa,null,this.La,!0,e)},g=ec.prototype,g.X=function(e,t,n,r,i){return new ec(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},g.count=function(){return this.left.count()+1+this.right.count()},g.e=function(){return!1},g.ia=function(e){return this.left.ia(e)||e(this.key,this.value)||this.right.ia(e)},g.Sc=function(){return fc(this).key},g.fc=function(){return this.right.e()?this.key:this.right.fc()},g.Oa=function(e,t,n){var r,i;return i=this,r=n(e,i.key),i=0>r?i.X(null,null,null,i.left.Oa(e,t,n),null):0===r?i.X(null,t,null,null,null):i.X(null,null,null,null,i.right.Oa(e,t,n)),gc(i)},g.remove=function(e,t){var n,r;if(n=this,0>t(e,n.key))n.left.e()||n.left.fa()||n.left.left.fa()||(n=ic(n)),n=n.X(null,null,null,n.left.remove(e,t),null);else{if(n.left.fa()&&(n=jc(n)),n.right.e()||n.right.fa()||n.right.left.fa()||(n=kc(n),n.left.left.fa()&&(n=jc(n),n=kc(n))),0===t(e,n.key)){if(n.right.e())return ac;r=fc(n.right),n=n.X(r.key,r.value,null,null,hc(n.right))}n=n.X(null,null,null,null,n.right.remove(e,t))}return gc(n)},g.fa=function(){return this.color},g=mc.prototype,g.X=function(){return this},g.Oa=function(e,t){return new ec(e,t,null)},g.remove=function(){return this},g.count=function(){return 0},g.e=function(){return!0},g.ia=function(){return!1},g.Sc=function(){return null},g.fc=function(){return null},g.fa=function(){return!1};var ac=new mc;g=L.prototype,g.toString=function(){for(var e="",t=this.Z;t<this.n.length;t++)""!==this.n[t]&&(e+="/"+this.n[t]);return e||"/"},g.slice=function(e){return this.n.slice(this.Z+(e||0))},g.parent=function(){if(this.Z>=this.n.length)return null;for(var e=[],t=this.Z;t<this.n.length-1;t++)e.push(this.n[t]);return new L(e,0)},g.u=function(e){for(var t=[],n=this.Z;n<this.n.length;n++)t.push(this.n[n]);if(e instanceof L)for(n=e.Z;n<e.n.length;n++)t.push(e.n[n]);else for(e=e.split("/"),n=0;n<e.length;n++)0<e[n].length&&t.push(e[n]);return new L(t,0)},g.e=function(){return this.Z>=this.n.length},g.ca=function(e){if(tc(this)!==tc(e))return!1;for(var t=this.Z,n=e.Z;t<=this.n.length;t++,n++)if(this.n[t]!==e.n[n])return!1;return!0},g.contains=function(e){var t=this.Z,n=e.Z;if(tc(this)>tc(e))return!1;for(;t<this.n.length;){if(this.n[t]!==e.n[n])return!1;++t,++n}return!0};var G=new L("");vc.prototype.push=function(e){0<this.Ra.length&&(this.Ha+=1),this.Ra.push(e),this.Ha+=wc(e),xc(this)},vc.prototype.pop=function(){var e=this.Ra.pop();this.Ha-=wc(e),0<this.Ra.length&&--this.Ha},zc.prototype.set=function(e,t){null==t?delete this.wc[e]:this.wc[e]=t},zc.prototype.get=function(e){return v(this.wc,e)?this.wc[e]:null},zc.prototype.remove=function(e){delete this.wc[e]},zc.prototype.wf=!0,g=Ac.prototype,g.set=function(e,t){null==t?this.Fc.removeItem(this.Pd+e):this.Fc.setItem(this.Pd+e,B(t))},g.get=function(e){return e=this.Fc.getItem(this.Pd+e),null==e?null:nb(e)},g.remove=function(e){this.Fc.removeItem(this.Pd+e)},g.wf=!1,g.toString=function(){return this.Fc.toString()};var Cc=Bc("localStorage"),P=Bc("sessionStorage");Dc.prototype.toString=function(){var e=(this.lb?"https://":"http://")+this.host;return this.Od&&(e+="<"+this.Od+">"),e};var Fc=function(){var e=1;return function(){return e++}}(),Bb=null,Lc=!0,Zc=/^-?\d{1,10}$/;cd.prototype.fg=function(e,t){if(null==e.Xa||null==t.Xa)throw Gc("Should only compare child_ events.");return this.g.compare(new F(e.Xa,e.Ja),new F(t.Xa,t.Ja))},g=id.prototype,g.Kf=function(e){return"value"===e},g.createEvent=function(e,t){var n=t.o.g;return new Gb("value",this,new S(e.Ja,t.mc(),n))},g.Vb=function(e){var t=this.sb;if("cancel"===e.Ae()){K(this.qb,"Raising a cancel event on a listener with no cancel callback");var n=this.qb;return function(){n.call(t,e.error)}}var r=this.Rb;return function(){r.call(t,e.$d)}},g.gf=function(e,t){return this.qb?new Hb(this,e,t):null},g.matches=function(e){return e instanceof id?e.Rb&&this.Rb?e.Rb===this.Rb&&e.sb===this.sb:!0:!1},g.tf=function(){return null!==this.Rb},g=jd.prototype,g.Kf=function(e){return e="children_added"===e?"child_added":e,("children_removed"===e?"child_removed":e)in this.ha},g.gf=function(e,t){return this.qb?new Hb(this,e,t):null},g.createEvent=function(e,t){K(null!=e.Xa,"Child events should have a childName.");var n=t.mc().u(e.Xa);return new Gb(e.type,this,new S(e.Ja,n,t.o.g),e.Qd)},g.Vb=function(e){var t=this.sb;if("cancel"===e.Ae()){K(this.qb,"Raising a cancel event on a listener with no cancel callback");var n=this.qb;return function(){n.call(t,e.error)}}var r=this.ha[e.ud];return function(){r.call(t,e.$d,e.Qd)}},g.matches=function(e){if(e instanceof jd){if(!this.ha||!e.ha)return!0;if(this.sb===e.sb){var t=pa(e.ha);if(t===pa(this.ha)){if(1===t){var t=qa(e.ha),n=qa(this.ha);return!(n!==t||e.ha[t]&&this.ha[n]&&e.ha[t]!==this.ha[n])}return oa(this.ha,function(t,n){return e.ha[n]===t})}}}return!1},g.tf=function(){return null!==this.ha},g=kd.prototype,g.K=function(e,t,n,r,i,o){return K(e.Jc(this.g),"A node must be indexed if only a child is updated"),i=e.J(t),i.Y(r).ca(n.Y(r))&&i.e()==n.e()?e:(null!=o&&(n.e()?e.Da(t)?hd(o,new D("child_removed",i,t)):K(e.L(),"A child remove without an old child only makes sense on a leaf node"):i.e()?hd(o,new D("child_added",n,t)):hd(o,new D("child_changed",n,t,i))),e.L()&&n.e()?e:e.O(t,n).mb(this.g))},g.xa=function(e,t,n){return null!=n&&(e.L()||e.R(N,function(e,r){t.Da(e)||hd(n,new D("child_removed",r,e))}),t.L()||t.R(N,function(t,r){if(e.Da(t)){var i=e.J(t);i.ca(r)||hd(n,new D("child_changed",r,t,i))}else hd(n,new D("child_added",r,t))})),t.mb(this.g)},g.ga=function(e,t){return e.e()?C:e.ga(t)},g.Na=function(){return!1},g.Wb=function(){return this},g=ld.prototype,g.matches=function(e){return 0>=this.g.compare(this.ed,e)&&0>=this.g.compare(e,this.Gc)},g.K=function(e,t,n,r,i,o){return this.matches(new F(t,n))||(n=C),this.Ce.K(e,t,n,r,i,o)},g.xa=function(e,t,n){t.L()&&(t=C);var r=t.mb(this.g),r=r.ga(C),i=this;return t.R(N,function(e,t){i.matches(new F(e,t))||(r=r.O(e,C))}),this.Ce.xa(e,r,n)},g.ga=function(e){return e},g.Na=function(){return!0},g.Wb=function(){return this.Ce},g=qd.prototype,g.K=function(e,t,n,r,i,o){return this.sa.matches(new F(t,n))||(n=C),e.J(t).ca(n)?e:e.Eb()<this.ka?this.sa.Wb().K(e,t,n,r,i,o):sd(this,e,t,n,i,o)},g.xa=function(e,t,n){var r;if(t.L()||t.e())r=C.mb(this.g);else if(2*this.ka<t.Eb()&&t.Jc(this.g)){r=C.mb(this.g),t=this.Jb?t.$b(this.sa.Gc,this.g):t.Yb(this.sa.ed,this.g);for(var i=0;0<t.Qa.length&&i<this.ka;){var o,a=J(t);if(!(o=this.Jb?0>=this.g.compare(this.sa.ed,a):0>=this.g.compare(a,this.sa.Gc)))break;r=r.O(a.name,a.S),i++}}else{r=t.mb(this.g),r=r.ga(C);var s,u,c;if(this.Jb){t=r.sf(this.g),s=this.sa.Gc,u=this.sa.ed;var l=td(this.g);c=function(e,t){return l(t,e)}}else t=r.Xb(this.g),s=this.sa.ed,u=this.sa.Gc,c=td(this.g);for(var i=0,h=!1;0<t.Qa.length;)a=J(t),!h&&0>=c(s,a)&&(h=!0),(o=h&&i<this.ka&&0>=c(a,u))?i++:r=r.O(a.name,C)}return this.sa.Wb().xa(e,r,n)},g.ga=function(e){return e},g.Na=function(){return!0},g.Wb=function(){return this.sa.Wb()},yd.prototype.ab=function(e,t,n,r){var i,o=new gd;if(t.type===Xb)t.source.xe?n=zd(this,e,t.path,t.Ga,n,r,o):(K(t.source.pf,"Unknown source."),i=t.source.bf,n=Ad(this,e,t.path,t.Ga,n,r,i,o));else if(t.type===Bd)t.source.xe?n=Cd(this,e,t.path,t.children,n,r,o):(K(t.source.pf,"Unknown source."),i=t.source.bf,n=Dd(this,e,t.path,t.children,n,r,i,o));else if(t.type===Ed)if(t.Vd)if(t=t.path,null!=n.tc(t))n=e;else{if(i=new rb(n,e,r),r=e.Q.j(),t.e()||".priority"===E(t))Ib(e.C())?t=n.za(ub(e)):(t=e.C().j(),K(t instanceof T,"serverChildren would be complete if leaf node"),t=n.yc(t)),t=this.U.xa(r,t,o);else{var a=E(t),s=n.xc(a,e.C());null==s&&sb(e.C(),a)&&(s=r.J(a)),t=null!=s?this.U.K(r,a,s,H(t),i,o):e.Q.j().Da(a)?this.U.K(r,a,C,H(t),i,o):r,t.e()&&Ib(e.C())&&(r=n.za(ub(e)),r.L()&&(t=this.U.xa(t,r,o)))}r=Ib(e.C())||null!=n.tc(G),n=Fd(e,t,r,this.U.Na())}else n=Gd(this,e,t.path,t.Qb,n,r,o);else{if(t.type!==Zb)throw Gc("Unknown operation type: "+t.type);r=t.path,t=e.C(),i=t.j(),a=t.ea||r.e(),n=Hd(this,new Id(e.Q,new tb(i,a,t.Ub)),r,n,qb,o)}return o=ra(o.bb),r=n,t=r.Q,t.ea&&(i=t.j().L()||t.j().e(),a=Jd(e),(0<o.length||!e.Q.ea||i&&!t.j().ca(a)||!t.j().B().ca(a.B()))&&o.push(Eb(Jd(r)))),new wd(n,o)};var Qd={};Pd.prototype.Ad=function(e,t){return 0!==this.compare(new F("[MIN_NAME]",e),new F("[MIN_NAME]",t))},Pd.prototype.Tc=function(){return Rd},ma(Sd,Pd),g=Sd.prototype,g.Ic=function(e){return!e.J(this.cc).e()},g.compare=function(e,t){var n=e.S.J(this.cc),r=t.S.J(this.cc),n=n.Dc(r);return 0===n?Ub(e.name,t.name):n},g.Pc=function(e,t){var n=M(e),n=C.O(this.cc,n);return new F(t,n)},g.Qc=function(){var e=C.O(this.cc,Td);return new F("[MAX_NAME]",e)},g.toString=function(){return this.cc},ma(Ud,Pd),g=Ud.prototype,g.compare=function(e,t){var n=e.S.B(),r=t.S.B(),n=n.Dc(r);return 0===n?Ub(e.name,t.name):n},g.Ic=function(e){return!e.B().e()},g.Ad=function(e,t){return!e.B().ca(t.B())},g.Tc=function(){return Rd},g.Qc=function(){return new F("[MAX_NAME]",new sc("[PRIORITY-POST]",Td))},g.Pc=function(e,t){var n=M(e);return new F(t,new sc("[PRIORITY-POST]",n))},g.toString=function(){return".priority"};var N=new Ud;ma(Vd,Pd),g=Vd.prototype,g.compare=function(e,t){return Ub(e.name,t.name)},g.Ic=function(){throw Gc("KeyIndex.isDefinedOn not expected to be called.")},g.Ad=function(){return!1},g.Tc=function(){return Rd},g.Qc=function(){return new F("[MAX_NAME]",C)},g.Pc=function(e){return K(p(e),"KeyIndex indexValue must always be a string."),new F(e,C)},g.toString=function(){return".key"};var Od=new Vd;ma(Wd,Pd),g=Wd.prototype,g.compare=function(e,t){var n=e.S.Dc(t.S);return 0===n?Ub(e.name,t.name):n},g.Ic=function(){return!0},g.Ad=function(e,t){return!e.ca(t)},g.Tc=function(){return Rd},g.Qc=function(){return Xd},g.Pc=function(e,t){var n=M(e);return new F(t,n)},g.toString=function(){return".value"};var Yd=new Wd,$d=new Zd;g=Zd.prototype,g.Ie=function(e){var t=ae(this);return t.ja=!0,t.ka=e,t.Nb="",t},g.Je=function(e){var t=ae(this);return t.ja=!0,t.ka=e,t.Nb="l",t},g.Ke=function(e){var t=ae(this);return t.ja=!0,t.ka=e,t.Nb="r",t},g.ae=function(e,t){var r=ae(this);return r.ma=!0,n(e)||(e=null),r.ec=e,null!=t?(r.Lb=!0,r.yb=t):(r.Lb=!1,r.yb=""),r},g.td=function(e,t){var r=ae(this);return r.pa=!0,n(e)||(e=null),r.bc=e,n(t)?(r.Tb=!0,r.wb=t):(r.Zg=!1,r.wb=""),r},g.toString=function(){return B(ce(this))},fe.prototype.get=function(e){var t=w(this.Bd,e);if(!t)throw Error("No index defined for "+e);return t===Qd?null:t};var je=new fe({".priority":Qd},{".priority":N}),le=["object","boolean","number","string"];g=sc.prototype,g.L=function(){return!0},g.B=function(){return this.aa},g.ga=function(e){return new sc(this.A,e)},g.J=function(e){return".priority"===e?this.aa:C},g.Y=function(e){return e.e()?this:".priority"===E(e)?this.aa:C},g.Da=function(){return!1},g.rf=function(){return null},g.O=function(e,t){return".priority"===e?this.ga(t):t.e()&&".priority"!==e?this:C.O(e,t).ga(this.aa)},g.K=function(e,t){var n=E(e);return null===n?t:t.e()&&".priority"!==n?this:(K(".priority"!==n||1===tc(e),".priority must be the last token in a path"),this.O(n,C.K(H(e),t)))},g.e=function(){return!1},g.Eb=function(){return 0},g.R=function(){return!1},g.H=function(e){return e&&!this.B().e()?{".value":this.Ca(),".priority":this.B().H()}:this.Ca()},g.hash=function(){if(null===this.Cb){var e="";this.aa.e()||(e+="priority:"+me(this.aa.H())+":");var t=typeof this.A,e=e+(t+":"),e="number"===t?e+Yc(this.A):e+this.A;this.Cb=Ic(e)}return this.Cb},g.Ca=function(){return this.A},g.Dc=function(e){if(e===C)return 1;if(e instanceof T)return-1;K(e.L(),"Unknown node type");var t=typeof e.A,n=typeof this.A,r=Na(le,t),i=Na(le,n);return K(r>=0,"Unknown leaf type: "+t),K(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.A<e.A?-1:this.A===e.A?0:1:i-r},g.mb=function(){return this},g.Jc=function(){return!0},g.ca=function(e){return e===this?!0:e.L()?this.A===e.A&&this.aa.ca(e.aa):!1},g.toString=function(){return B(this.H(!0))},g=T.prototype,g.L=function(){return!1},g.B=function(){return this.aa||C},g.ga=function(e){return this.m.e()?this:new T(this.m,e,this.xb)},g.J=function(e){return".priority"===e?this.B():(e=this.m.get(e),null===e?C:e)},g.Y=function(e){var t=E(e);return null===t?this:this.J(t).Y(H(e))},g.Da=function(e){return null!==this.m.get(e)},g.O=function(e,t){if(K(t,"We should always be passing snapshot nodes"),".priority"===e)return this.ga(t);var n,r,i=new F(e,t);return t.e()?(n=this.m.remove(e),i=ie(this.xb,i,this.m)):(n=this.m.Oa(e,t),i=ge(this.xb,i,this.m)),r=n.e()?C:this.aa,new T(n,r,i)},g.K=function(e,t){var n=E(e);if(null===n)return t;K(".priority"!==E(e)||1===tc(e),".priority must be the last token in a path");var r=this.J(n).K(H(e),t);return this.O(n,r)},g.e=function(){return this.m.e()},g.Eb=function(){return this.m.count()};var ne=/^(0|[1-9]\d*)$/;g=T.prototype,g.H=function(e){if(this.e())return null;var t={},n=0,r=0,i=!0;if(this.R(N,function(o,a){t[o]=a.H(e),n++,i&&ne.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&2*n>r){var o,a=[];for(o in t)a[o]=t[o];return a}return e&&!this.B().e()&&(t[".priority"]=this.B().H()),t},g.hash=function(){if(null===this.Cb){var e="";this.B().e()||(e+="priority:"+me(this.B().H())+":"),this.R(N,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.Cb=""===e?"":Ic(e)}return this.Cb},g.rf=function(e,t,n){return(n=oe(this,n))?(e=bc(n,new F(e,t)))?e.name:null:bc(this.m,e)},g.R=function(e,t){var n=oe(this,e);return n?n.ia(function(e){return t(e.name,e.S)}):this.m.ia(t)},g.Xb=function(e){return this.Yb(e.Tc(),e)},g.Yb=function(e,t){var n=oe(this,t);if(n)return n.Yb(e,function(e){return e});for(var n=this.m.Yb(e.name,Sb),r=dc(n);null!=r&&0>t.compare(r,e);)J(n),r=dc(n);return n},g.sf=function(e){return this.$b(e.Qc(),e)},g.$b=function(e,t){var n=oe(this,t);if(n)return n.$b(e,function(e){return e});for(var n=this.m.$b(e.name,Sb),r=dc(n);null!=r&&0<t.compare(r,e);)J(n),r=dc(n);return n},g.Dc=function(e){return this.e()?e.e()?0:-1:e.L()||e.e()?1:e===Td?-1:0},g.mb=function(e){if(e===Od||ta(this.xb.dc,e.toString()))return this;var t=this.xb,n=this.m;K(e!==Od,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,n=n.Xb(Sb),o=J(n);o;)i=i||e.Ic(o.S),r.push(o),o=J(n);return r=i?he(r,td(e)):Qd,i=e.toString(),n=xa(t.dc),n[i]=e,e=xa(t.Bd),e[i]=r,new T(this.m,this.aa,new fe(e,n))},g.Jc=function(e){return e===Od||ta(this.xb.dc,e.toString())},g.ca=function(e){if(e===this)return!0;if(e.L())return!1;if(this.B().ca(e.B())&&this.m.count()===e.m.count()){var t=this.Xb(N);e=e.Xb(N);for(var n=J(t),r=J(e);n&&r;){if(n.name!==r.name||!n.S.ca(r.S))return!1;n=J(t),r=J(e)}return null===n&&null===r}return!1},g.toString=function(){return B(this.H(!0))};var pe=Math.log(2),C=new T(new $b(Vb),null,je);ma(se,T),g=se.prototype,g.Dc=function(e){return e===this?0:1},g.ca=function(e){return e===this},g.B=function(){return this},g.J=function(){return C},g.e=function(){return!1};var Td=new se,Rd=new F("[MIN_NAME]",C),Xd=new F("[MAX_NAME]",Td);Id.prototype.C=function(){return this.Yd},g=te.prototype,g.C=function(){return this.Ka.C().j()},g.gb=function(e){var t=ub(this.Ka);return t&&(de(this.V.o)||!e.e()&&!t.J(E(e)).e())?t.Y(e):null},g.e=function(){return 0===this.Ya.length},g.Pb=function(e){this.Ya.push(e)},g.kb=function(e,t){var n=[];if(t){K(null==e,"A cancel should cancel all event registrations.");var r=this.V.path;Oa(this.Ya,function(e){(e=e.gf(t,r))&&n.push(e)})}if(e){for(var i=[],o=0;o<this.Ya.length;++o){var a=this.Ya[o];if(a.matches(e)){if(e.tf()){i=i.concat(this.Ya.slice(o+1));break}}else i.push(a)}this.Ya=i}else this.Ya=[];return n},g.ab=function(e,t,n){e.type===Bd&&null!==e.source.Ib&&(K(ub(this.Ka),"We should always have a full cache before handling merges"),K(Jd(this.Ka),"Missing event cache, even though we have a server cache"));var r=this.Ka;return e=this.Hf.ab(r,e,t,n),t=this.Hf,n=e.ke,K(n.Q.j().Jc(t.U.g),"Event snap not indexed"),K(n.C().j().Jc(t.U.g),"Server snap not indexed"),K(Ib(e.ke.C())||!Ib(r.C()),"Once a server snap is complete, it should never go back"),this.Ka=e.ke,ve(this,e.dg,e.ke.Q.j(),null)},xe.prototype.Xc=function(e){return this.path.e()?(e=this.children.subtree(new L(e)),e.e()?null:e.value?new Wb(this.source,G,e.value):new xe(this.source,G,e)):(K(E(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new xe(this.source,H(this.path),this.children))},xe.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},g=ye.prototype,g.yf=function(e,t,n,r){var i=e.path.toString();this.f("Listen called for "+i+" "+e.va());var o=ze(e,n),a={};this.$[o]=a,e=ee(e.o);var s=this;Ae(this,i+".json",e,function(e,t){var u=t;404===e&&(e=u=null),null===e&&s.Hb(i,u,!1,n),w(s.$,o)===a&&r(e?401==e?"permission_denied":"rest_error:"+e:"ok",null)})},g.Pf=function(e,t){var n=ze(e,t);delete this.$[n]},g.N=function(e,t){this.Aa=e;var n=$c(e),r=n.data,n=n.Bc&&n.Bc.exp;t&&t("ok",{auth:r,expires:n})},g.he=function(e){this.Aa=null,e("ok",null)},g.Ne=function(){},g.Cf=function(){},g.Jd=function(){},g.put=function(){},g.zf=function(){},g.Ve=function(){};var Ce=new $b(function(e,t){return e===t?0:t>e?-1:1});g=Be.prototype,g.e=function(){return null===this.value&&this.children.e()},g.subtree=function(e){if(e.e())return this;var t=this.children.get(E(e));return null!==t?t.subtree(H(e)):Nd},g.set=function(e,t){if(e.e())return new Be(t,this.children);var n=E(e),r=(this.children.get(n)||Nd).set(H(e),t),n=this.children.Oa(n,r);return new Be(this.value,n)},g.remove=function(e){if(e.e())return this.children.e()?Nd:new Be(null,this.children);var t=E(e),n=this.children.get(t);return n?(e=n.remove(H(e)),t=e.e()?this.children.remove(t):this.children.Oa(t,e),null===this.value&&t.e()?Nd:new Be(this.value,t)):this},g.get=function(e){if(e.e())return this.value;var t=this.children.get(E(e));return t?t.get(H(e)):null};var Nd=new Be(null);Be.prototype.toString=function(){var e={};return Kd(this,function(t,n){e[t.toString()]=n.toString()}),B(e)},Oe.prototype.Xc=function(e){return this.path.e()?null!=this.Qb.value?(K(this.Qb.children.e(),"affectedTree should not have overlapping affected paths."),this):(e=this.Qb.subtree(new L(e)),new Oe(G,e,this.Vd)):(K(E(this.path)===e,"operationForChild called for unrelated child."),new Oe(H(this.path),this.Qb,this.Vd))},Oe.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Vd+" affectedTree="+this.Qb+")"};var Xb=0,Bd=1,Ed=2,Zb=3,Pe=new Qe(!0,!1,null,!1),Re=new Qe(!1,!0,null,!1);Qe.prototype.toString=function(){return this.xe?"user":this.bf?"server(queryID="+this.Ib+")":"server"};var Te=new Se(new Be(null));Se.prototype.Rd=function(e){return e.e()?Te:(e=Md(this.W,e,Nd),new Se(e))},Se.prototype.e=function(){return this.W.e()},Se.prototype.apply=function(e){return Ze(G,this.W,e)},g=$e.prototype,g.Rd=function(e){var t=Ua(this.na,function(t){return t.kd===e});K(t>=0,"removeWrite called with nonexistent writeId.");var n=this.na[t];this.na.splice(t,1);for(var i=n.visible,o=!1,a=this.na.length-1;i&&a>=0;){var s=this.na[a];s.visible&&(a>=t&&bf(s,n.path)?i=!1:n.path.contains(s.path)&&(o=!0)),a--}if(i){if(o)this.T=cf(this.na,df,G),this.Mc=0<this.na.length?this.na[this.na.length-1].kd:-1;else if(n.Ga)this.T=this.T.Rd(n.path);else{var u=this;r(n.children,function(e,t){u.T=u.T.Rd(n.path.u(t))})}return!0}return!1},g.za=function(e,t,n,r){if(n||r){var i=Ye(this.T,e);return!r&&i.e()?t:r||null!=t||null!=We(i,G)?(i=cf(this.na,function(t){return(t.visible||r)&&(!n||!(0<=Na(n,t.kd)))&&(t.path.contains(e)||e.contains(t.path))},e),t=t||C,i.apply(t)):null}return i=We(this.T,e),null!=i?i:(i=Ye(this.T,e),i.e()?t:null!=t||null!=We(i,G)?(t=t||C,i.apply(t)):null)},g.yc=function(e,t){var n=C,r=We(this.T,e);if(r)r.L()||r.R(N,function(e,t){n=n.O(e,t)});else if(t){var i=Ye(this.T,e);t.R(N,function(e,t){var r=Ye(i,new L(e)).apply(t);n=n.O(e,r)}),Oa(Xe(i),function(e){n=n.O(e.name,e.S)})}else i=Ye(this.T,e),Oa(Xe(i),function(e){n=n.O(e.name,e.S)});return n},g.ld=function(e,t,n,r){return K(n||r,"Either existingEventSnap or existingServerSnap must exist"),e=e.u(t),null!=We(this.T,e)?null:(e=Ye(this.T,e),e.e()?r.Y(t):e.apply(r.Y(t)))},g.xc=function(e,t,n){e=e.u(t);var r=We(this.T,e);return null!=r?r:sb(n,t)?Ye(this.T,e).apply(n.j().J(t)):null},g.tc=function(e){return We(this.T,e)},g.oe=function(e,t,n,r,i,o){var a;if(e=Ye(this.T,e),a=We(e,G),null==a){if(null==t)return[];a=e.apply(t)}if(a=a.mb(o),a.e()||a.L())return[];for(t=[],e=td(o),i=i?a.$b(n,o):a.Yb(n,o),o=J(i);o&&t.length<r;)0!==e(o,n)&&t.push(o),o=J(i);return t},g=ef.prototype,g.za=function(e,t,n){return this.W.za(this.Mb,e,t,n)},g.yc=function(e){return this.W.yc(this.Mb,e)},g.ld=function(e,t,n){return this.W.ld(this.Mb,e,t,n)},g.tc=function(e){return this.W.tc(this.Mb.u(e))},g.oe=function(e,t,n,r,i){return this.W.oe(this.Mb,e,t,n,r,i)},g.xc=function(e,t){return this.W.xc(this.Mb,e,t)},g.u=function(e){return new ef(this.Mb.u(e),this.W)},g=ff.prototype,g.e=function(){return wa(this.ya)},g.ab=function(e,t,n){var i=e.source.Ib;if(null!==i)return i=w(this.ya,i),K(null!=i,"SyncTree gave us an op for an invalid query."),i.ab(e,t,n);var o=[];return r(this.ya,function(r){o=o.concat(r.ab(e,t,n))}),o},g.Pb=function(e,t,n,r,i){var o=e.va(),a=w(this.ya,o);if(!a){var a=n.za(i?r:null),s=!1;a?s=!0:(a=r instanceof T?n.yc(r):C,s=!1),a=new te(e,new Id(new tb(a,s,!1),new tb(r,i,!1))),this.ya[o]=a}return a.Pb(t),we(a,t)},g.kb=function(e,t,n){var i=e.va(),o=[],a=[],s=null!=gf(this);if("default"===i){var u=this;r(this.ya,function(e,r){a=a.concat(e.kb(t,n)),e.e()&&(delete u.ya[r],de(e.V.o)||o.push(e.V))})}else{var c=w(this.ya,i);c&&(a=a.concat(c.kb(t,n)),c.e()&&(delete this.ya[i],de(c.V.o)||o.push(c.V)))}return s&&null==gf(this)&&o.push(new U(e.k,e.path)),{Ig:o,kg:a}},g.gb=function(e){var t=null;return r(this.ya,function(n){t=t||n.gb(e)}),t},kf.prototype.Pb=function(e,t){var n=e.path,r=null,i=!1;Ke(this.ta,n,function(e,t){var o=O(e,n);return r=t.gb(o),i=i||null!=gf(t),!r});var o=this.ta.get(n);o?(i=i||null!=gf(o),r=r||o.gb(G)):(o=new ff,this.ta=this.ta.set(n,o));var a;null!=r?a=!0:(a=!1,r=C,Ne(this.ta.subtree(n),function(e,t){var n=t.gb(G);n&&(r=r.O(e,n))}));var s=null!=jf(o,e);if(!s&&!de(e.o)){var u=vf(e);K(!(u in this.lc),"View does not exist, but we have a tag");var c=wf++;this.lc[u]=c,this.af["_"+c]=u}return a=o.Pb(e,t,new ef(n,this.jb),r,a),s||i||(o=jf(o,e),a=a.concat(xf(this,e,o))),a},kf.prototype.kb=function(e,t,n){var r=e.path,i=this.ta.get(r),o=[];if(i&&("default"===e.va()||null!=jf(i,e))){o=i.kb(e,t,n),i.e()&&(this.ta=this.ta.remove(r)),i=o.Ig,o=o.kg,t=-1!==Ua(i,function(e){return de(e.o)});var a=Ie(this.ta,r,function(e,t){return null!=gf(t)});if(t&&!a&&(r=this.ta.subtree(r),!r.e()))for(var r=yf(r),s=0;s<r.length;++s){var u=r[s],c=u.V,u=zf(this,u);this.Nc.Ye(c,Af(this,c),u.xd,u.G)}if(!a&&0<i.length&&!n)if(t)this.Nc.be(e,null);else{var l=this;Oa(i,function(e){e.va();var t=l.lc[vf(e)];l.Nc.be(e,t)})}Bf(this,i)}return o},kf.prototype.za=function(e,t){var n=this.jb,r=Ie(this.ta,e,function(t,n){var r=O(t,e);return(r=n.gb(r))?r:void 0});return n.za(e,r,t,!0)};var wf=1;g=Ff.prototype,g.Ca=function(){return this.w.value},g.clear=function(){this.w.value=null,this.w.children={},this.w.nd=0,If(this)},g.wd=function(){return 0<this.w.nd},g.e=function(){return null===this.Ca()&&!this.wd()},g.R=function(e){var t=this;r(this.w.children,function(n,r){e(new Ff(r,t,n))})},g.path=function(){return new L(null===this.Zc?this.Gd:this.Zc.path()+"/"+this.Gd)},g.name=function(){return this.Gd},g.parent=function(){return this.Zc},Lf.prototype.ge=function(e,t){for(var n=this.Oc[e]||[],r=0;r<n.length;r++)n[r].zc.apply(n[r].Ma,Array.prototype.slice.call(arguments,1))},Lf.prototype.Fb=function(e,t,n){Mf(this,e),this.Oc[e]=this.Oc[e]||[],this.Oc[e].push({zc:t,Ma:n}),(e=this.Be(e))&&t.apply(n,e)},Lf.prototype.hc=function(e,t,n){Mf(this,e),e=this.Oc[e]||[];for(var r=0;r<e.length;r++)if(e[r].zc===t&&(!n||n===e[r].Ma)){e.splice(r,1);break}};var Nf=function(){var e=0,t=[];return function(n){var r=n===e;e=n;for(var i=Array(8),o=7;o>=0;o--)i[o]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(n%64),n=Math.floor(n/64);if(K(0===n,"Cannot push at time == 0"),n=i.join(""),r){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;12>o;o++)t[o]=Math.floor(64*Math.random());for(o=0;12>o;o++)n+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(t[o]);return K(20===n.length,"nextPushId: Length should be 20."),
n}}();ma(Of,Lf),Of.prototype.Be=function(e){return K("online"===e,"Unknown event type: "+e),[this.jc]},ca(Of),ma(Pf,Lf),Pf.prototype.Be=function(e){return K("visible"===e,"Unknown event type: "+e),[this.Ob]},ca(Pf);var Qf=/[\[\].#$\/\u0000-\u001F\u007F]/,Rf=/[\[\].#$\u0000-\u001F\u007F]/,Sf=/^[a-zA-Z][a-zA-Z._\-+]+$/;g=hg.prototype,g.add=function(e,t){this.set[e]=null!==t?t:!0},g.contains=function(e){return v(this.set,e)},g.get=function(e){return this.contains(e)?this.set[e]:void 0},g.remove=function(e){delete this.set[e]},g.clear=function(){this.set={}},g.e=function(){return wa(this.set)},g.count=function(){return pa(this.set)},g.keys=function(){var e=[];return r(this.set,function(t,n){e.push(n)}),e},pc.prototype.find=function(e){if(null!=this.A)return this.A.Y(e);if(e.e()||null==this.m)return null;var t=E(e);return e=H(e),this.m.contains(t)?this.m.get(t).find(e):null},pc.prototype.nc=function(e,t){if(e.e())this.A=t,this.m=null;else if(null!==this.A)this.A=this.A.K(e,t);else{null==this.m&&(this.m=new hg);var n=E(e);this.m.contains(n)||this.m.add(n,new pc),n=this.m.get(n),e=H(e),n.nc(e,t)}},pc.prototype.R=function(e){null!==this.m&&ig(this.m,function(t,n){e(t,n)})};var kg="auth.firebase.com",mg=["remember","redirectTo"];og.prototype.set=function(e,t){if(!t){if(!this.ce.length)throw Error("fb.login.SessionManager : No storage options available!");t=this.ce[0]}t.set(this.Re,e)},og.prototype.get=function(){var e=Qa(this.ce,q(this.og,this)),e=Pa(e,function(e){return null!==e});return Xa(e,function(e,t){return ad(t.token)-ad(e.token)}),0<e.length?e.shift():null},og.prototype.og=function(e){try{var t=e.get(this.Re);if(t&&t.token)return t}catch(n){}return null},og.prototype.clear=function(){var e=this;Oa(this.ce,function(t){t.remove(e.Re)})},Ag.prototype.ic=function(e){var t,n=this;try{t=nb(e.data)}catch(r){}t&&"request"===t.a&&(vg(window,"message",this.ic),this.de=e.origin,this.Ac&&setTimeout(function(){n.Ac(n.de,t.d,function(e,t){n.bg=!t,n.Ac=void 0,Bg(n,{a:"response",d:e,forceKeepWindowOpen:t})})},0))},Ag.prototype.zg=function(){try{vg(this.zd,"message",this.Bf)}catch(e){}this.Ac&&(Bg(this,{a:"error",d:"unknown closed window"}),this.Ac=void 0);try{window.close()}catch(t){}},Ag.prototype.Bf=function(e){if(this.bg&&"die"===e.data)try{window.close()}catch(t){}},Cg.prototype.open=function(e,t){P.set("redirect_request_id",this.pc),P.set("redirect_request_id",this.pc),t.requestId=this.pc,t.redirectTo=t.redirectTo||window.location.href,e+=(/\?/.test(e)?"":"?")+kb(t),window.location=e},Cg.isAvailable=function(){return!rg()&&!qg()},Cg.prototype.Cc=function(){return"redirect"};var Dg={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};Fg.prototype.open=function(e,t,n){function r(e){if(o&&(document.body.removeChild(o),o=void 0),l&&(l=clearInterval(l)),vg(window,"message",i),vg(window,"unload",r),c&&!e)try{c.close()}catch(t){a.postMessage("die",u)}c=a=void 0}function i(e){if(e.origin===u)try{var t=nb(e.data);"ready"===t.a?a.postMessage(h,u):"error"===t.a?(r(!1),n&&(n(t.d),n=null)):"response"===t.a&&(r(t.forceKeepWindowOpen),n&&(n(null,t.d),n=null))}catch(i){}}var o,a,s=sg(8);if(!this.options.relay_url)return n(Error("invalid arguments: origin of url and relay_url must match"));var u=wg(e);if(u!==wg(this.options.relay_url))n&&setTimeout(function(){n(Error("invalid arguments: origin of url and relay_url must match"))},0);else{s&&(o=document.createElement("iframe"),o.setAttribute("src",this.options.relay_url),o.style.display="none",o.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(o),a=o.contentWindow),e+=(/\?/.test(e)?"":"?")+kb(t);var c=window.open(e,this.options.window_name,this.options.window_features);a||(a=c);var l=setInterval(function(){c&&c.closed&&(r(!1),n&&(n(Eg("USER_CANCELLED")),n=null))},500),h=B({a:"request",d:t});ug(window,"unload",r),ug(window,"message",i)}},Fg.isAvailable=function(){var e;return(e="postMessage"in window&&!rg())&&((e=qg()||"undefined"!=typeof navigator&&(!!pg().match(/Windows Phone/)||!!window.Windows&&/^ms-appx:/.test(location.href)))||(e=pg(),e="undefined"!=typeof navigator&&"undefined"!=typeof window&&!!(e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||e.match(/CriOS/)||e.match(/Twitter for iPhone/)||e.match(/FBAN\/FBIOS/)||window.navigator.standalone)),e=!e),e&&!pg().match(/PhantomJS/)},Fg.prototype.Cc=function(){return"popup"},Gg.prototype.open=function(e,t,n){function r(){n&&(n(Eg("REQUEST_INTERRUPTED")),n=null)}var i,o=new XMLHttpRequest,a=this.options.method.toUpperCase();if(ug(window,"beforeunload",r),o.onreadystatechange=function(){if(n&&4===o.readyState){var e;if(200<=o.status&&300>o.status){try{e=nb(o.responseText)}catch(t){}n(null,e)}else n(500<=o.status&&600>o.status?Eg("SERVER_ERROR"):Eg("NETWORK_ERROR"));n=null,vg(window,"beforeunload",r)}},"GET"===a)e+=(/\?/.test(e)?"":"?")+kb(t),i=null;else{var s=this.options.headers.content_type;"application/json"===s&&(i=B(t)),"application/x-www-form-urlencoded"===s&&(i=kb(t))}o.open(a,e,!0),e={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"},za(e,this.options.headers);for(var u in e)o.setRequestHeader(u,e[u]);o.send(i)},Gg.isAvailable=function(){var e;return(e=!!window.XMLHttpRequest)&&(e=pg(),e=!(e.match(/MSIE/)||e.match(/Trident/))||sg(10)),e},Gg.prototype.Cc=function(){return"json"},Hg.prototype.open=function(e,t,n){function r(){n&&(n(Eg("USER_CANCELLED")),n=null)}var i,o=this,a=Qc(kg);t.requestId=this.pc,t.redirectTo=a.scheme+"://"+a.host+"/blank/page.html",e+=/\?/.test(e)?"":"?",e+=kb(t),(i=window.open(e,"_blank","location=no"))&&ha(i.addEventListener)?(i.addEventListener("loadstart",function(e){var t;if(t=e&&e.url)e:{try{var s=document.createElement("a");s.href=e.url,t=s.host===a.host&&"/blank/page.html"===s.pathname;break e}catch(u){}t=!1}t&&(e=xg(e.url),i.removeEventListener("exit",r),i.close(),e=new lg(null,null,{requestId:o.pc,requestKey:e}),o.Ef.requestWithCredential("/auth/session",e,n),n=null)}),i.addEventListener("exit",r)):n(Eg("TRANSPORT_UNAVAILABLE"))},Hg.isAvailable=function(){return qg()},Hg.prototype.Cc=function(){return"redirect"},Ig.prototype.open=function(e,t,n){function r(){n&&(n(Eg("REQUEST_INTERRUPTED")),n=null)}function i(){setTimeout(function(){window.__firebase_auth_jsonp[o]=void 0,wa(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var e=document.getElementById(o);e&&e.parentNode.removeChild(e)}catch(t){}},1),vg(window,"beforeunload",r)}var o="fn"+(new Date).getTime()+Math.floor(99999*Math.random());t[this.options.callback_parameter]="__firebase_auth_jsonp."+o,e+=(/\?/.test(e)?"":"?")+kb(t),ug(window,"beforeunload",r),window.__firebase_auth_jsonp[o]=function(e){n&&(n(null,e),n=null),i()},Jg(o,e,n)},Ig.isAvailable=function(){return"undefined"!=typeof document&&null!=document.createElement},Ig.prototype.Cc=function(){return"json"},ma(Kg,Lf),g=Kg.prototype,g.ye=function(){return this.nb||null},g.te=function(e,t){Tg(this);var n=ng(e);n.$a._method="POST",this.qc("/users",n,function(e,n){e?R(t,e):R(t,e,n)})},g.Ue=function(e,t){var n=this;Tg(this);var r="/users/"+encodeURIComponent(e.email),i=ng(e);i.$a._method="DELETE",this.qc(r,i,function(e,r){!e&&r&&r.uid&&n.nb&&n.nb.uid&&n.nb.uid===r.uid&&Rg(n),R(t,e)})},g.qe=function(e,t){Tg(this);var n="/users/"+encodeURIComponent(e.email)+"/password",r=ng(e);r.$a._method="PUT",r.$a.password=e.newPassword,this.qc(n,r,function(e){R(t,e)})},g.pe=function(e,t){Tg(this);var n="/users/"+encodeURIComponent(e.oldEmail)+"/email",r=ng(e);r.$a._method="PUT",r.$a.email=e.newEmail,r.$a.password=e.password,this.qc(n,r,function(e){R(t,e)})},g.We=function(e,t){Tg(this);var n="/users/"+encodeURIComponent(e.email)+"/password",r=ng(e);r.$a._method="POST",this.qc(n,r,function(e){R(t,e)})},g.qc=function(e,t,n){Wg(this,[Gg,Ig],e,t,n)},g.Be=function(e){return K("auth_status"===e,'initial event must be of type "auth_status"'),this.Te?null:[this.nb]};var ah,bh;$g.prototype.open=function(e,t){this.hf=0,this.la=t,this.Af=new Xg(e),this.Ab=!1;var n=this;this.rb=setTimeout(function(){n.f("Timed out trying to connect."),n.hb(),n.rb=null},Math.floor(3e4)),Sc(function(){if(!n.Ab){n.Ta=new ch(function(e,t,r,i,o){if(dh(n,arguments),n.Ta)if(n.rb&&(clearTimeout(n.rb),n.rb=null),n.Hc=!0,"start"==e)n.id=t,n.Gf=r;else{if("close"!==e)throw Error("Unrecognized command received: "+e);t?(n.Ta.Xd=!1,Yg(n.Af,t,function(){n.hb()})):n.hb()}},function(e,t){dh(n,arguments),Zg(n.Af,e,t)},function(){n.hb()},n.jd);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.Ta.ie&&(e.cb=n.Ta.ie),e.v="5",n.Zd&&(e.s=n.Zd),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f"),e=n.jd(e),n.f("Connecting via long-poll to "+e),eh(n.Ta,e,function(){})}})},$g.prototype.start=function(){var e=this.Ta,t=this.Gf;for(e.sg=this.id,e.tg=t,e.me=!0;fh(e););e=this.id,t=this.Gf,this.gc=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.gc.src=this.jd(n),this.gc.style.display="none",document.body.appendChild(this.gc)},$g.isAvailable=function(){return ah||!bh&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.Vg)&&!0},g=$g.prototype,g.Ed=function(){},g.dd=function(){this.Ab=!0,this.Ta&&(this.Ta.close(),this.Ta=null),this.gc&&(document.body.removeChild(this.gc),this.gc=null),this.rb&&(clearTimeout(this.rb),this.rb=null)},g.hb=function(){this.Ab||(this.f("Longpoll is closing itself"),this.dd(),this.la&&(this.la(this.Hc),this.la=null))},g.close=function(){this.Ab||(this.f("Longpoll is being closed."),this.dd())},g.send=function(e){e=B(e),this.pb+=e.length,Nb(this.Va,"bytes_sent",e.length),e=Jc(e),e=fb(e,!0),e=Wc(e,1840);for(var t=0;t<e.length;t++){var n=this.Ta;n.ad.push({Kg:this.hf,Sg:e.length,kf:e[t]}),n.me&&fh(n),this.hf++}},ch.prototype.close=function(){if(this.me=!1,this.Ea){this.Ea.fb.body.innerHTML="";var e=this;setTimeout(function(){null!==e.Ea&&(document.body.removeChild(e.Ea),e.Ea=null)},Math.floor(0))}var t=this.ib;t&&(this.ib=null,t())};var hh=null;"undefined"!=typeof MozWebSocket?hh=MozWebSocket:"undefined"!=typeof WebSocket&&(hh=WebSocket);var jh;ih.prototype.open=function(e,t){this.ib=t,this.xg=e,this.f("Websocket connecting to "+this.eb),this.Hc=!1,Cc.set("previous_websocket_failure",!0);try{this.ua=new hh(this.eb)}catch(n){this.f("Error instantiating WebSocket.");var r=n.message||n.data;return r&&this.f(r),void this.hb()}var i=this;this.ua.onopen=function(){i.f("Websocket connected."),i.Hc=!0},this.ua.onclose=function(){i.f("Websocket connection was disconnected."),i.ua=null,i.hb()},this.ua.onmessage=function(e){if(null!==i.ua)if(e=e.data,i.ob+=e.length,Nb(i.Va,"bytes_received",e.length),kh(i),null!==i.frames)lh(i,e);else{e:{if(K(null===i.frames,"We already have a frame buffer"),6>=e.length){var t=Number(e);if(!isNaN(t)){i.cf=t,i.frames=[],e=null;break e}}i.cf=1,i.frames=[]}null!==e&&lh(i,e)}},this.ua.onerror=function(e){i.f("WebSocket error.  Closing connection."),(e=e.message||e.data)&&i.f(e),i.hb()}},ih.prototype.start=function(){},ih.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&1<t.length&&4.4>parseFloat(t[1])&&(e=!0)}return!e&&null!==hh&&!jh},ih.responsesRequiredToBeHealthy=2,ih.healthyTimeout=3e4,g=ih.prototype,g.Ed=function(){Cc.remove("previous_websocket_failure")},g.send=function(e){kh(this),e=B(e),this.pb+=e.length,Nb(this.Va,"bytes_sent",e.length),e=Wc(e,16384),1<e.length&&this.ua.send(String(e.length));for(var t=0;t<e.length;t++)this.ua.send(e[t])},g.dd=function(){this.Ab=!0,this.Kc&&(clearInterval(this.Kc),this.Kc=null),this.ua&&(this.ua.close(),this.ua=null)},g.hb=function(){this.Ab||(this.f("WebSocket is closing itself"),this.dd(),this.ib&&(this.ib(this.Hc),this.ib=null))},g.close=function(){this.Ab||(this.f("WebSocket is being closed"),this.dd())};var oh=[$g,ih];qh.prototype.Fa=function(e){Bh(this,{t:"d",d:e})},qh.prototype.Id=function(e){yh(this),this.ic(e)},qh.prototype.close=function(){2!==this.Ua&&(this.f("Closing realtime connection."),this.Ua=2,xh(this),this.la&&(this.la(),this.la=null))};var Dh=0,Fh=0;g=Ch.prototype,g.Fa=function(e,t,n){var r=++this.Jg;e={r:r,a:e,b:t},this.f(B(e)),K(this.oa,"sendRequest call when we're not connected not allowed."),this.Ia.Fa(e),n&&(this.Td[r]=n)},g.yf=function(e,t,n,r){var i=e.va(),o=e.path.toString();this.f("Listen called for "+o+" "+i),this.$[o]=this.$[o]||{},K(!this.$[o][i],"listen() called twice for same path/queryId."),e={G:r,xd:t,Gg:e,tag:n},this.$[o][i]=e,this.oa&&Gh(this,e)},g.N=function(e,t,n){this.Aa={gg:e,of:!1,zc:t,md:n},this.f("Authenticating using credential: "+e),Ih(this),(t=40==e.length)||(e=$c(e).Bc,t="object"==typeof e&&!0===w(e,"admin")),t&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.Fd=3e4)},g.he=function(e){delete this.Aa,this.oa&&this.Fa("unauth",{},function(t){e(t.s,t.d)})},g.Pf=function(e,t){var n=e.path.toString(),r=e.va();if(this.f("Unlisten called for "+n+" "+r),Hh(this,n,r)&&this.oa){var i=ce(e.o);this.f("Unlisten on "+n+" for "+r),n={p:n},t&&(n.q=i,n.t=t),this.Fa("n",n)}},g.Ne=function(e,t,n){this.oa?Jh(this,"o",e,t,n):this.Vc.push({$c:e,action:"o",data:t,G:n})},g.Cf=function(e,t,n){this.oa?Jh(this,"om",e,t,n):this.Vc.push({$c:e,action:"om",data:t,G:n})},g.Jd=function(e,t){this.oa?Jh(this,"oc",e,null,t):this.Vc.push({$c:e,action:"oc",data:null,G:t})},g.put=function(e,t,n,r){Kh(this,"p",e,t,n,r)},g.zf=function(e,t,n,r){Kh(this,"m",e,t,n,r)},g.Ve=function(e){this.oa&&(e={c:e},this.f("reportStats",e),this.Fa("s",e,function(e){"ok"!==e.s&&this.f("reportStats","Error sending stats: "+e.d)}))},g.Id=function(e){if("r"in e){this.f("from server: "+B(e));var t=e.r,n=this.Td[t];n&&(delete this.Td[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&(t=e.a,n=e.b,this.f("handleServerMessage",t,n),"d"===t?this.Hb(n.p,n.d,!1,n.t):"m"===t?this.Hb(n.p,n.d,!0,n.t):"c"===t?Mh(this,n.p,n.q):"ac"===t?(e=n.s,t=n.d,n=this.Aa,delete this.Aa,n&&n.md&&n.md(e,t)):"sd"===t?this.Xe?this.Xe(n):"msg"in n&&"undefined"!=typeof console&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: ")):Oc("Unrecognized action received from server: "+B(t)+"\nAre you using the latest client?"))}},g.Wc=function(e){this.f("connection ready"),this.oa=!0,this.Lc=(new Date).getTime(),this.Pe({serverTimeOffset:e-(new Date).getTime()}),this.nf&&(e={},e["sdk.js."+hb.replace(/\./g,"-")]=1,qg()&&(e["framework.cordova"]=1),this.Ve(e)),Nh(this),this.nf=!1,this.Uc(!0)},g.Ag=function(e){e&&!this.Ob&&this.Za===this.Fd&&(this.f("Window became visible.  Reducing delay."),this.Za=1e3,this.Ia||Eh(this,0)),this.Ob=e},g.yg=function(e){e?(this.f("Browser went online."),this.Za=1e3,this.Ia||Eh(this,0)):(this.f("Browser went offline.  Killing connection."),this.Ia&&this.Ia.close())},g.Df=function(){this.f("data client disconnected"),this.oa=!1,this.Ia=null;for(var e=0;e<this.qa.length;e++){var t=this.qa[e];t&&"h"in t.Jf&&t.Hg&&(t.G&&t.G("disconnect"),delete this.qa[e],this.Yc--)}0===this.Yc&&(this.qa=[]),this.Td={},Ph(this)&&(this.Ob?this.Lc&&(3e4<(new Date).getTime()-this.Lc&&(this.Za=1e3),this.Lc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Za=this.Fd,this.He=(new Date).getTime()),e=Math.max(0,this.Za-((new Date).getTime()-this.He)),e*=Math.random(),this.f("Trying to reconnect in "+e+"ms"),Eh(this,e),this.Za=Math.min(this.Fd,1.3*this.Za)),this.Uc(!1)},g.zb=function(){this.Fe=!0,this.Ia?this.Ia.close():(this.tb&&(clearTimeout(this.tb),this.tb=null),this.oa&&this.Df())},g.rc=function(){this.Fe=!1,this.Za=1e3,this.Ia||Eh(this,0)};var V={mg:function(){ah=jh=!0}};V.forceLongPolling=V.mg,V.ng=function(){bh=!0},V.forceWebSockets=V.ng,V.Ng=function(e,t){e.k.Sa.Xe=t},V.setSecurityDebugCallback=V.Ng,V.Ze=function(e,t){e.k.Ze(t)},V.stats=V.Ze,V.$e=function(e,t){e.k.$e(t)},V.statsIncrementCounter=V.$e,V.sd=function(e){return e.k.sd},V.dataUpdateCount=V.sd,V.qg=function(e,t){e.k.Ee=t},V.interceptServerData=V.qg,V.wg=function(e){new Ag(e)},V.onPopupOpen=V.wg,V.Lg=function(e){kg=e},V.setAuthenticationServer=V.Lg,S.prototype.H=function(){return x("Firebase.DataSnapshot.val",0,0,arguments.length),this.w.H()},S.prototype.val=S.prototype.H,S.prototype.mf=function(){return x("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.w.H(!0)},S.prototype.exportVal=S.prototype.mf,S.prototype.lg=function(){return x("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.w.e()},S.prototype.exists=S.prototype.lg,S.prototype.u=function(e){x("Firebase.DataSnapshot.child",0,1,arguments.length),ga(e)&&(e=String(e)),ag("Firebase.DataSnapshot.child",e);var t=new L(e),n=this.V.u(t);return new S(this.w.Y(t),n,N)},S.prototype.child=S.prototype.u,S.prototype.Da=function(e){x("Firebase.DataSnapshot.hasChild",1,1,arguments.length),ag("Firebase.DataSnapshot.hasChild",e);var t=new L(e);return!this.w.Y(t).e()},S.prototype.hasChild=S.prototype.Da,S.prototype.B=function(){return x("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.w.B().H()},S.prototype.getPriority=S.prototype.B,S.prototype.forEach=function(e){if(x("Firebase.DataSnapshot.forEach",1,1,arguments.length),A("Firebase.DataSnapshot.forEach",1,e,!1),this.w.L())return!1;var t=this;return!!this.w.R(this.g,function(n,r){return e(new S(r,t.V.u(n),N))})},S.prototype.forEach=S.prototype.forEach,S.prototype.wd=function(){return x("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),this.w.L()?!1:!this.w.e()},S.prototype.hasChildren=S.prototype.wd,S.prototype.name=function(){return Q("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead."),x("Firebase.DataSnapshot.name",0,0,arguments.length),this.key()},S.prototype.name=S.prototype.name,S.prototype.key=function(){return x("Firebase.DataSnapshot.key",0,0,arguments.length),this.V.key()},S.prototype.key=S.prototype.key,S.prototype.Eb=function(){return x("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.w.Eb()},S.prototype.numChildren=S.prototype.Eb,S.prototype.mc=function(){return x("Firebase.DataSnapshot.ref",0,0,arguments.length),this.V},S.prototype.ref=S.prototype.mc,g=Qh.prototype,g.toString=function(){return(this.F.lb?"https://":"http://")+this.F.host},g.name=function(){return this.F.Db},g.Hb=function(e,t,n,r){this.sd++;var i=new L(e);t=this.Ee?this.Ee(e,t):t,e=[],r?n?(t=na(t,function(e){return M(e)}),e=uf(this.M,i,t,r)):(t=M(t),e=qf(this.M,i,t,r)):n?(r=na(t,function(e){return M(e)}),e=pf(this.M,i,r)):(r=M(t),e=mf(this.M,new Wb(Re,i,r))),r=i,0<e.length&&(r=Uh(this,i)),Ab(this.da,r,e)},g.Uc=function(e){Rh(this,"connected",e),!1===e&&Vh(this)},g.Pe=function(e){var t=this;Xc(e,function(e,n){Rh(t,n,e)})},g.Me=function(e){Rh(this,"authenticated",e)},g.Kb=function(e,t,n,r){this.f("set",{path:e.toString(),value:t,Yg:n});var i=Th(this);t=M(t,n);var i=rc(t,i),o=this.Hd++,i=lf(this.M,e,i,o,!0);wb(this.da,i);var a=this;this.ba.put(e.toString(),t.H(!0),function(t,n){var i="ok"===t;i||Q("set at "+e+" failed: "+t),i=of(a.M,o,!i),Ab(a.da,e,i),Wh(r,t,n)}),i=Xh(this,e),Uh(this,i),Ab(this.da,i,[])},g.update=function(e,t,n){this.f("update",{path:e.toString(),value:t});var i=!0,o=Th(this),a={};if(r(t,function(e,t){i=!1;var n=M(e);a[t]=rc(n,o)}),i)Cb("update() called with empty data.  Don't do anything."),Wh(n,"ok");else{var s=this.Hd++,u=nf(this.M,e,a,s);wb(this.da,u);var c=this;this.ba.zf(e.toString(),t,function(t,r){var i="ok"===t;i||Q("update at "+e+" failed: "+t);var i=of(c.M,s,!i),o=e;0<i.length&&(o=Uh(c,e)),Ab(c.da,o,i),Wh(n,t,r)}),t=Xh(this,e),Uh(this,t),Ab(this.da,e,[])}},g.Jd=function(e,t){var n=this;this.ba.Jd(e.toString(),function(r,i){"ok"===r&&jg(n.la,e),Wh(t,r,i)})},g.zb=function(){this.Sa&&this.Sa.zb()},g.rc=function(){this.Sa&&this.Sa.rc()},g.Ze=function(e){if("undefined"!=typeof console){e?(this.fd||(this.fd=new Kb(this.Va)),e=this.fd.get()):e=this.Va.get();var t,n=Ra(sa(e),function(e,t){return Math.max(t.length,e)},0);for(t in e){for(var r=e[t],i=t.length;n+2>i;i++)t+=" ";console.log(t+r)}}},g.$e=function(e){Nb(this.Va,e),this.Qg.Nf[e]=!0},g.f=function(e){var t="";this.Sa&&(t=this.Sa.id+":"),Cb(t,arguments)},W.prototype.zb=function(){for(var e in this.oc)this.oc[e].zb()},W.prototype.rc=function(){for(var e in this.oc)this.oc[e].rc()},W.prototype.we=function(){this.Qf=!0},ca(W),W.prototype.interrupt=W.prototype.zb,W.prototype.resume=W.prototype.rc,X.prototype.cancel=function(e){x("Firebase.onDisconnect().cancel",0,1,arguments.length),A("Firebase.onDisconnect().cancel",1,e,!0),this.bd.Jd(this.ra,e||null)},X.prototype.cancel=X.prototype.cancel,X.prototype.remove=function(e){x("Firebase.onDisconnect().remove",0,1,arguments.length),bg("Firebase.onDisconnect().remove",this.ra),A("Firebase.onDisconnect().remove",1,e,!0),Yh(this.bd,this.ra,null,e)},X.prototype.remove=X.prototype.remove,X.prototype.set=function(e,t){x("Firebase.onDisconnect().set",1,2,arguments.length),bg("Firebase.onDisconnect().set",this.ra),Vf("Firebase.onDisconnect().set",e,this.ra,!1),A("Firebase.onDisconnect().set",2,t,!0),Yh(this.bd,this.ra,e,t)},X.prototype.set=X.prototype.set,X.prototype.Kb=function(e,t,n){x("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),bg("Firebase.onDisconnect().setWithPriority",this.ra),Vf("Firebase.onDisconnect().setWithPriority",e,this.ra,!1),Yf("Firebase.onDisconnect().setWithPriority",2,t),A("Firebase.onDisconnect().setWithPriority",3,n,!0),Zh(this.bd,this.ra,e,t,n)},X.prototype.setWithPriority=X.prototype.Kb,X.prototype.update=function(e,t){if(x("Firebase.onDisconnect().update",1,2,arguments.length),bg("Firebase.onDisconnect().update",this.ra),ea(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Q("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xf("Firebase.onDisconnect().update",e,this.ra),A("Firebase.onDisconnect().update",2,t,!0),$h(this.bd,this.ra,e,t)},X.prototype.update=X.prototype.update,g=Y.prototype,g.mc=function(){return x("Query.ref",0,0,arguments.length),new U(this.k,this.path)},g.Fb=function(e,t,n,r){x("Query.on",2,4,arguments.length),Zf("Query.on",e,!1),A("Query.on",2,t,!1);var i=ni("Query.on",n,r);if("value"===e)ai(this.k,this,new id(t,i.cancel||null,i.Ma||null));else{var o={};o[e]=t,ai(this.k,this,new jd(o,i.cancel,i.Ma))}return t},g.hc=function(e,t,n){x("Query.off",0,3,arguments.length),Zf("Query.off",e,!0),A("Query.off",2,t,!0),mb("Query.off",3,n);var r=null,i=null;"value"===e?r=new id(t||null,null,n||null):e&&(t&&(i={},i[e]=t),r=new jd(i,null,n||null)),i=this.k,r=".info"===E(this.path)?i.Cd.kb(this,r):i.M.kb(this,r),yb(i.da,this.path,r)},g.Bg=function(e,t){function n(a){o&&(o=!1,i.hc(e,n),t.call(r.Ma,a))}x("Query.once",2,4,arguments.length),Zf("Query.once",e,!1),A("Query.once",2,t,!1);var r=ni("Query.once",arguments[2],arguments[3]),i=this,o=!0;this.Fb(e,n,function(t){i.hc(e,n),r.cancel&&r.cancel.call(r.Ma,t)})},g.Ie=function(e){if(Q("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead."),x("Query.limit",1,1,arguments.length),!ga(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limit: First argument must be a positive integer.");if(this.o.ja)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var t=this.o.Ie(e);return li(t),new Y(this.k,this.path,t,this.kc)},g.Je=function(e){if(x("Query.limitToFirst",1,1,arguments.length),!ga(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.o.ja)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.o.Je(e),this.kc)},g.Ke=function(e){if(x("Query.limitToLast",1,1,arguments.length),!ga(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.o.ja)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.o.Ke(e),this.kc)},g.Cg=function(e){if(x("Query.orderByChild",1,1,arguments.length),"$key"===e)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');$f("Query.orderByChild",1,e,!1),mi(this,"Query.orderByChild");var t=be(this.o,new Sd(e));return ki(t),new Y(this.k,this.path,t,!0)},g.Dg=function(){x("Query.orderByKey",0,0,arguments.length),mi(this,"Query.orderByKey");var e=be(this.o,Od);return ki(e),new Y(this.k,this.path,e,!0)},g.Eg=function(){x("Query.orderByPriority",0,0,arguments.length),mi(this,"Query.orderByPriority");var e=be(this.o,N);return ki(e),new Y(this.k,this.path,e,!0)},g.Fg=function(){x("Query.orderByValue",0,0,arguments.length),mi(this,"Query.orderByValue");var e=be(this.o,Yd);return ki(e),new Y(this.k,this.path,e,!0)},g.ae=function(e,t){x("Query.startAt",0,2,arguments.length),Vf("Query.startAt",e,this.path,!0),$f("Query.startAt",2,t,!0);var r=this.o.ae(e,t);if(li(r),ki(r),this.o.ma)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return n(e)||(t=e=null),new Y(this.k,this.path,r,this.kc)},g.td=function(e,t){x("Query.endAt",0,2,arguments.length),Vf("Query.endAt",e,this.path,!0),$f("Query.endAt",2,t,!0);var n=this.o.td(e,t);if(li(n),ki(n),this.o.pa)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Y(this.k,this.path,n,this.kc)},g.ig=function(e,t){if(x("Query.equalTo",1,2,arguments.length),Vf("Query.equalTo",e,this.path,!1),$f("Query.equalTo",2,t,!0),this.o.ma)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.o.pa)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.ae(e,t).td(e,t)},g.toString=function(){x("Query.toString",0,0,arguments.length);for(var e=this.path,t="",n=e.Z;n<e.n.length;n++)""!==e.n[n]&&(t+="/"+encodeURIComponent(String(e.n[n])));return this.k.toString()+(t||"/")},g.va=function(){var e=Vc(ce(this.o));return"{}"===e?"default":e},Y.prototype.ref=Y.prototype.mc,Y.prototype.on=Y.prototype.Fb,Y.prototype.off=Y.prototype.hc,Y.prototype.once=Y.prototype.Bg,Y.prototype.limit=Y.prototype.Ie,Y.prototype.limitToFirst=Y.prototype.Je,Y.prototype.limitToLast=Y.prototype.Ke,Y.prototype.orderByChild=Y.prototype.Cg,Y.prototype.orderByKey=Y.prototype.Dg,Y.prototype.orderByPriority=Y.prototype.Eg,Y.prototype.orderByValue=Y.prototype.Fg,Y.prototype.startAt=Y.prototype.ae,Y.prototype.endAt=Y.prototype.td,Y.prototype.equalTo=Y.prototype.ig,Y.prototype.toString=Y.prototype.toString;var Z={};Z.vc=Ch,Z.DataConnection=Z.vc,Ch.prototype.Pg=function(e,t){this.Fa("q",{p:e},t)},Z.vc.prototype.simpleListen=Z.vc.prototype.Pg,Ch.prototype.hg=function(e,t){this.Fa("echo",{d:e},t)},Z.vc.prototype.echo=Z.vc.prototype.hg,Ch.prototype.interrupt=Ch.prototype.zb,Z.Tf=qh,Z.RealTimeConnection=Z.Tf,qh.prototype.sendRequest=qh.prototype.Fa,qh.prototype.close=qh.prototype.close,Z.pg=function(e){var t=Ch.prototype.put;return Ch.prototype.put=function(r,i,o,a){n(a)&&(a=e()),t.call(this,r,i,o,a)},function(){Ch.prototype.put=t}},Z.hijackHash=Z.pg,Z.Sf=Dc,Z.ConnectionTarget=Z.Sf,Z.va=function(e){return e.va()},Z.queryIdentifier=Z.va,Z.rg=function(e){return e.k.Sa.$},Z.listens=Z.rg,Z.we=function(e){e.we()},Z.forceRestClient=Z.we,ma(U,Y);var oi=U,pi=["Firebase"],qi=aa;pi[0]in qi||!qi.execScript||qi.execScript("var "+pi[0]);for(var ri;pi.length&&(ri=pi.shift());)!pi.length&&n(oi)?qi[ri]=oi:qi=qi[ri]?qi[ri]:qi[ri]={};U.goOffline=function(){x("Firebase.goOffline",0,0,arguments.length),W.vb().zb()},U.goOnline=function(){x("Firebase.goOnline",0,0,arguments.length),W.vb().rc()},U.enableLogging=Mc,U.ServerValue={TIMESTAMP:{".sv":"timestamp"}},U.SDK_VERSION=hb,U.INTERNAL=V,U.Context=W,U.TEST_ACCESS=Z,U.prototype.name=function(){return Q("Firebase.name() being deprecated. Please use Firebase.key() instead."),x("Firebase.name",0,0,arguments.length),this.key()},U.prototype.name=U.prototype.name,U.prototype.key=function(){return x("Firebase.key",0,0,arguments.length),this.path.e()?null:uc(this.path)},U.prototype.key=U.prototype.key,U.prototype.u=function(e){if(x("Firebase.child",1,1,arguments.length),ga(e))e=String(e);else if(!(e instanceof L))if(null===E(this.path)){var t=e;t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ag("Firebase.child",t)}else ag("Firebase.child",e);return new U(this.k,this.path.u(e))},U.prototype.child=U.prototype.u,U.prototype.parent=function(){x("Firebase.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new U(this.k,e)},U.prototype.parent=U.prototype.parent,U.prototype.root=function(){x("Firebase.ref",0,0,arguments.length);for(var e=this;null!==e.parent();)e=e.parent();return e},U.prototype.root=U.prototype.root,U.prototype.set=function(e,t){x("Firebase.set",1,2,arguments.length),bg("Firebase.set",this.path),Vf("Firebase.set",e,this.path,!1),A("Firebase.set",2,t,!0),this.k.Kb(this.path,e,null,t||null)},U.prototype.set=U.prototype.set,U.prototype.update=function(e,t){if(x("Firebase.update",1,2,arguments.length),bg("Firebase.update",this.path),ea(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Q("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xf("Firebase.update",e,this.path),A("Firebase.update",2,t,!0),this.k.update(this.path,e,t||null)},U.prototype.update=U.prototype.update,U.prototype.Kb=function(e,t,n){if(x("Firebase.setWithPriority",2,3,arguments.length),bg("Firebase.setWithPriority",this.path),Vf("Firebase.setWithPriority",e,this.path,!1),Yf("Firebase.setWithPriority",2,t),A("Firebase.setWithPriority",3,n,!0),".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";this.k.Kb(this.path,e,t,n||null)},U.prototype.setWithPriority=U.prototype.Kb,U.prototype.remove=function(e){x("Firebase.remove",0,1,arguments.length),bg("Firebase.remove",this.path),A("Firebase.remove",1,e,!0),this.set(null,e)},U.prototype.remove=U.prototype.remove,U.prototype.transaction=function(e,t,r){if(x("Firebase.transaction",1,3,arguments.length),bg("Firebase.transaction",this.path),A("Firebase.transaction",1,e,!1),A("Firebase.transaction",2,t,!0),n(r)&&"boolean"!=typeof r)throw Error(z("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";"undefined"==typeof r&&(r=!0),bi(this.k,this.path,e,t||null,r)},U.prototype.transaction=U.prototype.transaction,U.prototype.Mg=function(e,t){x("Firebase.setPriority",1,2,arguments.length),bg("Firebase.setPriority",this.path),Yf("Firebase.setPriority",1,e),A("Firebase.setPriority",2,t,!0),this.k.Kb(this.path.u(".priority"),e,null,t)},U.prototype.setPriority=U.prototype.Mg,U.prototype.push=function(e,t){x("Firebase.push",0,2,arguments.length),bg("Firebase.push",this.path),Vf("Firebase.push",e,this.path,!0),A("Firebase.push",2,t,!0);var n=Sh(this.k),n=Nf(n),n=this.u(n);return"undefined"!=typeof e&&null!==e&&n.set(e,t),n},U.prototype.push=U.prototype.push,U.prototype.ib=function(){return bg("Firebase.onDisconnect",this.path),
new X(this.k,this.path)},U.prototype.onDisconnect=U.prototype.ib,U.prototype.N=function(e,t,n){Q("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead."),x("Firebase.auth",1,3,arguments.length),cg("Firebase.auth",e),A("Firebase.auth",2,t,!0),A("Firebase.auth",3,t,!0),Qg(this.k.N,e,{},{remember:"none"},t,n)},U.prototype.auth=U.prototype.N,U.prototype.he=function(e){x("Firebase.unauth",0,1,arguments.length),A("Firebase.unauth",1,e,!0),Rg(this.k.N,e)},U.prototype.unauth=U.prototype.he,U.prototype.ye=function(){return x("Firebase.getAuth",0,0,arguments.length),this.k.N.ye()},U.prototype.getAuth=U.prototype.ye,U.prototype.vg=function(e,t){x("Firebase.onAuth",1,2,arguments.length),A("Firebase.onAuth",1,e,!1),mb("Firebase.onAuth",2,t),this.k.N.Fb("auth_status",e,t)},U.prototype.onAuth=U.prototype.vg,U.prototype.ug=function(e,t){x("Firebase.offAuth",1,2,arguments.length),A("Firebase.offAuth",1,e,!1),mb("Firebase.offAuth",2,t),this.k.N.hc("auth_status",e,t)},U.prototype.offAuth=U.prototype.ug,U.prototype.Xf=function(e,t,n){x("Firebase.authWithCustomToken",2,3,arguments.length),cg("Firebase.authWithCustomToken",e),A("Firebase.authWithCustomToken",2,t,!1),fg("Firebase.authWithCustomToken",3,n,!0),Qg(this.k.N,e,{},n||{},t)},U.prototype.authWithCustomToken=U.prototype.Xf,U.prototype.Yf=function(e,t,n){x("Firebase.authWithOAuthPopup",2,3,arguments.length),eg("Firebase.authWithOAuthPopup",e),A("Firebase.authWithOAuthPopup",2,t,!1),fg("Firebase.authWithOAuthPopup",3,n,!0),Vg(this.k.N,e,n,t)},U.prototype.authWithOAuthPopup=U.prototype.Yf,U.prototype.Zf=function(e,t,n){x("Firebase.authWithOAuthRedirect",2,3,arguments.length),eg("Firebase.authWithOAuthRedirect",e),A("Firebase.authWithOAuthRedirect",2,t,!1),fg("Firebase.authWithOAuthRedirect",3,n,!0);var r=this.k.N;Tg(r);var i=[Cg],o=ng(n);"anonymous"===e||"firebase"===e?R(t,Eg("TRANSPORT_UNAVAILABLE")):(P.set("redirect_client_options",o.od),Ug(r,i,"/auth/"+e,o,t))},U.prototype.authWithOAuthRedirect=U.prototype.Zf,U.prototype.$f=function(e,t,n,r){x("Firebase.authWithOAuthToken",3,4,arguments.length),eg("Firebase.authWithOAuthToken",e),A("Firebase.authWithOAuthToken",3,n,!1),fg("Firebase.authWithOAuthToken",4,r,!0),p(t)?(dg("Firebase.authWithOAuthToken",2,t),Sg(this.k.N,e+"/token",{access_token:t},r,n)):(fg("Firebase.authWithOAuthToken",2,t,!1),Sg(this.k.N,e+"/token",t,r,n))},U.prototype.authWithOAuthToken=U.prototype.$f,U.prototype.Wf=function(e,t){x("Firebase.authAnonymously",1,2,arguments.length),A("Firebase.authAnonymously",1,e,!1),fg("Firebase.authAnonymously",2,t,!0),Sg(this.k.N,"anonymous",{},t,e)},U.prototype.authAnonymously=U.prototype.Wf,U.prototype.ag=function(e,t,n){x("Firebase.authWithPassword",2,3,arguments.length),fg("Firebase.authWithPassword",1,e,!1),gg("Firebase.authWithPassword",e,"email"),gg("Firebase.authWithPassword",e,"password"),A("Firebase.authWithPassword",2,t,!1),fg("Firebase.authWithPassword",3,n,!0),Sg(this.k.N,"password",e,n,t)},U.prototype.authWithPassword=U.prototype.ag,U.prototype.te=function(e,t){x("Firebase.createUser",2,2,arguments.length),fg("Firebase.createUser",1,e,!1),gg("Firebase.createUser",e,"email"),gg("Firebase.createUser",e,"password"),A("Firebase.createUser",2,t,!1),this.k.N.te(e,t)},U.prototype.createUser=U.prototype.te,U.prototype.Ue=function(e,t){x("Firebase.removeUser",2,2,arguments.length),fg("Firebase.removeUser",1,e,!1),gg("Firebase.removeUser",e,"email"),gg("Firebase.removeUser",e,"password"),A("Firebase.removeUser",2,t,!1),this.k.N.Ue(e,t)},U.prototype.removeUser=U.prototype.Ue,U.prototype.qe=function(e,t){x("Firebase.changePassword",2,2,arguments.length),fg("Firebase.changePassword",1,e,!1),gg("Firebase.changePassword",e,"email"),gg("Firebase.changePassword",e,"oldPassword"),gg("Firebase.changePassword",e,"newPassword"),A("Firebase.changePassword",2,t,!1),this.k.N.qe(e,t)},U.prototype.changePassword=U.prototype.qe,U.prototype.pe=function(e,t){x("Firebase.changeEmail",2,2,arguments.length),fg("Firebase.changeEmail",1,e,!1),gg("Firebase.changeEmail",e,"oldEmail"),gg("Firebase.changeEmail",e,"newEmail"),gg("Firebase.changeEmail",e,"password"),A("Firebase.changeEmail",2,t,!1),this.k.N.pe(e,t)},U.prototype.changeEmail=U.prototype.pe,U.prototype.We=function(e,t){x("Firebase.resetPassword",2,2,arguments.length),fg("Firebase.resetPassword",1,e,!1),gg("Firebase.resetPassword",e,"email"),A("Firebase.resetPassword",2,t,!1),this.k.N.We(e,t)},U.prototype.resetPassword=U.prototype.We}(),function(){window.altspace||(window.altspace={},window.altspace.inClient=!1),window.altspace.utilities||(window.altspace.utilities={}),window.THREE||(window.THREE=THREE)}(),altspace.utilities.sync=function(){function e(e){return e?encodeURIComponent(e).replace(/\./g,"%2E").replace(/%[A-Z0-9]{2}/g,"-"):null}function t(){var e=document.querySelector("link[rel=canonical]");return e?e.href:window.location.href}function n(e){return console.warn("altspace.utilities.sync.getInstance has been deprecated, please use connect instead."),r(e)}function r(e){var n=t(),r=new Url;e=e||{};var o=e.instanceId||r.query["altspace-sync-instance"],a=i(e.appId,e.authorId,n),s=new c("https://altspace-apps.firebaseio.com/apps/examples/").child(a);s.child("lastUrl").set(n);var l;return o?l=s.child("instances").child(o):(l=s.child("instances").push(),o=l.key(),r.query["altspace-sync-instance"]=o,window.location.href=r.toString()),u=l,l}function i(t,n,r){return e(n||r)+":"+e(t||"")}function o(e){console.warn("altspace.utilities.sync.authenticate has been depreciated, please use connect instead.");var t=u||n(params);t.authAnonymously(function(t,n){t?console.error("Authetication Failed!",t):e(n)},{remember:"sessionOnly"})}function a(e){return new Promise(function(t,n){e.authAnonymously(function(e,r){e?(console.error("Authetication Failed!",e),n(e)):t(r)},{remember:"sessionOnly"})})}function s(t){function n(){var e={},n=i(t.appId,t.authorId,h);e.app=u.child(n).child("app"),e.space=p?e.app.child("spaces").child(p):null,e.user=d?e.app.child("users").child(d):null;var r=e.app.child("instances");return f?e.instance=r.child(f):(e.instance=r.push(),f=e.instance.key()),e}function r(){o.query["altspace-sync-instance"]||(o.query["altspace-sync-instance"]=f,window.location.href=o.toString())}t=t||{};var o=new Url,s=t.baseRefUrl||"https://altspace-apps.firebaseio.com/apps/examples/",u=new c(s),f=t.instanceId||o.query["altspace-sync-instance"],p=t.spaceId||o.query["altspace-sync-space"],d=t.userId||o.query["altspace-sync-user"];if(!t.appId||!t.authorId)throw new Error("Both the appId and authorId must be provided to connect.");var v=[a(u)];return l&&(p||v.unshift(altspace.getSpace()),d||v.unshift(altspace.getUser())),Promise.all(v).then(function(t){t.pop(),l&&(p||(p=t.pop().sid),d||(d=t.pop().userId)),p=e(p),d=e(d),f=e(f);var i=n();return r(),i})}var u,c=window.Firebase,l=altspace&&altspace.inClient,h=t();return{connect:s,getInstance:n,authenticate:o}}(),altspace.utilities.codePen=function(){function e(){console.log("In a tile: "+c),console.log("In VR: "+l)}function t(){if(!c&&l);else{var e=document.createElement("style");e.type="text/css",e.innerHTML="@import url(https://fonts.googleapis.com/css?family=Open+Sans:800);.altspace-info{text-align:center;font-family:'Open Sans',sans-serif;line-height:.5}.altspace-vr-notice{color:rgba(0,0,0,.7);font-size:5vw}.altspace-pen-name{font-size:7vw}",document.head.appendChild(e),document.body.style.background=a.make_color({seed:i()});var t=document.createElement("div");t.className="altspace-info",document.body.appendChild(t);var n=document.createElement("span");if(n.className="altspace-pen-name",n.innerHTML="<p>"+u.toUpperCase()+"</p>",t.appendChild(n),c){var r="VR mode does not support preview tiles. Stopping code execution.";throw console.log("ERROR: "+r),new Error(r)}if(!l){var o=document.createElement("span");o.className="altspace-vr-notice",o.innerHTML="<p>View</p>",t.insertBefore(o,n);var s=document.createElement("span");s.className="altspace-vr-notice",s.innerHTML='<p>in <a href="http://altvr.com"> AltspaceVR </a></p>',t.appendChild(s);var r="Not in VR mode. Stopping code execution.";throw c&&console.log("ERROR: "+r),new Error(r)}}}function n(e){u=e}function r(){var e=document.querySelector("link[rel=canonical]"),t=e?e.href:window.location.href;return new s(t)}function i(){var e=r(),t=e.path.split("/"),n=t[t.length-1];return n}function o(){var e=r(),t=e.path.split("/"),n="team"==t[1],i=n?"team-"+t[2]:t[1];return i}var a=window.Please,s=window.Url,u="VR CodePen",c=window.name&&"pen-"===window.name.slice(0,4),l=!!window.altspace.inClient,h=!!location.href.match("codepen.io/");return{inTile:c,inVR:l,inCodePen:h,ensureInVR:t,setName:n,getPenId:i,getAuthorId:o,printDebugInfo:e}}(),window.altspace=window.altspace||{},window.altspace.utilities=window.altspace.utilities||{},altspace.utilities.Simulation=function(e){function t(){window.requestAnimationFrame(t),a.updateAllBehaviors&&a.updateAllBehaviors(),r.render(a,i)}function n(){function e(){r=altspace.getThreeJSRenderer(),i=new THREE.PerspectiveCamera,altspace.getThreeJSTrackingSkeleton(function(e){var t=e;t.getJoint("Eye").add(i)})}function t(){r=new THREE.WebGLRenderer({antialias:!0}),i=new THREE.PerspectiveCamera,i.position.z=500;var e=function(){i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix(),r.setSize(window.innerWidth,window.innerHeight)};document.addEventListener("DOMContentLoaded",function(e){document.body.style.margin="0px",document.body.style.overflow="hidden",r.setClearColor("#035F72");var t=document.createElement("div");document.body.appendChild(t),t.appendChild(r.domElement)}),window.addEventListener("resize",e),e(),i.fov=45,i.near=1,i.far=2e3,a.add(i),a.add(new THREE.AmbientLight("white"));var t=altspace&&altspace.utilities&&altspace.utilities.shims&&altspace.utilities.shims.cursor;t&&altspace.utilities.shims.cursor.init(a,i)}altspace&&altspace.inClient?e():t()}e=e||{},void 0===e.auto&&(e.auto=!0);var r,i,o={},a=new THREE.Scene;return n(),e.auto&&window.requestAnimationFrame(t),Object.defineProperty(o,"scene",{get:function(){return a}}),Object.defineProperty(o,"renderer",{get:function(){return r}}),Object.defineProperty(o,"camera",{get:function(){return i},set:function(e){i=e}}),o},window.altspace=window.altspace||{},window.altspace.utilities=window.altspace.utilities||{},altspace.utilities.multiloader=function(){function e(){var e,t=[],n=[],r=[],i=0;return{objUrls:t,mtlUrls:n,objects:r,error:e,objectsLoaded:i}}function t(e){var t=e||{};o=t.TRACE||!1,t.crossOrigin&&(s=t.crossOrigin),t.baseUrl&&(a=t.baseUrl),"/"!==a.slice(-1)&&(a+="/"),i=new altspace.utilities.shims.OBJMTLLoader,i.crossOrigin=s,o&&console.log("MultiLoader initialized with params",e)}function n(t,n){var s=t,u=Date.now();if(!s||!s instanceof e)throw new Error("MultiLoader.load expects first arg of type LoadRequest");if(!n||"function"!=typeof n)throw new Error("MultiLoader.load expects second arg of type function");if(!s.objUrls||!s.mtlUrls||s.objUrls.length!==s.mtlUrls.length)throw new Error("MultiLoader.load called with bad LoadRequest");var c=s.objUrls.length;o&&console.log("Loading models...");for(var l=0;c>l;l++){var h=function(e,t){var s=a+e.objUrls[t],l=a+e.mtlUrls[t];o&&console.log("Loading obj:"+s+", mtl:"+l),i.load(s,l,function(r){if(e.objects[t]=r,e.objectsLoaded++,e.objectsLoaded===c){var i=((Date.now()-u)/1e3).toFixed(2);o&&console.log("Loaded "+c+" models in "+i+" seconds"),n()}},r,function(){var t=xhr.target.responseURL||"";e.error="Error loading file "+t})};h(s,l)}}function r(e){if(e.lengthComputable&&e.target.responseURL){var t=e.loaded/e.total*100,n=e.target.responseURL.split("/").pop();o&&console.log("..."+n+" "+Math.round(t,2)+"% downloaded")}}var i,o,a="",s="";return{init:t,load:n,LoadRequest:e}}(),THREE.Scene.prototype.updateAllBehaviors=function(){var e=performance.now(),t=this.__lastNow||e,n=e-t,r=this,i=[];this.traverse(function(e){e.__behaviorList&&i.push(e)});for(var o=0,a=i.length;a>o;o++)object3d=i[o],object3d.updateBehaviors(n,r);this.__lastNow=e},THREE.Object3D.prototype.addBehavior=function(){this.__behaviorList=this.__behaviorList||[],Array.prototype.push.apply(this.__behaviorList,arguments)},THREE.Object3D.prototype.addBehaviors=function(){this.__behaviorList=this.__behaviorList||[],Array.prototype.push.apply(this.__behaviorList,arguments)},THREE.Object3D.prototype.removeBehavior=function(e){var t=this.__behaviorList.indexOf(e);if(-1!==t){this.__behaviorList.splice(t,1);try{e.dispose&&e.dispose.call(e,this)}catch(n){console.group(),(console.error||console.log).call(console,n.stack||n),console.log("[Behavior]"),console.log(e),console.log("[Object3D]"),console.log(this),console.groupEnd()}}},THREE.Object3D.prototype.removeAllBehaviors=function(){if(!this.__behaviorList||0===this.__behaviorList.length)return null;for(var e=0,t=this.__behaviorList.length;t>e;e++){var n=this.__behaviorList[e];try{n.dispose&&n.dispose.call(n,this)}catch(r){console.group(),(console.error||console.log).call(console,r.stack||r),console.log("[Behavior]"),console.log(n),console.log("[Object3D]"),console.log(this),console.groupEnd()}}},THREE.Object3D.prototype.getBehaviorByType=function(e){if(!this.__behaviorList||0===this.__behaviorList.length)return null;for(var t=0,n=this.__behaviorList.length;n>t;t++)if(this.__behaviorList[t].type===e)return this.__behaviorList[t]},THREE.Object3D.prototype.updateBehaviors=function(e,t){if(this.__behaviorList&&0!==this.__behaviorList.length){for(var n=[],r=this.__behaviorList.slice(),i=0,o=this.__behaviorList.length;o>i;i++){var a=this.__behaviorList[i];a.__isInitialized||n.push(a)}for(var i=0,o=n.length;o>i;i++){var a=n[i];try{a.awake&&a.awake.call(a,this,t)}catch(s){console.group(),(console.error||console.log).call(console,s.stack||s),console.log("[Behavior]"),console.log(a),console.log("[Object3D]"),console.log(this),console.groupEnd()}}for(var i=0,o=n.length;o>i;i++){var a=n[i];try{a.start&&a.start.call(a)}catch(s){console.group(),(console.error||console.log).call(console,s.stack||s),console.log("[Behavior]"),console.log(a),console.log("[Object3D]"),console.log(this),console.groupEnd()}a.__isInitialized=!0}for(var i=0,o=r.length;o>i;i++){var a=r[i];try{a.update&&a.update.call(a,e)}catch(s){console.group(),(console.error||console.log).call(console,s.stack||s),console.log("[Behavior]"),console.log(a),console.log("[Object3D]"),console.log(this),console.groupEnd()}}}},altspace=window.altspace||{},altspace.utilities=altspace.utilities||{},altspace.utilities.shims=altspace.utilities.shims||{},altspace.utilities.shims.cursor=function(){function e(e,i,o){if(!e||!e instanceof THREE.Scene)throw new TypeError("Requires THREE.Scene argument");if(!i||!i instanceof THREE.Camera)throw new TypeError("Requires THREE.Camera argument");a=e,s=i,p=o||{},u=p.renderer&&p.renderer.domElement||window,u.addEventListener("mousedown",t,!1),u.addEventListener("mouseup",n,!1),u.addEventListener("mousemove",r,!1)}function t(e){var t=o(e);if(t&&t.point){var n=i("cursordown",t);t.object.dispatchEvent(n)}}function n(e){var t=o(e),n=i("cursorup",t);t?t.object.dispatchEvent(n):a.dispatchEvent(n)}function r(e){var t=o(e),n=i("cursormove",t);a.dispatchEvent(n);var r=t?t.object:null;c!=r&&(c&&(n=i("cursorleave",t),c.dispatchEvent(n)),r&&(n=i("cursorenter",t),r.dispatchEvent(n)),c=r)}function i(e,t){return{type:e,bubbles:!0,target:t?t.object:null,ray:{origin:l.ray.origin.clone(),direction:l.ray.direction.clone()},point:t?t.point.clone():null}}function o(e){var t=new THREE.Vector2;t.x=e.offsetX/(u.width||u.innerWidth)*2-1,t.y=2*-(e.offsetY/(u.height||u.innerHeight))+1,l.setFromCamera(t,s);var n=l.intersectObjects(a.children,!0);return n.length>0?n[0]:null}var a,s,u,c,l=new THREE.Raycaster;return{init:e}}(),function(){function e(t){var n,r;if(t.bubbles&&(t.currentTarget=this,t.stopPropagation=function(){n=!0},t.stopImmediatePropagation=function(){r=!0}),this._listeners){var i=this._listeners,o=i[t.type];if(o){t.target=t.target||this;for(var a=[],s=o.length,u=0;s>u;u++)a[u]=o[u];for(var u=0;s>u;u++)if(a[u].call(this,t),r)return}}t.bubbles&&this.parent&&this.parent.dispatchEvent&&!n&&e.call(this.parent,t)}THREE&&(window.altspace&&window.altspace.inAltspace||(THREE.EventDispatcher.prototype.dispatchEvent=e,THREE.Object3D.prototype.dispatchEvent=e))}(),window.altspace=window.altspace||{},window.altspace.utilities=window.altspace.utilities||{},window.altspace.utilities.behaviors=window.altspace.utilities.behaviors||{},altspace.utilities.behaviors.Bob=function(e){function t(e){r=e,i=r.position.clone()}function n(t){var n=Math.floor(performance.now())+a;e.shouldMove&&(o.equals(r.position)||i.copy(r.position),r.position.y=i.y+3*Math.sin(n/800),r.position.x=i.x+5*Math.sin(n/500),o.copy(r.position)),e.shouldRotate&&(r.rotation.x=Math.sin(n/500)/15)}var r;e=e||{},void 0===e.shouldRotate&&(e.shouldRotate=!0),void 0===e.shouldMove&&(e.shouldMove=!0);var i,o=new THREE.Vector3,a=1e4*Math.random();return{awake:t,update:n}},window.altspace=window.altspace||{},window.altspace.utilities=window.altspace.utilities||{},window.altspace.utilities.behaviors=window.altspace.utilities.behaviors||{},altspace.utilities.behaviors.ButtonStateStyle=function(e){function t(e){h.set(l),h.multiplyScalar(e),h.r=THREE.Math.clamp(h.r,0,1),h.g=THREE.Math.clamp(h.g,0,1),h.b=THREE.Math.clamp(h.b,0,1),u.material.color=h}function n(){u.removeEventListener("cursorleave",n),t(1)}function r(){t(f),u.addEventListener("cursorleave",n)}function i(e){c.removeEventListener("cursorup",i),u.addEventListener("cursorenter",r),e.target===u?(t(f),u.addEventListener("cursorleave",n)):t(1)}function o(){c.addEventListener("cursorup",i),u.removeEventListener("cursorleave",n),u.removeEventListener("cursorenter",r),t(p)}function a(t,n){u=t,c=n,l=e.originalColor||u.material.color,u.addEventListener("cursorenter",r),u.addEventListener("cursordown",o)}function s(){u.removeEventListener("cursorenter",r),u.removeEventListener("cursorleave",n),u.removeEventListener("cursorup",i),u.removeEventListener("cursordown",o)}var u,c,l,h=new THREE.Color;e=e||{};var f=e.overBrightness||1.5,p=e.downBrightness||.5;return{awake:a,dispose:s,type:"ButtonStateStyle"}},window.altspace=window.altspace||{},window.altspace.utilities=window.altspace.utilities||{},window.altspace.utilities.behaviors=window.altspace.utilities.behaviors||{},altspace.utilities.behaviors.Drag=function(e){function t(e,t){u=e,c=t,l=u.getBehaviorByType("Object3DSync"),n(),c.add(h)}function n(){function e(){i.rotateY(Math.PI)}function t(){i.rotateX(Math.PI/2)}function n(){i.rotateY(Math.PI/2)}var r=1e4,i=new THREE.PlaneGeometry(r,r),o=f+p+d;if(3===o)throw new Error("Arbitrary dragging currently unsupported. Please lock at least one axis.");if(2!==o)throw 1===o?new Error("Single axis dragging currently unsupported."):new Error("Invalid axis configuration");f&&p?e():f&&d?t():p&&d&&n();var a=new THREE.MeshBasicMaterial({color:"purple"});a.side=THREE.DoubleSide,h=new THREE.Mesh(i,a),h.visible=!1,h.material.visible=!1}function r(e){e.updateMatrixWorld();var t=new THREE.Vector3;return t.setFromMatrixPosition(e.matrixWorld),t}function i(e){c.addEventListener("cursorup",a),c.addEventListener("cursormove",o),y.set(e.ray.origin,e.ray.direction);var t=y.intersectObject(u,!0)[0];if(t){var n=t.point.clone(),i=r(u).clone();g.copy(n).sub(i),h.position.copy(n),h.updateMatrixWorld()}}function o(t){l&&!l.isMine&&l.takeOwnership(),h.visible=!0,y.set(t.ray.origin,t.ray.direction);var n=y.intersectObject(h,!0)[0];if(h.visible=!1,n){var i=new THREE.Vector3;i.copy(n.point).sub(g),i.y=r(u).y,i.clamp(v,m),u.parent.updateMatrixWorld();var o=u.parent.worldToLocal(i);u.position.set(e.x?o.x:u.position.x,e.y?o.y:u.position.y,e.z?o.z:u.position.z)}}function a(){c.removeEventListener("cursorup",a),c.removeEventListener("cursormove",o)}function s(){u.addEventListener("cursordown",i)}e=e||{},void 0===e.space&&(e.space="world"),void 0===e.x&&(e.x=!1),void 0===e.y&&(e.y=!1),void 0===e.z&&(e.z=!1),void 0===e.cursorSnap&&(e.cursorSnap=!0);var u,c,l,h,f=!!e.x,p=!!e.y,d=!!e.z,v=new THREE.Vector3(void 0!==e.x.min?e.x.min:Number.NEGATIVE_INFINITY,void 0!==e.y.min?e.y.min:Number.NEGATIVE_INFINITY,void 0!==e.z.min?e.z.min:Number.NEGATIVE_INFINITY),m=new THREE.Vector3(void 0!==e.x.max?e.x.max:Number.POSITIVE_INFINITY,void 0!==e.y.max?e.y.max:Number.POSITIVE_INFINITY,void 0!==e.z.max?e.z.max:Number.POSITIVE_INFINITY),g=new THREE.Vector3,y=new THREE.Raycaster;return y.linePrecision=3,{awake:t,start:s}},window.altspace=window.altspace||{},window.altspace.utilities=window.altspace.utilities||{},window.altspace.utilities.behaviors=window.altspace.utilities.behaviors||{},altspace.utilities.behaviors.GamepadControls=function(e){function t(e,t){if(o=e,s=t,u=o.getBehaviorByType("Object3DSync"),c=o.clone(),a=n())console.log("Gamepad detected: "+a.id);else var i=setInterval(function(){a=n(),a&&(console.log("Gamepad connected: "+a.id),clearInterval(i))},500);s.addEventListener("cursordown",function(e){a&&!d&&(r(a),d=!0)})}function n(){if(altspace&&altspace.inClient?gamepads=altspace.getGamepads():gamepads=navigator.getGamepads(),gamepads.length>0)for(var e=0;e<gamepads.length;e++){var t=gamepads[e];if(t&&t.axes&&4===t.axes.length&&t.buttons&&16===t.buttons.length)return altspace&&altspace.inClient&&r(t),t}}function r(t){for(var n=[],r=[],i=0;i>t.buttons;i++)r[i]=!1;for(var i=0;i>t.axes;i++)n[i]=!1;e.position&&(n[0]=!0,n[1]=!0,r[10]=!0),e.rotation&&(n[2]=!0,n[3]=!0,r[11]=!0),e.scale&&(r[12]=!0,r[13]=!0),r[8]=!0,t.preventDefault(n,r)}function i(t){if(altspace&&altspace.inClient||!window.chrome||!a||(a=n()),a){var r=a.buttons[8].pressed;if(r)return u.isMine||u.takeOwnership(),o.position.copy(c.position),o.rotation.copy(c.rotation),void o.scale.copy(c.scale);if(e.position){var i=a.buttons[10].pressed;p&&!i&&(h=!h),p=i;var s=a.axes[0],d=a.axes[1],m=Math.abs(s)>v||Math.abs(d)>v;m&&!u.isMine&&u.takeOwnership();var g=200*(t/1e3);!h&&Math.abs(s)>v&&(o.position.x+=g*s),!h&&Math.abs(d)>v&&(o.position.z+=g*d),h&&Math.abs(s)>v&&(o.position.x+=g*s),h&&Math.abs(d)>v&&(o.position.y+=g*-d)}if(e.rotation){var y=a.buttons[11].pressed;f&&!y&&(l=!l),f=y;var b=a.axes[2],w=a.axes[3],x=Math.abs(b)>v||Math.abs(w)>v;x&&!u.isMine&&u.takeOwnership();var _=Math.PI*(t/1e3);!l&&Math.abs(b)>v&&(o.rotation.y+=_*b),!l&&Math.abs(w)>v&&(o.rotation.x+=_*w),l&&Math.abs(b)>v&&(o.rotation.z+=_*-b)}if(e.scale){var E=10*(t/1e3),S=a.buttons[12].pressed,M=a.buttons[13].pressed,T=a.buttons[12].pressed||a.buttons[13].pressed;T&&!u.isMine&&u.takeOwnership();var C=o.scale,A=new THREE.Vector3(1,1,1);A.multiplyScalar(E),S&&o.scale.add(A),M&&C.x>A.x&&C.y>A.y&&C.z>A.z&&o.scale.sub(A)}}}var o,a,s,u,c,l=!1,h=!1,f=!1,p=!1,d=!1,v=.2;return e=e||{},void 0===e.position&&(e.position=!0),void 0===e.rotation&&(e.rotation=!0),void 0===e.scale&&(e.scale=!0),{awake:t,update:i}},window.altspace=window.altspace||{},window.altspace.utilities=window.altspace.utilities||{},window.altspace.utilities.behaviors=window.altspace.utilities.behaviors||{},altspace.utilities.behaviors.HoverColor=function(e){function t(t,a){u=t,h=a,u.addEventListener("cursordown",n),h.addEventListener("cursorup",o),"cursorenter"===e.event&&(u.addEventListener("cursorenter",r),u.addEventListener("cursorleave",i))}function n(t){c=u,"cursordown"===e.event&&a(c)}function r(e){c&&c!==u||(l&&unsetcolor(l),l=u,a(u))}function i(e){l===u&&(l=null,s(u))}function o(t){"cursordown"===e.event&&c&&s(c),c=null}function a(t){t.material&&t.material.color&&(t.userData.origColor=t.material.color,t.material.color=e.color,t.material&&(t.material.needsUpdate=!0));for(var n=0;n<t.children.length;n++)a(t.children[n],e.color)}function s(e){if(e.material&&e.material.color){if(!e.userData.origColor)return void console.error("Cannot unsetColor, no userData.origColor for object",e);e.material.color=e.userData.origColor,e.material&&(e.material.needsUpdate=!0)}for(var t=0;t<e.children.length;t++)s(e.children[t])}if(e=e||{},void 0===e.event&&(e.event="cursorenter"),"cursorenter"!==e.event&&"cursordown"!==e.event)throw Error('Expected config.event "cursorenter" or "cursordown"');void 0===e.color&&(e.color=new THREE.Color("yellow"));var u,c,l,h;return{awake:t}},window.altspace=window.altspace||{},window.altspace.utilities=window.altspace.utilities||{},window.altspace.utilities.behaviors=window.altspace.utilities.behaviors||{},window.altspace.utilities.behaviors.SceneSync=function(e,t){function n(){for(var e=0,t=v.length;t>e;e++)v[e].autoSend()}function r(r,i){setInterval(n,d);var a=i;l=a.uuid,c.on("value",function(e){var t=e.val();t&&(masterClientKey=Object.keys(t)[0],h=t[masterClientKey])}),c.push(l).onDisconnect().remove(),e.child("initialized").once("value",function(e){var n=!e.val();e.ref().set(!0),t.ready&&t.ready(n)}),u.on("child_added",o.bind(this)),u.on("child_removed",s.bind(this))}function i(e,t,n){t=t||{};var r=u.push({syncType:e,initData:t},function(e){if(e)throw Error("Failed to save to Firebase",e)});n&&r.onDisconnect().remove();var i=m[r.key()];return i.getBehaviorByType("Object3DSync").takeOwnership(),i}function o(e){var t=e.val(),n=e.key(),r=f[t.syncType];if(!r)return void console.warn("No instantiator found for syncType: "+t.syncType);var i=r(t.initData,t.syncType);if(!i)return void console.error(t.syncType+".create must return an Object3D");m[n]=i,g[i.uuid]=n;var o=i.getBehaviorByType("Object3DSync");return o?(v.push(o),void o.link(e.ref(),this)):void console.error(t.syncType+" instantiator must return an Object3D with an Object3DSync behavior")}function a(e){var t=g[e.uuid];return t?(u.child(t).remove(function(e){e&&console.warn("Failed to remove from Firebase",e)}),void u.child(t).off()):void console.warn("Failed to find key for object3d to be destroyed",e)}function s(e){function t(e){e.removeAllBehaviors(),e.parent&&e.parent.remove(e),e.geometry&&e.geometry.dispose(),e.material&&(e.material.map&&e.material.map.dispose(),e.material.dispose())}var n=e.val(),r=e.key(),i=m[r];if(!i)return void console.warn("Failed to find object matching deleted key",r);var o=n.syncType;if(!o)return void console.warn("No syncType found for object being destroyed",i);var a=p[o],s=!a;a&&(s=a(i)),s&&t(i),delete m[r],delete g[i.uuid]}var u=e.child("scene"),c=e.child("clients");t=t||{};var l,h,f=t.instantiators||{},p=t.destroyers||{},d=100,v=[],m={},g={},y={awake:r,instantiate:i,destroy:a,type:"SceneSync"};return Object.defineProperty(y,"autoSendRateMS",{get:function(){return d}}),Object.defineProperty(y,"isMasterClient",{get:function(){return h===l}}),Object.defineProperty(y,"clientId",{get:function(){return l}}),Object.defineProperty(y,"clientsRef",{get:function(){return c}}),y},window.altspace=window.altspace||{},window.altspace.utilities=window.altspace.utilities||{},window.altspace.utilities.behaviors=window.altspace.utilities.behaviors||{},altspace.utilities.behaviors.Spin=function(e){function t(e){r=e}function n(t){r.rotation.y+=e.speed*t}e=e||{},void 0===e.speed&&(e.speed=1e-4);var r;return{awake:t,update:n}},window.altspace=window.altspace||{},window.altspace.utilities=window.altspace.utilities||{},window.altspace.utilities.behaviors=window.altspace.utilities.behaviors||{},altspace.utilities.behaviors.TouchpadRotate=function(e){function t(e,t){s=e,u=t,altspace.addEventListener("touchpadup",n),altspace.addEventListener("touchpaddown",r),altspace.addEventListener("touchpadmove",i)}function n(e){l=!1}function r(e){l=!0,c=s.rotation.clone()}function i(e){var t=e.displacementX-h;s.rotation.set(c.x,c.y+e.displacementX/300,c.z),p=(p*f+t/300)/(f+1),h=e.displacementX}function o(e){!l&&Math.abs(p)>.01&&(s.rotation.y+=p,p*=.97)}function a(){}e=e||{};var s,u,c,l=!1,h=0,f=5,p=0;return{awake:t,start:a,update:o}},function n(e,t,r){function i(a,s){if(!t[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return require(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=t[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return i(n?n:t)},l,l.exports,n,e,t,r)}return t[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){(function(t){"use strict";if(e("core-js/shim"),e("regenerator/runtime"),t._babelPolyfill)throw new Error("only one instance of babel/polyfill is allowed");t._babelPolyfill=!0}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"core-js/shim":256,"regenerator/runtime":258}],2:[function(e,t,n){t.exports=e("./lib/polyfill")},{"./lib/polyfill":1}],3:[function(e,t,n){t.exports={"default":e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":10}],4:[function(e,t,n){t.exports={"default":e("core-js/library/fn/map"),__esModule:!0}},{"core-js/library/fn/map":11}],5:[function(e,t,n){t.exports={"default":e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":12}],6:[function(e,t,n){t.exports={"default":e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":13}],7:[function(e,t,n){"use strict";n["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n.__esModule=!0},{}],8:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/define-property")["default"];n["default"]=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(e,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n.__esModule=!0},{"babel-runtime/core-js/object/define-property":5}],9:[function(e,t,n){t.exports=e("babel-core/polyfill")},{"babel-core/polyfill":2}],10:[function(e,t,n){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/$.core").Array.from},{"../../modules/$.core":22,"../../modules/es6.array.from":62,"../../modules/es6.string.iterator":66}],11:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.map"),e("../modules/es7.map.to-json"),t.exports=e("../modules/$.core").Map},{"../modules/$.core":22,"../modules/es6.map":64,"../modules/es6.object.to-string":65,"../modules/es6.string.iterator":66,"../modules/es7.map.to-json":68,"../modules/web.dom.iterable":69}],12:[function(e,t,n){var r=e("../../modules/$");t.exports=function(e,t,n){return r.setDesc(e,t,n)}},{"../../modules/$":44}],13:[function(e,t,n){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),t.exports=e("../../modules/$.core").Symbol},{"../../modules/$.core":22,"../../modules/es6.object.to-string":65,"../../modules/es6.symbol":67}],14:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],15:[function(e,t,n){t.exports=function(){}},{}],16:[function(e,t,n){var r=e("./$.is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./$.is-object":37}],17:[function(e,t,n){var r=e("./$.cof"),i=e("./$.wks")("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=(t=Object(e))[i])?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},{"./$.cof":18,"./$.wks":60}],18:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],19:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.hide"),o=e("./$.redefine-all"),a=e("./$.ctx"),s=e("./$.strict-new"),u=e("./$.defined"),c=e("./$.for-of"),l=e("./$.iter-define"),h=e("./$.iter-step"),f=e("./$.uid")("id"),p=e("./$.has"),d=e("./$.is-object"),v=e("./$.set-species"),m=e("./$.descriptors"),g=Object.isExtensible||d,y=m?"_s":"size",b=0,w=function(e,t){if(!d(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!p(e,f)){if(!g(e))return"F";if(!t)return"E";i(e,f,++b)}return"O"+e[f]},x=function(e,t){
var n,r=w(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};t.exports={getConstructor:function(e,t,n,i){var l=e(function(e,o){s(e,l,t),e._i=r.create(null),e._f=void 0,e._l=void 0,e[y]=0,void 0!=o&&c(o,n,e[i],e)});return o(l.prototype,{clear:function(){for(var e=this,t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[y]=0},"delete":function(e){var t=this,n=x(t,e);if(n){var r=n.n,i=n.p;delete t._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t._f==n&&(t._f=r),t._l==n&&(t._l=i),t[y]--}return!!n},forEach:function(e){for(var t,n=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!x(this,e)}}),m&&r.setDesc(l.prototype,"size",{get:function(){return u(this[y])}}),l},def:function(e,t,n){var r,i,o=x(e,t);return o?o.v=n:(e._l=o={i:i=w(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[y]++,"F"!==i&&(e._i[i]=o)),e},getEntry:x,setStrong:function(e,t,n){l(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?h(0,n.k):"values"==t?h(0,n.v):h(0,[n.k,n.v]):(e._t=void 0,h(1))},n?"entries":"values",!n,!0),v(t)}}},{"./$":44,"./$.ctx":23,"./$.defined":24,"./$.descriptors":25,"./$.for-of":29,"./$.has":32,"./$.hide":33,"./$.is-object":37,"./$.iter-define":40,"./$.iter-step":42,"./$.redefine-all":48,"./$.set-species":50,"./$.strict-new":53,"./$.uid":59}],20:[function(e,t,n){var r=e("./$.for-of"),i=e("./$.classof");t.exports=function(e){return function(){if(i(this)!=e)throw TypeError(e+"#toJSON isn't generic");var t=[];return r(this,!1,t.push,t),t}}},{"./$.classof":17,"./$.for-of":29}],21:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.global"),o=e("./$.export"),a=e("./$.fails"),s=e("./$.hide"),u=e("./$.redefine-all"),c=e("./$.for-of"),l=e("./$.strict-new"),h=e("./$.is-object"),f=e("./$.set-to-string-tag"),p=e("./$.descriptors");t.exports=function(e,t,n,d,v,m){var g=i[e],y=g,b=v?"set":"add",w=y&&y.prototype,x={};return p&&"function"==typeof y&&(m||w.forEach&&!a(function(){(new y).entries().next()}))?(y=t(function(t,n){l(t,y,e),t._c=new g,void 0!=n&&c(n,v,t[b],t)}),r.each.call("add,clear,delete,forEach,get,has,set,keys,values,entries".split(","),function(e){var t="add"==e||"set"==e;e in w&&(!m||"clear"!=e)&&s(y.prototype,e,function(n,r){if(!t&&m&&!h(n))return"get"==e?void 0:!1;var i=this._c[e](0===n?0:n,r);return t?this:i})}),"size"in w&&r.setDesc(y.prototype,"size",{get:function(){return this._c.size}})):(y=d.getConstructor(t,e,v,b),u(y.prototype,n)),f(y,e),x[e]=y,o(o.G+o.W+o.F,x),m||d.setStrong(y,e,v),y}},{"./$":44,"./$.descriptors":25,"./$.export":27,"./$.fails":28,"./$.for-of":29,"./$.global":31,"./$.hide":33,"./$.is-object":37,"./$.redefine-all":48,"./$.set-to-string-tag":51,"./$.strict-new":53}],22:[function(e,t,n){var r=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=r)},{}],23:[function(e,t,n){var r=e("./$.a-function");t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},{"./$.a-function":14}],24:[function(e,t,n){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],25:[function(e,t,n){t.exports=!e("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":28}],26:[function(e,t,n){var r=e("./$");t.exports=function(e){var t=r.getKeys(e),n=r.getSymbols;if(n)for(var i,o=n(e),a=r.isEnum,s=0;o.length>s;)a.call(e,i=o[s++])&&t.push(i);return t}},{"./$":44}],27:[function(e,t,n){var r=e("./$.global"),i=e("./$.core"),o=e("./$.ctx"),a="prototype",s=function(e,t,n){var u,c,l,h=e&s.F,f=e&s.G,p=e&s.S,d=e&s.P,v=e&s.B,m=e&s.W,g=f?i:i[t]||(i[t]={}),y=f?r:p?r[t]:(r[t]||{})[a];f&&(n=t);for(u in n)c=!h&&y&&u in y,c&&u in g||(l=c?y[u]:n[u],g[u]=f&&"function"!=typeof y[u]?n[u]:v&&c?o(l,r):m&&y[u]==l?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[a]=e[a],t}(l):d&&"function"==typeof l?o(Function.call,l):l,d&&((g[a]||(g[a]={}))[u]=l))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,t.exports=s},{"./$.core":22,"./$.ctx":23,"./$.global":31}],28:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],29:[function(e,t,n){var r=e("./$.ctx"),i=e("./$.iter-call"),o=e("./$.is-array-iter"),a=e("./$.an-object"),s=e("./$.to-length"),u=e("./core.get-iterator-method");t.exports=function(e,t,n,c){var l,h,f,p=u(e),d=r(n,c,t?2:1),v=0;if("function"!=typeof p)throw TypeError(e+" is not iterable!");if(o(p))for(l=s(e.length);l>v;v++)t?d(a(h=e[v])[0],h[1]):d(e[v]);else for(f=p.call(e);!(h=f.next()).done;)i(f,d,h.value,t)}},{"./$.an-object":16,"./$.ctx":23,"./$.is-array-iter":35,"./$.iter-call":38,"./$.to-length":57,"./core.get-iterator-method":61}],30:[function(e,t,n){var r=e("./$.to-iobject"),i=e("./$").getNames,o={}.toString,a="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return a.slice()}};t.exports.get=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},{"./$":44,"./$.to-iobject":56}],31:[function(e,t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],32:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],33:[function(e,t,n){var r=e("./$"),i=e("./$.property-desc");t.exports=e("./$.descriptors")?function(e,t,n){return r.setDesc(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},{"./$":44,"./$.descriptors":25,"./$.property-desc":47}],34:[function(e,t,n){var r=e("./$.cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./$.cof":18}],35:[function(e,t,n){var r=e("./$.iterators"),i=e("./$.wks")("iterator"),o=Array.prototype;t.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},{"./$.iterators":43,"./$.wks":60}],36:[function(e,t,n){var r=e("./$.cof");t.exports=Array.isArray||function(e){return"Array"==r(e)}},{"./$.cof":18}],37:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],38:[function(e,t,n){var r=e("./$.an-object");t.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(o){var a=e["return"];throw void 0!==a&&r(a.call(e)),o}}},{"./$.an-object":16}],39:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.property-desc"),o=e("./$.set-to-string-tag"),a={};e("./$.hide")(a,e("./$.wks")("iterator"),function(){return this}),t.exports=function(e,t,n){e.prototype=r.create(a,{next:i(1,n)}),o(e,t+" Iterator")}},{"./$":44,"./$.hide":33,"./$.property-desc":47,"./$.set-to-string-tag":51,"./$.wks":60}],40:[function(e,t,n){"use strict";var r=e("./$.library"),i=e("./$.export"),o=e("./$.redefine"),a=e("./$.hide"),s=e("./$.has"),u=e("./$.iterators"),c=e("./$.iter-create"),l=e("./$.set-to-string-tag"),h=e("./$").getProto,f=e("./$.wks")("iterator"),p=!([].keys&&"next"in[].keys()),d="@@iterator",v="keys",m="values",g=function(){return this};t.exports=function(e,t,n,y,b,w,x){c(n,t,y);var _,E,S=function(e){if(!p&&e in A)return A[e];switch(e){case v:return function(){return new n(this,e)};case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},M=t+" Iterator",T=b==m,C=!1,A=e.prototype,k=A[f]||A[d]||b&&A[b],P=k||S(b);if(k){var O=h(P.call(new e));l(O,M,!0),!r&&s(A,d)&&a(O,f,g),T&&k.name!==m&&(C=!0,P=function(){return k.call(this)})}if(r&&!x||!p&&!C&&A[f]||a(A,f,P),u[t]=P,u[M]=g,b)if(_={values:T?P:S(m),keys:w?P:S(v),entries:T?S("entries"):P},x)for(E in _)E in A||o(A,E,_[E]);else i(i.P+i.F*(p||C),t,_);return _}},{"./$":44,"./$.export":27,"./$.has":32,"./$.hide":33,"./$.iter-create":39,"./$.iterators":43,"./$.library":46,"./$.redefine":49,"./$.set-to-string-tag":51,"./$.wks":60}],41:[function(e,t,n){var r=e("./$.wks")("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(a){}t.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){n=!0},o[r]=function(){return a},e(o)}catch(s){}return n}},{"./$.wks":60}],42:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],43:[function(e,t,n){t.exports={}},{}],44:[function(e,t,n){var r=Object;t.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},{}],45:[function(e,t,n){var r=e("./$"),i=e("./$.to-iobject");t.exports=function(e,t){for(var n,o=i(e),a=r.getKeys(o),s=a.length,u=0;s>u;)if(o[n=a[u++]]===t)return n}},{"./$":44,"./$.to-iobject":56}],46:[function(e,t,n){t.exports=!0},{}],47:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],48:[function(e,t,n){var r=e("./$.redefine");t.exports=function(e,t){for(var n in t)r(e,n,t[n]);return e}},{"./$.redefine":49}],49:[function(e,t,n){t.exports=e("./$.hide")},{"./$.hide":33}],50:[function(e,t,n){"use strict";var r=e("./$.core"),i=e("./$"),o=e("./$.descriptors"),a=e("./$.wks")("species");t.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.setDesc(t,a,{configurable:!0,get:function(){return this}})}},{"./$":44,"./$.core":22,"./$.descriptors":25,"./$.wks":60}],51:[function(e,t,n){var r=e("./$").setDesc,i=e("./$.has"),o=e("./$.wks")("toStringTag");t.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},{"./$":44,"./$.has":32,"./$.wks":60}],52:[function(e,t,n){var r=e("./$.global"),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(e){return o[e]||(o[e]={})}},{"./$.global":31}],53:[function(e,t,n){t.exports=function(e,t,n){if(!(e instanceof t))throw TypeError(n+": use the 'new' operator!");return e}},{}],54:[function(e,t,n){var r=e("./$.to-integer"),i=e("./$.defined");t.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return 0>u||u>=c?e?"":void 0:(o=s.charCodeAt(u),55296>o||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):(o-55296<<10)+(a-56320)+65536)}}},{"./$.defined":24,"./$.to-integer":55}],55:[function(e,t,n){var r=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},{}],56:[function(e,t,n){var r=e("./$.iobject"),i=e("./$.defined");t.exports=function(e){return r(i(e))}},{"./$.defined":24,"./$.iobject":34}],57:[function(e,t,n){var r=e("./$.to-integer"),i=Math.min;t.exports=function(e){return e>0?i(r(e),9007199254740991):0}},{"./$.to-integer":55}],58:[function(e,t,n){var r=e("./$.defined");t.exports=function(e){return Object(r(e))}},{"./$.defined":24}],59:[function(e,t,n){var r=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}},{}],60:[function(e,t,n){var r=e("./$.shared")("wks"),i=e("./$.uid"),o=e("./$.global").Symbol;t.exports=function(e){return r[e]||(r[e]=o&&o[e]||(o||i)("Symbol."+e))}},{"./$.global":31,"./$.shared":52,"./$.uid":59}],61:[function(e,t,n){var r=e("./$.classof"),i=e("./$.wks")("iterator"),o=e("./$.iterators");t.exports=e("./$.core").getIteratorMethod=function(e){return void 0!=e?e[i]||e["@@iterator"]||o[r(e)]:void 0}},{"./$.classof":17,"./$.core":22,"./$.iterators":43,"./$.wks":60}],62:[function(e,t,n){"use strict";var r=e("./$.ctx"),i=e("./$.export"),o=e("./$.to-object"),a=e("./$.iter-call"),s=e("./$.is-array-iter"),u=e("./$.to-length"),c=e("./core.get-iterator-method");i(i.S+i.F*!e("./$.iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,l,h=o(e),f="function"==typeof this?this:Array,p=arguments,d=p.length,v=d>1?p[1]:void 0,m=void 0!==v,g=0,y=c(h);if(m&&(v=r(v,d>2?p[2]:void 0,2)),void 0==y||f==Array&&s(y))for(t=u(h.length),n=new f(t);t>g;g++)n[g]=m?v(h[g],g):h[g];else for(l=y.call(h),n=new f;!(i=l.next()).done;g++)n[g]=m?a(l,v,[i.value,g],!0):i.value;return n.length=g,n}})},{"./$.ctx":23,"./$.export":27,"./$.is-array-iter":35,"./$.iter-call":38,"./$.iter-detect":41,"./$.to-length":57,"./$.to-object":58,"./core.get-iterator-method":61}],63:[function(e,t,n){"use strict";var r=e("./$.add-to-unscopables"),i=e("./$.iter-step"),o=e("./$.iterators"),a=e("./$.to-iobject");t.exports=e("./$.iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},{"./$.add-to-unscopables":15,"./$.iter-define":40,"./$.iter-step":42,"./$.iterators":43,"./$.to-iobject":56}],64:[function(e,t,n){"use strict";var r=e("./$.collection-strong");e("./$.collection")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(this,e);return t&&t.v},set:function(e,t){return r.def(this,0===e?0:e,t)}},r,!0)},{"./$.collection":21,"./$.collection-strong":19}],65:[function(e,t,n){},{}],66:[function(e,t,n){"use strict";var r=e("./$.string-at")(!0);e("./$.iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},{"./$.iter-define":40,"./$.string-at":54}],67:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.global"),o=e("./$.has"),a=e("./$.descriptors"),s=e("./$.export"),u=e("./$.redefine"),c=e("./$.fails"),l=e("./$.shared"),h=e("./$.set-to-string-tag"),f=e("./$.uid"),p=e("./$.wks"),d=e("./$.keyof"),v=e("./$.get-names"),m=e("./$.enum-keys"),g=e("./$.is-array"),y=e("./$.an-object"),b=e("./$.to-iobject"),w=e("./$.property-desc"),x=r.getDesc,_=r.setDesc,E=r.create,S=v.get,M=i.Symbol,T=i.JSON,C=T&&T.stringify,A=!1,k=p("_hidden"),P=r.isEnum,O=l("symbol-registry"),D=l("symbols"),R="function"==typeof M,L=Object.prototype,F=a&&c(function(){return 7!=E(_({},"a",{get:function(){return _(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=x(L,t);r&&delete L[t],_(e,t,n),r&&e!==L&&_(L,t,r)}:_,j=function(e){var t=D[e]=E(M.prototype);return t._k=e,a&&A&&F(L,e,{configurable:!0,set:function(t){o(this,k)&&o(this[k],e)&&(this[k][e]=!1),F(this,e,w(1,t))}}),t},N=function(e){return"symbol"==typeof e},I=function(e,t,n){return n&&o(D,t)?(n.enumerable?(o(e,k)&&e[k][t]&&(e[k][t]=!1),n=E(n,{enumerable:w(0,!1)})):(o(e,k)||_(e,k,w(1,{})),e[k][t]=!0),F(e,t,n)):_(e,t,n)},U=function(e,t){y(e);for(var n,r=m(t=b(t)),i=0,o=r.length;o>i;)I(e,n=r[i++],t[n]);return e},B=function(e,t){return void 0===t?E(e):U(E(e),t)},$=function(e){var t=P.call(this,e);return t||!o(this,e)||!o(D,e)||o(this,k)&&this[k][e]?t:!0},V=function(e,t){var n=x(e=b(e),t);return!n||!o(D,t)||o(e,k)&&e[k][t]||(n.enumerable=!0),n},W=function(e){for(var t,n=S(b(e)),r=[],i=0;n.length>i;)o(D,t=n[i++])||t==k||r.push(t);return r},G=function(e){for(var t,n=S(b(e)),r=[],i=0;n.length>i;)o(D,t=n[i++])&&r.push(D[t]);return r},H=function(e){if(void 0!==e&&!N(e)){for(var t,n,r=[e],i=1,o=arguments;o.length>i;)r.push(o[i++]);return t=r[1],"function"==typeof t&&(n=t),!n&&g(t)||(t=function(e,t){return n&&(t=n.call(this,e,t)),N(t)?void 0:t}),r[1]=t,C.apply(T,r)}},z=c(function(){var e=M();return"[null]"!=C([e])||"{}"!=C({a:e})||"{}"!=C(Object(e))});R||(M=function(){if(N(this))throw TypeError("Symbol is not a constructor");return j(f(arguments.length>0?arguments[0]:void 0))},u(M.prototype,"toString",function(){return this._k}),N=function(e){return e instanceof M},r.create=B,r.isEnum=$,r.getDesc=V,r.setDesc=I,r.setDescs=U,r.getNames=v.get=W,r.getSymbols=G,a&&!e("./$.library")&&u(L,"propertyIsEnumerable",$,!0));var q={"for":function(e){return o(O,e+="")?O[e]:O[e]=M(e)},keyFor:function(e){return d(O,e)},useSetter:function(){A=!0},useSimple:function(){A=!1}};r.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var t=p(e);q[e]=R?t:j(t)}),A=!0,s(s.G+s.W,{Symbol:M}),s(s.S,"Symbol",q),s(s.S+s.F*!R,"Object",{create:B,defineProperty:I,defineProperties:U,getOwnPropertyDescriptor:V,getOwnPropertyNames:W,getOwnPropertySymbols:G}),T&&s(s.S+s.F*(!R||z),"JSON",{stringify:H}),h(M,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},{"./$":44,"./$.an-object":16,"./$.descriptors":25,"./$.enum-keys":26,"./$.export":27,"./$.fails":28,"./$.get-names":30,"./$.global":31,"./$.has":32,"./$.is-array":36,"./$.keyof":45,"./$.library":46,"./$.property-desc":47,"./$.redefine":49,"./$.set-to-string-tag":51,"./$.shared":52,"./$.to-iobject":56,"./$.uid":59,"./$.wks":60}],68:[function(e,t,n){var r=e("./$.export");r(r.P,"Map",{toJSON:e("./$.collection-to-json")("Map")})},{"./$.collection-to-json":20,"./$.export":27}],69:[function(e,t,n){e("./es6.array.iterator");var r=e("./$.iterators");r.NodeList=r.HTMLCollection=r.Array},{"./$.iterators":43,"./es6.array.iterator":63}],70:[function(e,t,n){arguments[4][14][0].apply(n,arguments)},{dup:14}],71:[function(e,t,n){var r=e("./$.wks")("unscopables"),i=Array.prototype;void 0==i[r]&&e("./$.hide")(i,r,{}),t.exports=function(e){i[r][e]=!0}},{"./$.hide":99,"./$.wks":151}],72:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{"./$.is-object":106,dup:16}],73:[function(e,t,n){"use strict";var r=e("./$.to-object"),i=e("./$.to-index"),o=e("./$.to-length");t.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),s=i(e,a),u=i(t,a),c=arguments,l=c.length>2?c[2]:void 0,h=Math.min((void 0===l?a:i(l,a))-u,a-s),f=1;for(s>u&&u+h>s&&(f=-1,u+=h-1,s+=h-1);h-- >0;)u in n?n[s]=n[u]:delete n[s],s+=f,u+=f;return n}},{"./$.to-index":144,"./$.to-length":147,"./$.to-object":148}],74:[function(e,t,n){"use strict";var r=e("./$.to-object"),i=e("./$.to-index"),o=e("./$.to-length");t.exports=[].fill||function(e){for(var t=r(this),n=o(t.length),a=arguments,s=a.length,u=i(s>1?a[1]:void 0,n),c=s>2?a[2]:void 0,l=void 0===c?n:i(c,n);l>u;)t[u++]=e;return t}},{"./$.to-index":144,"./$.to-length":147,"./$.to-object":148}],75:[function(e,t,n){var r=e("./$.to-iobject"),i=e("./$.to-length"),o=e("./$.to-index");t.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l;return!e&&-1}}},{"./$.to-index":144,"./$.to-iobject":146,"./$.to-length":147}],76:[function(e,t,n){var r=e("./$.ctx"),i=e("./$.iobject"),o=e("./$.to-object"),a=e("./$.to-length"),s=e("./$.array-species-create");t.exports=function(e){var t=1==e,n=2==e,u=3==e,c=4==e,l=6==e,h=5==e||l;return function(f,p,d){for(var v,m,g=o(f),y=i(g),b=r(p,d,3),w=a(y.length),x=0,_=t?s(f,w):n?s(f,0):void 0;w>x;x++)if((h||x in y)&&(v=y[x],m=b(v,x,g),e))if(t)_[x]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return x;case 2:_.push(v)}else if(c)return!1;return l?-1:u||c?c:_}}},{"./$.array-species-create":77,"./$.ctx":85,"./$.iobject":102,"./$.to-length":147,"./$.to-object":148}],77:[function(e,t,n){var r=e("./$.is-object"),i=e("./$.is-array"),o=e("./$.wks")("species");t.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)||(n=void 0),r(n)&&(n=n[o],null===n&&(n=void 0))),new(void 0===n?Array:n)(t)}},{"./$.is-array":104,"./$.is-object":106,"./$.wks":151}],78:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{"./$.cof":79,"./$.wks":151,dup:17}],79:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18}],80:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{"./$":114,"./$.ctx":85,"./$.defined":86,"./$.descriptors":87,"./$.for-of":95,"./$.has":98,"./$.hide":99,"./$.is-object":106,"./$.iter-define":110,"./$.iter-step":112,"./$.redefine-all":128,"./$.set-species":133,"./$.strict-new":137,"./$.uid":150,dup:19}],81:[function(e,t,n){arguments[4][20][0].apply(n,arguments)},{"./$.classof":78,"./$.for-of":95,dup:20}],82:[function(e,t,n){"use strict";var r=e("./$.hide"),i=e("./$.redefine-all"),o=e("./$.an-object"),a=e("./$.is-object"),s=e("./$.strict-new"),u=e("./$.for-of"),c=e("./$.array-methods"),l=e("./$.has"),h=e("./$.uid")("weak"),f=Object.isExtensible||a,p=c(5),d=c(6),v=0,m=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},y=function(e,t){return p(e.a,function(e){return e[0]===t})};g.prototype={get:function(e){var t=y(this,e);return t?t[1]:void 0},has:function(e){return!!y(this,e)},set:function(e,t){var n=y(this,e);n?n[1]=t:this.a.push([e,t])},"delete":function(e){var t=d(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(e,t,n,r){var o=e(function(e,i){s(e,o,t),e._i=v++,e._l=void 0,void 0!=i&&u(i,n,e[r],e)});return i(o.prototype,{"delete":function(e){return a(e)?f(e)?l(e,h)&&l(e[h],this._i)&&delete e[h][this._i]:m(this)["delete"](e):!1},has:function(e){return a(e)?f(e)?l(e,h)&&l(e[h],this._i):m(this).has(e):!1}}),o},def:function(e,t,n){return f(o(t))?(l(t,h)||r(t,h,{}),t[h][e._i]=n):m(e).set(t,n),e},frozenStore:m,WEAK:h}},{"./$.an-object":72,"./$.array-methods":76,"./$.for-of":95,"./$.has":98,"./$.hide":99,"./$.is-object":106,"./$.redefine-all":128,"./$.strict-new":137,"./$.uid":150}],83:[function(e,t,n){"use strict";var r=e("./$.global"),i=e("./$.export"),o=e("./$.redefine"),a=e("./$.redefine-all"),s=e("./$.for-of"),u=e("./$.strict-new"),c=e("./$.is-object"),l=e("./$.fails"),h=e("./$.iter-detect"),f=e("./$.set-to-string-tag");t.exports=function(e,t,n,p,d,v){var m=r[e],g=m,y=d?"set":"add",b=g&&g.prototype,w={},x=function(e){var t=b[e];o(b,e,"delete"==e?function(e){return v&&!c(e)?!1:t.call(this,0===e?0:e)}:"has"==e?function(e){return v&&!c(e)?!1:t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof g&&(v||b.forEach&&!l(function(){(new g).entries().next()}))){var _,E=new g,S=E[y](v?{}:-0,1)!=E,M=l(function(){E.has(1)}),T=h(function(e){new g(e)});T||(g=t(function(t,n){u(t,g,e);var r=new m;return void 0!=n&&s(n,d,r[y],r),r}),g.prototype=b,b.constructor=g),v||E.forEach(function(e,t){_=1/t===-(1/0)}),(M||_)&&(x("delete"),x("has"),d&&x("get")),(_||S)&&x(y),v&&b.clear&&delete b.clear}else g=p.getConstructor(t,e,d,y),a(g.prototype,n);return f(g,e),w[e]=g,i(i.G+i.W+i.F*(g!=m),w),v||p.setStrong(g,e,d),g}},{"./$.export":90,"./$.fails":92,"./$.for-of":95,"./$.global":97,"./$.is-object":106,"./$.iter-detect":111,"./$.redefine":129,"./$.redefine-all":128,"./$.set-to-string-tag":134,"./$.strict-new":137}],84:[function(e,t,n){arguments[4][22][0].apply(n,arguments)},{dup:22}],85:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{"./$.a-function":70,dup:23}],86:[function(e,t,n){arguments[4][24][0].apply(n,arguments)},{dup:24}],87:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{"./$.fails":92,dup:25}],88:[function(e,t,n){var r=e("./$.is-object"),i=e("./$.global").document,o=r(i)&&r(i.createElement);t.exports=function(e){return o?i.createElement(e):{}}},{"./$.global":97,"./$.is-object":106}],89:[function(e,t,n){arguments[4][26][0].apply(n,arguments)},{"./$":114,dup:26}],90:[function(e,t,n){var r=e("./$.global"),i=e("./$.core"),o=e("./$.hide"),a=e("./$.redefine"),s=e("./$.ctx"),u="prototype",c=function(e,t,n){var l,h,f,p,d=e&c.F,v=e&c.G,m=e&c.S,g=e&c.P,y=e&c.B,b=v?r:m?r[t]||(r[t]={}):(r[t]||{})[u],w=v?i:i[t]||(i[t]={}),x=w[u]||(w[u]={});v&&(n=t);for(l in n)h=!d&&b&&l in b,f=(h?b:n)[l],p=y&&h?s(f,r):g&&"function"==typeof f?s(Function.call,f):f,b&&!h&&a(b,l,f),w[l]!=f&&o(w,l,p),g&&x[l]!=f&&(x[l]=f)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,t.exports=c},{"./$.core":84,"./$.ctx":85,"./$.global":97,"./$.hide":99,"./$.redefine":129}],91:[function(e,t,n){var r=e("./$.wks")("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(i){}}return!0}},{"./$.wks":151}],92:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{dup:28}],93:[function(e,t,n){"use strict";var r=e("./$.hide"),i=e("./$.redefine"),o=e("./$.fails"),a=e("./$.defined"),s=e("./$.wks");t.exports=function(e,t,n){var u=s(e),c=""[e];o(function(){var t={};return t[u]=function(){return 7},7!=""[e](t)})&&(i(String.prototype,e,n(a,u,c)),r(RegExp.prototype,u,2==t?function(e,t){return c.call(e,this,t)}:function(e){return c.call(e,this)}))}},{"./$.defined":86,"./$.fails":92,"./$.hide":99,"./$.redefine":129,"./$.wks":151}],94:[function(e,t,n){"use strict";var r=e("./$.an-object");t.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{"./$.an-object":72}],95:[function(e,t,n){arguments[4][29][0].apply(n,arguments)},{"./$.an-object":72,"./$.ctx":85,"./$.is-array-iter":103,"./$.iter-call":108,"./$.to-length":147,"./core.get-iterator-method":152,dup:29}],96:[function(e,t,n){arguments[4][30][0].apply(n,arguments)},{"./$":114,"./$.to-iobject":146,dup:30}],97:[function(e,t,n){arguments[4][31][0].apply(n,arguments)},{dup:31}],98:[function(e,t,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],99:[function(e,t,n){arguments[4][33][0].apply(n,arguments)},{"./$":114,"./$.descriptors":87,"./$.property-desc":127,dup:33}],100:[function(e,t,n){t.exports=e("./$.global").document&&document.documentElement},{"./$.global":97}],101:[function(e,t,n){t.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],102:[function(e,t,n){arguments[4][34][0].apply(n,arguments)},{"./$.cof":79,dup:34}],103:[function(e,t,n){arguments[4][35][0].apply(n,arguments)},{"./$.iterators":113,"./$.wks":151,dup:35}],104:[function(e,t,n){arguments[4][36][0].apply(n,arguments)},{"./$.cof":79,dup:36}],105:[function(e,t,n){var r=e("./$.is-object"),i=Math.floor;t.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},{"./$.is-object":106}],106:[function(e,t,n){arguments[4][37][0].apply(n,arguments)},{dup:37}],107:[function(e,t,n){var r=e("./$.is-object"),i=e("./$.cof"),o=e("./$.wks")("match");t.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},{"./$.cof":79,"./$.is-object":106,"./$.wks":151}],108:[function(e,t,n){arguments[4][38][0].apply(n,arguments)},{"./$.an-object":72,dup:38}],109:[function(e,t,n){arguments[4][39][0].apply(n,arguments)},{"./$":114,"./$.hide":99,"./$.property-desc":127,"./$.set-to-string-tag":134,"./$.wks":151,dup:39}],110:[function(e,t,n){arguments[4][40][0].apply(n,arguments)},{"./$":114,"./$.export":90,"./$.has":98,"./$.hide":99,"./$.iter-create":109,"./$.iterators":113,"./$.library":116,"./$.redefine":129,"./$.set-to-string-tag":134,"./$.wks":151,dup:40}],111:[function(e,t,n){arguments[4][41][0].apply(n,arguments)},{"./$.wks":151,dup:41}],112:[function(e,t,n){arguments[4][42][0].apply(n,arguments)},{dup:42}],113:[function(e,t,n){arguments[4][43][0].apply(n,arguments)},{dup:43}],114:[function(e,t,n){arguments[4][44][0].apply(n,arguments)},{dup:44}],115:[function(e,t,n){arguments[4][45][0].apply(n,arguments)},{"./$":114,"./$.to-iobject":146,dup:45}],116:[function(e,t,n){t.exports=!1},{}],117:[function(e,t,n){t.exports=Math.expm1||function(e){return 0==(e=+e)?e:e>-1e-6&&1e-6>e?e+e*e/2:Math.exp(e)-1}},{}],118:[function(e,t,n){t.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&1e-8>e?e-e*e/2:Math.log(1+e)}},{}],119:[function(e,t,n){t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:0>e?-1:1}},{}],120:[function(e,t,n){var r,i,o,a=e("./$.global"),s=e("./$.task").set,u=a.MutationObserver||a.WebKitMutationObserver,c=a.process,l=a.Promise,h="process"==e("./$.cof")(c),f=function(){var e,t,n;for(h&&(e=c.domain)&&(c.domain=null,e.exit());r;)t=r.domain,n=r.fn,t&&t.enter(),n(),t&&t.exit(),r=r.next;i=void 0,e&&e.enter()};if(h)o=function(){c.nextTick(f)};else if(u){var p=1,d=document.createTextNode("");new u(f).observe(d,{characterData:!0}),o=function(){d.data=p=-p}}else o=l&&l.resolve?function(){l.resolve().then(f)}:function(){s.call(a,f)};t.exports=function(e){var t={fn:e,next:void 0,domain:h&&c.domain};i&&(i.next=t),r||(r=t,o()),i=t}},{"./$.cof":79,"./$.global":97,"./$.task":143}],121:[function(e,t,n){var r=e("./$"),i=e("./$.to-object"),o=e("./$.iobject");t.exports=e("./$.fails")(function(){var e=Object.assign,t={},n={},r=Symbol(),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach(function(e){n[e]=e}),7!=e({},t)[r]||Object.keys(e({},n)).join("")!=i})?function(e,t){for(var n=i(e),a=arguments,s=a.length,u=1,c=r.getKeys,l=r.getSymbols,h=r.isEnum;s>u;)for(var f,p=o(a[u++]),d=l?c(p).concat(l(p)):c(p),v=d.length,m=0;v>m;)h.call(p,f=d[m++])&&(n[f]=p[f]);return n}:Object.assign},{"./$":114,"./$.fails":92,"./$.iobject":102,"./$.to-object":148}],122:[function(e,t,n){var r=e("./$.export"),i=e("./$.core"),o=e("./$.fails");t.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},{"./$.core":84,"./$.export":90,"./$.fails":92}],123:[function(e,t,n){var r=e("./$"),i=e("./$.to-iobject"),o=r.isEnum;t.exports=function(e){return function(t){for(var n,a=i(t),s=r.getKeys(a),u=s.length,c=0,l=[];u>c;)o.call(a,n=s[c++])&&l.push(e?[n,a[n]]:a[n]);return l}}},{"./$":114,"./$.to-iobject":146}],124:[function(e,t,n){var r=e("./$"),i=e("./$.an-object"),o=e("./$.global").Reflect;t.exports=o&&o.ownKeys||function(e){var t=r.getNames(i(e)),n=r.getSymbols;return n?t.concat(n(e)):t}},{"./$":114,"./$.an-object":72,"./$.global":97}],125:[function(e,t,n){"use strict";var r=e("./$.path"),i=e("./$.invoke"),o=e("./$.a-function");t.exports=function(){for(var e=o(this),t=arguments.length,n=Array(t),a=0,s=r._,u=!1;t>a;)(n[a]=arguments[a++])===s&&(u=!0);return function(){var r,o=this,a=arguments,c=a.length,l=0,h=0;if(!u&&!c)return i(e,n,o);if(r=n.slice(),u)for(;t>l;l++)r[l]===s&&(r[l]=a[h++]);for(;c>h;)r.push(a[h++]);return i(e,r,o)}}},{"./$.a-function":70,"./$.invoke":101,"./$.path":126}],126:[function(e,t,n){t.exports=e("./$.global")},{"./$.global":97}],127:[function(e,t,n){arguments[4][47][0].apply(n,arguments)},{dup:47}],128:[function(e,t,n){arguments[4][48][0].apply(n,arguments)},{"./$.redefine":129,dup:48}],129:[function(e,t,n){var r=e("./$.global"),i=e("./$.hide"),o=e("./$.uid")("src"),a="toString",s=Function[a],u=(""+s).split(a);e("./$.core").inspectSource=function(e){return s.call(e)},(t.exports=function(e,t,n,a){"function"==typeof n&&(n.hasOwnProperty(o)||i(n,o,e[t]?""+e[t]:u.join(String(t))),n.hasOwnProperty("name")||i(n,"name",t)),e===r?e[t]=n:(a||delete e[t],i(e,t,n))})(Function.prototype,a,function(){return"function"==typeof this&&this[o]||s.call(this)})},{"./$.core":84,"./$.global":97,"./$.hide":99,"./$.uid":150}],130:[function(e,t,n){t.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},{}],131:[function(e,t,n){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},{}],132:[function(e,t,n){var r=e("./$").getDesc,i=e("./$.is-object"),o=e("./$.an-object"),a=function(e,t){if(o(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,i){try{i=e("./$.ctx")(Function.call,r(Object.prototype,"__proto__").set,2),i(t,[]),n=!(t instanceof Array)}catch(o){n=!0}return function(e,t){return a(e,t),n?e.__proto__=t:i(e,t),e}}({},!1):void 0),check:a}},{"./$":114,"./$.an-object":72,"./$.ctx":85,"./$.is-object":106}],133:[function(e,t,n){"use strict";var r=e("./$.global"),i=e("./$"),o=e("./$.descriptors"),a=e("./$.wks")("species");t.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.setDesc(t,a,{
configurable:!0,get:function(){return this}})}},{"./$":114,"./$.descriptors":87,"./$.global":97,"./$.wks":151}],134:[function(e,t,n){arguments[4][51][0].apply(n,arguments)},{"./$":114,"./$.has":98,"./$.wks":151,dup:51}],135:[function(e,t,n){arguments[4][52][0].apply(n,arguments)},{"./$.global":97,dup:52}],136:[function(e,t,n){var r=e("./$.an-object"),i=e("./$.a-function"),o=e("./$.wks")("species");t.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},{"./$.a-function":70,"./$.an-object":72,"./$.wks":151}],137:[function(e,t,n){arguments[4][53][0].apply(n,arguments)},{dup:53}],138:[function(e,t,n){arguments[4][54][0].apply(n,arguments)},{"./$.defined":86,"./$.to-integer":145,dup:54}],139:[function(e,t,n){var r=e("./$.is-regexp"),i=e("./$.defined");t.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},{"./$.defined":86,"./$.is-regexp":107}],140:[function(e,t,n){var r=e("./$.to-length"),i=e("./$.string-repeat"),o=e("./$.defined");t.exports=function(e,t,n,a){var s=String(o(e)),u=s.length,c=void 0===n?" ":String(n),l=r(t);if(u>=l)return s;""==c&&(c=" ");var h=l-u,f=i.call(c,Math.ceil(h/c.length));return f.length>h&&(f=f.slice(0,h)),a?f+s:s+f}},{"./$.defined":86,"./$.string-repeat":141,"./$.to-length":147}],141:[function(e,t,n){"use strict";var r=e("./$.to-integer"),i=e("./$.defined");t.exports=function(e){var t=String(i(this)),n="",o=r(e);if(0>o||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},{"./$.defined":86,"./$.to-integer":145}],142:[function(e,t,n){var r=e("./$.export"),i=e("./$.defined"),o=e("./$.fails"),a="	\n\x0B\f\r \u2028\u2029\ufeff",s="["+a+"]",u="",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),h=function(e,t){var n={};n[e]=t(f),r(r.P+r.F*o(function(){return!!a[e]()||u[e]()!=u}),"String",n)},f=h.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(l,"")),e};t.exports=h},{"./$.defined":86,"./$.export":90,"./$.fails":92}],143:[function(e,t,n){var r,i,o,a=e("./$.ctx"),s=e("./$.invoke"),u=e("./$.html"),c=e("./$.dom-create"),l=e("./$.global"),h=l.process,f=l.setImmediate,p=l.clearImmediate,d=l.MessageChannel,v=0,m={},g="onreadystatechange",y=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},b=function(e){y.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},p=function(e){delete m[e]},"process"==e("./$.cof")(h)?r=function(e){h.nextTick(a(y,e,1))}:d?(i=new d,o=i.port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r=g in c("script")?function(e){u.appendChild(c("script"))[g]=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),t.exports={set:f,clear:p}},{"./$.cof":79,"./$.ctx":85,"./$.dom-create":88,"./$.global":97,"./$.html":100,"./$.invoke":101}],144:[function(e,t,n){var r=e("./$.to-integer"),i=Math.max,o=Math.min;t.exports=function(e,t){return e=r(e),0>e?i(e+t,0):o(e,t)}},{"./$.to-integer":145}],145:[function(e,t,n){arguments[4][55][0].apply(n,arguments)},{dup:55}],146:[function(e,t,n){arguments[4][56][0].apply(n,arguments)},{"./$.defined":86,"./$.iobject":102,dup:56}],147:[function(e,t,n){arguments[4][57][0].apply(n,arguments)},{"./$.to-integer":145,dup:57}],148:[function(e,t,n){arguments[4][58][0].apply(n,arguments)},{"./$.defined":86,dup:58}],149:[function(e,t,n){var r=e("./$.is-object");t.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{"./$.is-object":106}],150:[function(e,t,n){arguments[4][59][0].apply(n,arguments)},{dup:59}],151:[function(e,t,n){arguments[4][60][0].apply(n,arguments)},{"./$.global":97,"./$.shared":135,"./$.uid":150,dup:60}],152:[function(e,t,n){arguments[4][61][0].apply(n,arguments)},{"./$.classof":78,"./$.core":84,"./$.iterators":113,"./$.wks":151,dup:61}],153:[function(e,t,n){"use strict";var r,i=e("./$"),o=e("./$.export"),a=e("./$.descriptors"),s=e("./$.property-desc"),u=e("./$.html"),c=e("./$.dom-create"),l=e("./$.has"),h=e("./$.cof"),f=e("./$.invoke"),p=e("./$.fails"),d=e("./$.an-object"),v=e("./$.a-function"),m=e("./$.is-object"),g=e("./$.to-object"),y=e("./$.to-iobject"),b=e("./$.to-integer"),w=e("./$.to-index"),x=e("./$.to-length"),_=e("./$.iobject"),E=e("./$.uid")("__proto__"),S=e("./$.array-methods"),M=e("./$.array-includes")(!1),T=Object.prototype,C=Array.prototype,A=C.slice,k=C.join,P=i.setDesc,O=i.getDesc,D=i.setDescs,R={};a||(r=!p(function(){return 7!=P(c("div"),"a",{get:function(){return 7}}).a}),i.setDesc=function(e,t,n){if(r)try{return P(e,t,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(d(e)[t]=n.value),e},i.getDesc=function(e,t){if(r)try{return O(e,t)}catch(n){}return l(e,t)?s(!T.propertyIsEnumerable.call(e,t),e[t]):void 0},i.setDescs=D=function(e,t){d(e);for(var n,r=i.getKeys(t),o=r.length,a=0;o>a;)i.setDesc(e,n=r[a++],t[n]);return e}),o(o.S+o.F*!a,"Object",{getOwnPropertyDescriptor:i.getDesc,defineProperty:i.setDesc,defineProperties:D});var L="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),F=L.concat("length","prototype"),j=L.length,N=function(){var e,t=c("iframe"),n=j,r=">";for(t.style.display="none",u.appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object</script"+r),e.close(),N=e.F;n--;)delete N.prototype[L[n]];return N()},I=function(e,t){return function(n){var r,i=y(n),o=0,a=[];for(r in i)r!=E&&l(i,r)&&a.push(r);for(;t>o;)l(i,r=e[o++])&&(~M(a,r)||a.push(r));return a}},U=function(){};o(o.S,"Object",{getPrototypeOf:i.getProto=i.getProto||function(e){return e=g(e),l(e,E)?e[E]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?T:null},getOwnPropertyNames:i.getNames=i.getNames||I(F,F.length,!0),create:i.create=i.create||function(e,t){var n;return null!==e?(U.prototype=d(e),n=new U,U.prototype=null,n[E]=e):n=N(),void 0===t?n:D(n,t)},keys:i.getKeys=i.getKeys||I(L,j,!1)});var B=function(e,t,n){if(!(t in R)){for(var r=[],i=0;t>i;i++)r[i]="a["+i+"]";R[t]=Function("F,a","return new F("+r.join(",")+")")}return R[t](e,n)};o(o.P,"Function",{bind:function(e){var t=v(this),n=A.call(arguments,1),r=function(){var i=n.concat(A.call(arguments));return this instanceof r?B(t,i.length,i):f(t,i,e)};return m(t.prototype)&&(r.prototype=t.prototype),r}}),o(o.P+o.F*p(function(){u&&A.call(u)}),"Array",{slice:function(e,t){var n=x(this.length),r=h(this);if(t=void 0===t?n:t,"Array"==r)return A.call(this,e,t);for(var i=w(e,n),o=w(t,n),a=x(o-i),s=Array(a),u=0;a>u;u++)s[u]="String"==r?this.charAt(i+u):this[i+u];return s}}),o(o.P+o.F*(_!=Object),"Array",{join:function(e){return k.call(_(this),void 0===e?",":e)}}),o(o.S,"Array",{isArray:e("./$.is-array")});var $=function(e){return function(t,n){v(t);var r=_(this),i=x(r.length),o=e?i-1:0,a=e?-1:1;if(arguments.length<2)for(;;){if(o in r){n=r[o],o+=a;break}if(o+=a,e?0>o:o>=i)throw TypeError("Reduce of empty array with no initial value")}for(;e?o>=0:i>o;o+=a)o in r&&(n=t(n,r[o],o,this));return n}},V=function(e){return function(t){return e(this,t,arguments[1])}};o(o.P,"Array",{forEach:i.each=i.each||V(S(0)),map:V(S(1)),filter:V(S(2)),some:V(S(3)),every:V(S(4)),reduce:$(!1),reduceRight:$(!0),indexOf:V(M),lastIndexOf:function(e,t){var n=y(this),r=x(n.length),i=r-1;for(arguments.length>1&&(i=Math.min(i,b(t))),0>i&&(i=x(r+i));i>=0;i--)if(i in n&&n[i]===e)return i;return-1}}),o(o.S,"Date",{now:function(){return+new Date}});var W=function(e){return e>9?e:"0"+e};o(o.P+o.F*(p(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!p(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){if(!isFinite(this))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=0>t?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+W(e.getUTCMonth()+1)+"-"+W(e.getUTCDate())+"T"+W(e.getUTCHours())+":"+W(e.getUTCMinutes())+":"+W(e.getUTCSeconds())+"."+(n>99?n:"0"+W(n))+"Z"}})},{"./$":114,"./$.a-function":70,"./$.an-object":72,"./$.array-includes":75,"./$.array-methods":76,"./$.cof":79,"./$.descriptors":87,"./$.dom-create":88,"./$.export":90,"./$.fails":92,"./$.has":98,"./$.html":100,"./$.invoke":101,"./$.iobject":102,"./$.is-array":104,"./$.is-object":106,"./$.property-desc":127,"./$.to-index":144,"./$.to-integer":145,"./$.to-iobject":146,"./$.to-length":147,"./$.to-object":148,"./$.uid":150}],154:[function(e,t,n){var r=e("./$.export");r(r.P,"Array",{copyWithin:e("./$.array-copy-within")}),e("./$.add-to-unscopables")("copyWithin")},{"./$.add-to-unscopables":71,"./$.array-copy-within":73,"./$.export":90}],155:[function(e,t,n){var r=e("./$.export");r(r.P,"Array",{fill:e("./$.array-fill")}),e("./$.add-to-unscopables")("fill")},{"./$.add-to-unscopables":71,"./$.array-fill":74,"./$.export":90}],156:[function(e,t,n){"use strict";var r=e("./$.export"),i=e("./$.array-methods")(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./$.add-to-unscopables")(o)},{"./$.add-to-unscopables":71,"./$.array-methods":76,"./$.export":90}],157:[function(e,t,n){"use strict";var r=e("./$.export"),i=e("./$.array-methods")(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./$.add-to-unscopables")(o)},{"./$.add-to-unscopables":71,"./$.array-methods":76,"./$.export":90}],158:[function(e,t,n){arguments[4][62][0].apply(n,arguments)},{"./$.ctx":85,"./$.export":90,"./$.is-array-iter":103,"./$.iter-call":108,"./$.iter-detect":111,"./$.to-length":147,"./$.to-object":148,"./core.get-iterator-method":152,dup:62}],159:[function(e,t,n){arguments[4][63][0].apply(n,arguments)},{"./$.add-to-unscopables":71,"./$.iter-define":110,"./$.iter-step":112,"./$.iterators":113,"./$.to-iobject":146,dup:63}],160:[function(e,t,n){"use strict";var r=e("./$.export");r(r.S+r.F*e("./$.fails")(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments,n=t.length,r=new("function"==typeof this?this:Array)(n);n>e;)r[e]=t[e++];return r.length=n,r}})},{"./$.export":90,"./$.fails":92}],161:[function(e,t,n){e("./$.set-species")("Array")},{"./$.set-species":133}],162:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.is-object"),o=e("./$.wks")("hasInstance"),a=Function.prototype;o in a||r.setDesc(a,o,{value:function(e){if("function"!=typeof this||!i(e))return!1;if(!i(this.prototype))return e instanceof this;for(;e=r.getProto(e);)if(this.prototype===e)return!0;return!1}})},{"./$":114,"./$.is-object":106,"./$.wks":151}],163:[function(e,t,n){var r=e("./$").setDesc,i=e("./$.property-desc"),o=e("./$.has"),a=Function.prototype,s=/^\s*function ([^ (]*)/,u="name";u in a||e("./$.descriptors")&&r(a,u,{configurable:!0,get:function(){var e=(""+this).match(s),t=e?e[1]:"";return o(this,u)||r(this,u,i(5,t)),t}})},{"./$":114,"./$.descriptors":87,"./$.has":98,"./$.property-desc":127}],164:[function(e,t,n){arguments[4][64][0].apply(n,arguments)},{"./$.collection":83,"./$.collection-strong":80,dup:64}],165:[function(e,t,n){var r=e("./$.export"),i=e("./$.math-log1p"),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},{"./$.export":90,"./$.math-log1p":118}],166:[function(e,t,n){function r(e){return isFinite(e=+e)&&0!=e?0>e?-r(-e):Math.log(e+Math.sqrt(e*e+1)):e}var i=e("./$.export");i(i.S,"Math",{asinh:r})},{"./$.export":90}],167:[function(e,t,n){var r=e("./$.export");r(r.S,"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},{"./$.export":90}],168:[function(e,t,n){var r=e("./$.export"),i=e("./$.math-sign");r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},{"./$.export":90,"./$.math-sign":119}],169:[function(e,t,n){var r=e("./$.export");r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},{"./$.export":90}],170:[function(e,t,n){var r=e("./$.export"),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},{"./$.export":90}],171:[function(e,t,n){var r=e("./$.export");r(r.S,"Math",{expm1:e("./$.math-expm1")})},{"./$.export":90,"./$.math-expm1":117}],172:[function(e,t,n){var r=e("./$.export"),i=e("./$.math-sign"),o=Math.pow,a=o(2,-52),s=o(2,-23),u=o(2,127)*(2-s),c=o(2,-126),l=function(e){return e+1/a-1/a};r(r.S,"Math",{fround:function(e){var t,n,r=Math.abs(e),o=i(e);return c>r?o*l(r/c/s)*c*s:(t=(1+s/a)*r,n=t-(t-r),n>u||n!=n?o*(1/0):o*n)}})},{"./$.export":90,"./$.math-sign":119}],173:[function(e,t,n){var r=e("./$.export"),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,a=0,s=arguments,u=s.length,c=0;u>a;)n=i(s[a++]),n>c?(r=c/n,o=o*r*r+1,c=n):n>0?(r=n/c,o+=r*r):o+=n;return c===1/0?1/0:c*Math.sqrt(o)}})},{"./$.export":90}],174:[function(e,t,n){var r=e("./$.export"),i=Math.imul;r(r.S+r.F*e("./$.fails")(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(e,t){var n=65535,r=+e,i=+t,o=n&r,a=n&i;return 0|o*a+((n&r>>>16)*a+o*(n&i>>>16)<<16>>>0)}})},{"./$.export":90,"./$.fails":92}],175:[function(e,t,n){var r=e("./$.export");r(r.S,"Math",{log10:function(e){return Math.log(e)/Math.LN10}})},{"./$.export":90}],176:[function(e,t,n){var r=e("./$.export");r(r.S,"Math",{log1p:e("./$.math-log1p")})},{"./$.export":90,"./$.math-log1p":118}],177:[function(e,t,n){var r=e("./$.export");r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},{"./$.export":90}],178:[function(e,t,n){var r=e("./$.export");r(r.S,"Math",{sign:e("./$.math-sign")})},{"./$.export":90,"./$.math-sign":119}],179:[function(e,t,n){var r=e("./$.export"),i=e("./$.math-expm1"),o=Math.exp;r(r.S+r.F*e("./$.fails")(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},{"./$.export":90,"./$.fails":92,"./$.math-expm1":117}],180:[function(e,t,n){var r=e("./$.export"),i=e("./$.math-expm1"),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},{"./$.export":90,"./$.math-expm1":117}],181:[function(e,t,n){var r=e("./$.export");r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},{"./$.export":90}],182:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.global"),o=e("./$.has"),a=e("./$.cof"),s=e("./$.to-primitive"),u=e("./$.fails"),c=e("./$.string-trim").trim,l="Number",h=i[l],f=h,p=h.prototype,d=a(r.create(p))==l,v="trim"in String.prototype,m=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){t=v?t.trim():c(t,3);var n,r,i,o=t.charCodeAt(0);if(43===o||45===o){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,u=t.slice(2),l=0,h=u.length;h>l;l++)if(a=u.charCodeAt(l),48>a||a>i)return NaN;return parseInt(u,r)}}return+t};h(" 0o1")&&h("0b1")&&!h("+0x1")||(h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(d?u(function(){p.valueOf.call(n)}):a(n)!=l)?new f(m(t)):m(t)},r.each.call(e("./$.descriptors")?r.getNames(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),function(e){o(f,e)&&!o(h,e)&&r.setDesc(h,e,r.getDesc(f,e))}),h.prototype=p,p.constructor=h,e("./$.redefine")(i,l,h))},{"./$":114,"./$.cof":79,"./$.descriptors":87,"./$.fails":92,"./$.global":97,"./$.has":98,"./$.redefine":129,"./$.string-trim":142,"./$.to-primitive":149}],183:[function(e,t,n){var r=e("./$.export");r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},{"./$.export":90}],184:[function(e,t,n){var r=e("./$.export"),i=e("./$.global").isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},{"./$.export":90,"./$.global":97}],185:[function(e,t,n){var r=e("./$.export");r(r.S,"Number",{isInteger:e("./$.is-integer")})},{"./$.export":90,"./$.is-integer":105}],186:[function(e,t,n){var r=e("./$.export");r(r.S,"Number",{isNaN:function(e){return e!=e}})},{"./$.export":90}],187:[function(e,t,n){var r=e("./$.export"),i=e("./$.is-integer"),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},{"./$.export":90,"./$.is-integer":105}],188:[function(e,t,n){var r=e("./$.export");r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./$.export":90}],189:[function(e,t,n){var r=e("./$.export");r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{"./$.export":90}],190:[function(e,t,n){var r=e("./$.export");r(r.S,"Number",{parseFloat:parseFloat})},{"./$.export":90}],191:[function(e,t,n){var r=e("./$.export");r(r.S,"Number",{parseInt:parseInt})},{"./$.export":90}],192:[function(e,t,n){var r=e("./$.export");r(r.S+r.F,"Object",{assign:e("./$.object-assign")})},{"./$.export":90,"./$.object-assign":121}],193:[function(e,t,n){var r=e("./$.is-object");e("./$.object-sap")("freeze",function(e){return function(t){return e&&r(t)?e(t):t}})},{"./$.is-object":106,"./$.object-sap":122}],194:[function(e,t,n){var r=e("./$.to-iobject");e("./$.object-sap")("getOwnPropertyDescriptor",function(e){return function(t,n){return e(r(t),n)}})},{"./$.object-sap":122,"./$.to-iobject":146}],195:[function(e,t,n){e("./$.object-sap")("getOwnPropertyNames",function(){return e("./$.get-names").get})},{"./$.get-names":96,"./$.object-sap":122}],196:[function(e,t,n){var r=e("./$.to-object");e("./$.object-sap")("getPrototypeOf",function(e){return function(t){return e(r(t))}})},{"./$.object-sap":122,"./$.to-object":148}],197:[function(e,t,n){var r=e("./$.is-object");e("./$.object-sap")("isExtensible",function(e){return function(t){return r(t)?e?e(t):!0:!1}})},{"./$.is-object":106,"./$.object-sap":122}],198:[function(e,t,n){var r=e("./$.is-object");e("./$.object-sap")("isFrozen",function(e){return function(t){return r(t)?e?e(t):!1:!0}})},{"./$.is-object":106,"./$.object-sap":122}],199:[function(e,t,n){var r=e("./$.is-object");e("./$.object-sap")("isSealed",function(e){return function(t){return r(t)?e?e(t):!1:!0}})},{"./$.is-object":106,"./$.object-sap":122}],200:[function(e,t,n){var r=e("./$.export");r(r.S,"Object",{is:e("./$.same-value")})},{"./$.export":90,"./$.same-value":131}],201:[function(e,t,n){var r=e("./$.to-object");e("./$.object-sap")("keys",function(e){return function(t){return e(r(t))}})},{"./$.object-sap":122,"./$.to-object":148}],202:[function(e,t,n){var r=e("./$.is-object");e("./$.object-sap")("preventExtensions",function(e){return function(t){return e&&r(t)?e(t):t}})},{"./$.is-object":106,"./$.object-sap":122}],203:[function(e,t,n){var r=e("./$.is-object");e("./$.object-sap")("seal",function(e){return function(t){return e&&r(t)?e(t):t}})},{"./$.is-object":106,"./$.object-sap":122}],204:[function(e,t,n){var r=e("./$.export");r(r.S,"Object",{setPrototypeOf:e("./$.set-proto").set})},{"./$.export":90,"./$.set-proto":132}],205:[function(e,t,n){"use strict";var r=e("./$.classof"),i={};i[e("./$.wks")("toStringTag")]="z",i+""!="[object z]"&&e("./$.redefine")(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},{"./$.classof":78,"./$.redefine":129,"./$.wks":151}],206:[function(e,t,n){"use strict";var r,i=e("./$"),o=e("./$.library"),a=e("./$.global"),s=e("./$.ctx"),u=e("./$.classof"),c=e("./$.export"),l=e("./$.is-object"),h=e("./$.an-object"),f=e("./$.a-function"),p=e("./$.strict-new"),d=e("./$.for-of"),v=e("./$.set-proto").set,m=e("./$.same-value"),g=e("./$.wks")("species"),y=e("./$.species-constructor"),b=e("./$.microtask"),w="Promise",x=a.process,_="process"==u(x),E=a[w],S=function(e){var t=new E(function(){});return e&&(t.constructor=Object),E.resolve(t)===t},M=function(){function t(e){var n=new E(e);return v(n,t.prototype),n}var n=!1;try{if(n=E&&E.resolve&&S(),v(t,E),t.prototype=i.create(E.prototype,{constructor:{value:t}}),t.resolve(5).then(function(){})instanceof t||(n=!1),n&&e("./$.descriptors")){var r=!1;E.resolve(i.setDesc({},"then",{get:function(){r=!0}})),n=r}}catch(o){n=!1}return n}(),T=function(e,t){return o&&e===E&&t===r?!0:m(e,t)},C=function(e){var t=h(e)[g];return void 0!=t?t:e},A=function(e){var t;return l(e)&&"function"==typeof(t=e.then)?t:!1},k=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=f(t),this.reject=f(n)},P=function(e){try{e()}catch(t){return{error:t}}},O=function(e,t){if(!e.n){e.n=!0;var n=e.c;b(function(){for(var r=e.v,i=1==e.s,o=0,s=function(t){var n,o,a=i?t.ok:t.fail,s=t.resolve,u=t.reject;try{a?(i||(e.h=!0),n=a===!0?r:a(r),n===t.promise?u(TypeError("Promise-chain cycle")):(o=A(n))?o.call(n,s,u):s(n)):u(r)}catch(c){u(c)}};n.length>o;)s(n[o++]);n.length=0,e.n=!1,t&&setTimeout(function(){var t,n,i=e.p;D(i)&&(_?x.emit("unhandledRejection",r,i):(t=a.onunhandledrejection)?t({promise:i,reason:r}):(n=a.console)&&n.error&&n.error("Unhandled promise rejection",r)),e.a=void 0},1)})}},D=function(e){var t,n=e._d,r=n.a||n.c,i=0;if(n.h)return!1;for(;r.length>i;)if(t=r[i++],t.fail||!D(t.promise))return!1;return!0},R=function(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,t.a=t.c.slice(),O(t,!0))},L=function(e){var t,n=this;if(!n.d){n.d=!0,n=n.r||n;try{if(n.p===e)throw TypeError("Promise can't be resolved itself");(t=A(e))?b(function(){var r={r:n,d:!1};try{t.call(e,s(L,r,1),s(R,r,1))}catch(i){R.call(r,i)}}):(n.v=e,n.s=1,O(n,!1))}catch(r){R.call({r:n,d:!1},r)}}};M||(E=function(e){f(e);var t=this._d={p:p(this,E,w),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{e(s(L,t,1),s(R,t,1))}catch(n){R.call(t,n)}},e("./$.redefine-all")(E.prototype,{then:function(e,t){var n=new k(y(this,E)),r=n.promise,i=this._d;return n.ok="function"==typeof e?e:!0,n.fail="function"==typeof t&&t,i.c.push(n),i.a&&i.a.push(n),i.s&&O(i,!1),r},"catch":function(e){return this.then(void 0,e)}})),c(c.G+c.W+c.F*!M,{Promise:E}),e("./$.set-to-string-tag")(E,w),e("./$.set-species")(w),r=e("./$.core")[w],c(c.S+c.F*!M,w,{reject:function(e){var t=new k(this),n=t.reject;return n(e),t.promise}}),c(c.S+c.F*(!M||S(!0)),w,{resolve:function(e){if(e instanceof E&&T(e.constructor,this))return e;var t=new k(this),n=t.resolve;return n(e),t.promise}}),c(c.S+c.F*!(M&&e("./$.iter-detect")(function(e){E.all(e)["catch"](function(){})})),w,{all:function(e){var t=C(this),n=new k(t),r=n.resolve,o=n.reject,a=[],s=P(function(){d(e,!1,a.push,a);var n=a.length,s=Array(n);n?i.each.call(a,function(e,i){var a=!1;t.resolve(e).then(function(e){a||(a=!0,s[i]=e,--n||r(s))},o)}):r(s)});return s&&o(s.error),n.promise},race:function(e){var t=C(this),n=new k(t),r=n.reject,i=P(function(){d(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i&&r(i.error),n.promise}})},{"./$":114,"./$.a-function":70,"./$.an-object":72,"./$.classof":78,"./$.core":84,"./$.ctx":85,"./$.descriptors":87,"./$.export":90,"./$.for-of":95,"./$.global":97,"./$.is-object":106,"./$.iter-detect":111,"./$.library":116,"./$.microtask":120,"./$.redefine-all":128,"./$.same-value":131,"./$.set-proto":132,"./$.set-species":133,"./$.set-to-string-tag":134,"./$.species-constructor":136,"./$.strict-new":137,"./$.wks":151}],207:[function(e,t,n){var r=e("./$.export"),i=Function.apply;r(r.S,"Reflect",{apply:function(e,t,n){return i.call(e,t,n)}})},{"./$.export":90}],208:[function(e,t,n){var r=e("./$"),i=e("./$.export"),o=e("./$.a-function"),a=e("./$.an-object"),s=e("./$.is-object"),u=Function.bind||e("./$.core").Function.prototype.bind;i(i.S+i.F*e("./$.fails")(function(){function e(){}return!(Reflect.construct(function(){},[],e)instanceof e)}),"Reflect",{construct:function(e,t){o(e);var n=arguments.length<3?e:o(arguments[2]);if(e==n){if(void 0!=t)switch(a(t).length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(u.apply(e,i))}var c=n.prototype,l=r.create(s(c)?c:Object.prototype),h=Function.apply.call(e,l,t);return s(h)?h:l}})},{"./$":114,"./$.a-function":70,"./$.an-object":72,"./$.core":84,"./$.export":90,"./$.fails":92,"./$.is-object":106}],209:[function(e,t,n){var r=e("./$"),i=e("./$.export"),o=e("./$.an-object");i(i.S+i.F*e("./$.fails")(function(){Reflect.defineProperty(r.setDesc({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){o(e);try{return r.setDesc(e,t,n),!0}catch(i){return!1}}})},{"./$":114,"./$.an-object":72,"./$.export":90,"./$.fails":92}],210:[function(e,t,n){var r=e("./$.export"),i=e("./$").getDesc,o=e("./$.an-object");r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return n&&!n.configurable?!1:delete e[t]}})},{"./$":114,"./$.an-object":72,"./$.export":90}],211:[function(e,t,n){"use strict";var r=e("./$.export"),i=e("./$.an-object"),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};e("./$.iter-create")(o,"Object",function(){var e,t=this,n=t._k;do if(t._i>=n.length)return{value:void 0,done:!0};while(!((e=n[t._i++])in t._t));return{value:e,done:!1}}),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},{"./$.an-object":72,"./$.export":90,"./$.iter-create":109}],212:[function(e,t,n){var r=e("./$"),i=e("./$.export"),o=e("./$.an-object");i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.getDesc(o(e),t)}})},{"./$":114,"./$.an-object":72,"./$.export":90}],213:[function(e,t,n){var r=e("./$.export"),i=e("./$").getProto,o=e("./$.an-object");r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},{"./$":114,"./$.an-object":72,"./$.export":90}],214:[function(e,t,n){function r(e,t){var n,a,c=arguments.length<3?e:arguments[2];return u(e)===c?e[t]:(n=i.getDesc(e,t))?o(n,"value")?n.value:void 0!==n.get?n.get.call(c):void 0:s(a=i.getProto(e))?r(a,t,c):void 0}var i=e("./$"),o=e("./$.has"),a=e("./$.export"),s=e("./$.is-object"),u=e("./$.an-object");a(a.S,"Reflect",{get:r})},{"./$":114,"./$.an-object":72,"./$.export":90,"./$.has":98,"./$.is-object":106}],215:[function(e,t,n){var r=e("./$.export");r(r.S,"Reflect",{has:function(e,t){return t in e}})},{"./$.export":90}],216:[function(e,t,n){var r=e("./$.export"),i=e("./$.an-object"),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),o?o(e):!0}})},{"./$.an-object":72,"./$.export":90}],217:[function(e,t,n){var r=e("./$.export");r(r.S,"Reflect",{ownKeys:e("./$.own-keys")})},{"./$.export":90,"./$.own-keys":124}],218:[function(e,t,n){var r=e("./$.export"),i=e("./$.an-object"),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(t){return!1}}})},{"./$.an-object":72,"./$.export":90}],219:[function(e,t,n){var r=e("./$.export"),i=e("./$.set-proto");i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(n){return!1}}})},{"./$.export":90,"./$.set-proto":132}],220:[function(e,t,n){function r(e,t,n){var a,l,h=arguments.length<4?e:arguments[3],f=i.getDesc(u(e),t);if(!f){if(c(l=i.getProto(e)))return r(l,t,n,h);f=s(0)}return o(f,"value")?f.writable!==!1&&c(h)?(a=i.getDesc(h,t)||s(0),a.value=n,i.setDesc(h,t,a),!0):!1:void 0===f.set?!1:(f.set.call(h,n),!0)}var i=e("./$"),o=e("./$.has"),a=e("./$.export"),s=e("./$.property-desc"),u=e("./$.an-object"),c=e("./$.is-object");a(a.S,"Reflect",{set:r})},{"./$":114,"./$.an-object":72,"./$.export":90,"./$.has":98,"./$.is-object":106,"./$.property-desc":127}],221:[function(e,t,n){var r=e("./$"),i=e("./$.global"),o=e("./$.is-regexp"),a=e("./$.flags"),s=i.RegExp,u=s,c=s.prototype,l=/a/g,h=/a/g,f=new s(l)!==l;!e("./$.descriptors")||f&&!e("./$.fails")(function(){return h[e("./$.wks")("match")]=!1,s(l)!=l||s(h)==h||"/a/i"!=s(l,"i")})||(s=function(e,t){var n=o(e),r=void 0===t;return this instanceof s||!n||e.constructor!==s||!r?f?new u(n&&!r?e.source:e,t):u((n=e instanceof s)?e.source:e,n&&r?a.call(e):t):e},r.each.call(r.getNames(u),function(e){e in s||r.setDesc(s,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})}),c.constructor=s,s.prototype=c,e("./$.redefine")(i,"RegExp",s)),e("./$.set-species")("RegExp")},{"./$":114,"./$.descriptors":87,"./$.fails":92,"./$.flags":94,"./$.global":97,"./$.is-regexp":107,"./$.redefine":129,"./$.set-species":133,"./$.wks":151}],222:[function(e,t,n){var r=e("./$");e("./$.descriptors")&&"g"!=/./g.flags&&r.setDesc(RegExp.prototype,"flags",{configurable:!0,get:e("./$.flags")})},{"./$":114,"./$.descriptors":87,"./$.flags":94}],223:[function(e,t,n){e("./$.fix-re-wks")("match",1,function(e,t){return function(n){"use strict";var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))}})},{"./$.fix-re-wks":93}],224:[function(e,t,n){e("./$.fix-re-wks")("replace",2,function(e,t,n){return function(r,i){"use strict";var o=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)}})},{"./$.fix-re-wks":93}],225:[function(e,t,n){e("./$.fix-re-wks")("search",1,function(e,t){return function(n){"use strict";var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))}})},{"./$.fix-re-wks":93}],226:[function(e,t,n){e("./$.fix-re-wks")("split",2,function(e,t,n){return function(r,i){"use strict";var o=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)}})},{"./$.fix-re-wks":93}],227:[function(e,t,n){"use strict";var r=e("./$.collection-strong");e("./$.collection")("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(this,e=0===e?0:e,e)}},r)},{"./$.collection":83,"./$.collection-strong":80}],228:[function(e,t,n){"use strict";var r=e("./$.export"),i=e("./$.string-at")(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},{"./$.export":90,"./$.string-at":138}],229:[function(e,t,n){"use strict";var r=e("./$.export"),i=e("./$.to-length"),o=e("./$.string-context"),a="endsWith",s=""[a];r(r.P+r.F*e("./$.fails-is-regexp")(a),"String",{endsWith:function(e){var t=o(this,e,a),n=arguments,r=n.length>1?n[1]:void 0,u=i(t.length),c=void 0===r?u:Math.min(i(r),u),l=String(e);return s?s.call(t,l,c):t.slice(c-l.length,c)===l}})},{"./$.export":90,"./$.fails-is-regexp":91,"./$.string-context":139,"./$.to-length":147}],230:[function(e,t,n){var r=e("./$.export"),i=e("./$.to-index"),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments,a=r.length,s=0;a>s;){if(t=+r[s++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(65536>t?o(t):o(((t-=65536)>>10)+55296,t%1024+56320))}return n.join("")}})},{"./$.export":90,"./$.to-index":144}],231:[function(e,t,n){"use strict";var r=e("./$.export"),i=e("./$.string-context"),o="includes";r(r.P+r.F*e("./$.fails-is-regexp")(o),"String",{includes:function(e){return!!~i(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},{"./$.export":90,"./$.fails-is-regexp":91,"./$.string-context":139}],232:[function(e,t,n){arguments[4][66][0].apply(n,arguments)},{"./$.iter-define":110,"./$.string-at":138,dup:66}],233:[function(e,t,n){var r=e("./$.export"),i=e("./$.to-iobject"),o=e("./$.to-length");r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments,a=r.length,s=[],u=0;n>u;)s.push(String(t[u++])),a>u&&s.push(String(r[u]));return s.join("")}})},{"./$.export":90,"./$.to-iobject":146,"./$.to-length":147
}],234:[function(e,t,n){var r=e("./$.export");r(r.P,"String",{repeat:e("./$.string-repeat")})},{"./$.export":90,"./$.string-repeat":141}],235:[function(e,t,n){"use strict";var r=e("./$.export"),i=e("./$.to-length"),o=e("./$.string-context"),a="startsWith",s=""[a];r(r.P+r.F*e("./$.fails-is-regexp")(a),"String",{startsWith:function(e){var t=o(this,e,a),n=arguments,r=i(Math.min(n.length>1?n[1]:void 0,t.length)),u=String(e);return s?s.call(t,u,r):t.slice(r,r+u.length)===u}})},{"./$.export":90,"./$.fails-is-regexp":91,"./$.string-context":139,"./$.to-length":147}],236:[function(e,t,n){"use strict";e("./$.string-trim")("trim",function(e){return function(){return e(this,3)}})},{"./$.string-trim":142}],237:[function(e,t,n){arguments[4][67][0].apply(n,arguments)},{"./$":114,"./$.an-object":72,"./$.descriptors":87,"./$.enum-keys":89,"./$.export":90,"./$.fails":92,"./$.get-names":96,"./$.global":97,"./$.has":98,"./$.is-array":104,"./$.keyof":115,"./$.library":116,"./$.property-desc":127,"./$.redefine":129,"./$.set-to-string-tag":134,"./$.shared":135,"./$.to-iobject":146,"./$.uid":150,"./$.wks":151,dup:67}],238:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.redefine"),o=e("./$.collection-weak"),a=e("./$.is-object"),s=e("./$.has"),u=o.frozenStore,c=o.WEAK,l=Object.isExtensible||a,h={},f=e("./$.collection")("WeakMap",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){if(a(e)){if(!l(e))return u(this).get(e);if(s(e,c))return e[c][this._i]}},set:function(e,t){return o.def(this,e,t)}},o,!0,!0);7!=(new f).set((Object.freeze||Object)(h),7).get(h)&&r.each.call(["delete","has","get","set"],function(e){var t=f.prototype,n=t[e];i(t,e,function(t,r){if(a(t)&&!l(t)){var i=u(this)[e](t,r);return"set"==e?this:i}return n.call(this,t,r)})})},{"./$":114,"./$.collection":83,"./$.collection-weak":82,"./$.has":98,"./$.is-object":106,"./$.redefine":129}],239:[function(e,t,n){"use strict";var r=e("./$.collection-weak");e("./$.collection")("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(this,e,!0)}},r,!1,!0)},{"./$.collection":83,"./$.collection-weak":82}],240:[function(e,t,n){"use strict";var r=e("./$.export"),i=e("./$.array-includes")(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./$.add-to-unscopables")("includes")},{"./$.add-to-unscopables":71,"./$.array-includes":75,"./$.export":90}],241:[function(e,t,n){arguments[4][68][0].apply(n,arguments)},{"./$.collection-to-json":81,"./$.export":90,dup:68}],242:[function(e,t,n){var r=e("./$.export"),i=e("./$.object-to-array")(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},{"./$.export":90,"./$.object-to-array":123}],243:[function(e,t,n){var r=e("./$"),i=e("./$.export"),o=e("./$.own-keys"),a=e("./$.to-iobject"),s=e("./$.property-desc");i(i.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,i=a(e),u=r.setDesc,c=r.getDesc,l=o(i),h={},f=0;l.length>f;)n=c(i,t=l[f++]),t in h?u(h,t,s(0,n)):h[t]=n;return h}})},{"./$":114,"./$.export":90,"./$.own-keys":124,"./$.property-desc":127,"./$.to-iobject":146}],244:[function(e,t,n){var r=e("./$.export"),i=e("./$.object-to-array")(!1);r(r.S,"Object",{values:function(e){return i(e)}})},{"./$.export":90,"./$.object-to-array":123}],245:[function(e,t,n){var r=e("./$.export"),i=e("./$.replacer")(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return i(e)}})},{"./$.export":90,"./$.replacer":130}],246:[function(e,t,n){var r=e("./$.export");r(r.P,"Set",{toJSON:e("./$.collection-to-json")("Set")})},{"./$.collection-to-json":81,"./$.export":90}],247:[function(e,t,n){"use strict";var r=e("./$.export"),i=e("./$.string-at")(!0);r(r.P,"String",{at:function(e){return i(this,e)}})},{"./$.export":90,"./$.string-at":138}],248:[function(e,t,n){"use strict";var r=e("./$.export"),i=e("./$.string-pad");r(r.P,"String",{padLeft:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},{"./$.export":90,"./$.string-pad":140}],249:[function(e,t,n){"use strict";var r=e("./$.export"),i=e("./$.string-pad");r(r.P,"String",{padRight:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},{"./$.export":90,"./$.string-pad":140}],250:[function(e,t,n){"use strict";e("./$.string-trim")("trimLeft",function(e){return function(){return e(this,1)}})},{"./$.string-trim":142}],251:[function(e,t,n){"use strict";e("./$.string-trim")("trimRight",function(e){return function(){return e(this,2)}})},{"./$.string-trim":142}],252:[function(e,t,n){var r=e("./$"),i=e("./$.export"),o=e("./$.ctx"),a=e("./$.core").Array||Array,s={},u=function(e,t){r.each.call(e.split(","),function(e){void 0==t&&e in a?s[e]=a[e]:e in[]&&(s[e]=o(Function.call,[][e],t))})};u("pop,reverse,shift,keys,values,entries",1),u("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),u("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill"),i(i.S,"Array",s)},{"./$":114,"./$.core":84,"./$.ctx":85,"./$.export":90}],253:[function(e,t,n){e("./es6.array.iterator");var r=e("./$.global"),i=e("./$.hide"),o=e("./$.iterators"),a=e("./$.wks")("iterator"),s=r.NodeList,u=r.HTMLCollection,c=s&&s.prototype,l=u&&u.prototype,h=o.NodeList=o.HTMLCollection=o.Array;c&&!c[a]&&i(c,a,h),l&&!l[a]&&i(l,a,h)},{"./$.global":97,"./$.hide":99,"./$.iterators":113,"./$.wks":151,"./es6.array.iterator":159}],254:[function(e,t,n){var r=e("./$.export"),i=e("./$.task");r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},{"./$.export":90,"./$.task":143}],255:[function(e,t,n){var r=e("./$.global"),i=e("./$.export"),o=e("./$.invoke"),a=e("./$.partial"),s=r.navigator,u=!!s&&/MSIE .\./.test(s.userAgent),c=function(e){return u?function(t,n){return e(o(a,[].slice.call(arguments,2),"function"==typeof t?t:Function(t)),n)}:e};i(i.G+i.B+i.F*u,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},{"./$.export":90,"./$.global":97,"./$.invoke":101,"./$.partial":125}],256:[function(e,t,n){e("./modules/es5"),e("./modules/es6.symbol"),e("./modules/es6.object.assign"),e("./modules/es6.object.is"),e("./modules/es6.object.set-prototype-of"),e("./modules/es6.object.to-string"),e("./modules/es6.object.freeze"),e("./modules/es6.object.seal"),e("./modules/es6.object.prevent-extensions"),e("./modules/es6.object.is-frozen"),e("./modules/es6.object.is-sealed"),e("./modules/es6.object.is-extensible"),e("./modules/es6.object.get-own-property-descriptor"),e("./modules/es6.object.get-prototype-of"),e("./modules/es6.object.keys"),e("./modules/es6.object.get-own-property-names"),e("./modules/es6.function.name"),e("./modules/es6.function.has-instance"),e("./modules/es6.number.constructor"),e("./modules/es6.number.epsilon"),e("./modules/es6.number.is-finite"),e("./modules/es6.number.is-integer"),e("./modules/es6.number.is-nan"),e("./modules/es6.number.is-safe-integer"),e("./modules/es6.number.max-safe-integer"),e("./modules/es6.number.min-safe-integer"),e("./modules/es6.number.parse-float"),e("./modules/es6.number.parse-int"),e("./modules/es6.math.acosh"),e("./modules/es6.math.asinh"),e("./modules/es6.math.atanh"),e("./modules/es6.math.cbrt"),e("./modules/es6.math.clz32"),e("./modules/es6.math.cosh"),e("./modules/es6.math.expm1"),e("./modules/es6.math.fround"),e("./modules/es6.math.hypot"),e("./modules/es6.math.imul"),e("./modules/es6.math.log10"),e("./modules/es6.math.log1p"),e("./modules/es6.math.log2"),e("./modules/es6.math.sign"),e("./modules/es6.math.sinh"),e("./modules/es6.math.tanh"),e("./modules/es6.math.trunc"),e("./modules/es6.string.from-code-point"),e("./modules/es6.string.raw"),e("./modules/es6.string.trim"),e("./modules/es6.string.iterator"),e("./modules/es6.string.code-point-at"),e("./modules/es6.string.ends-with"),e("./modules/es6.string.includes"),e("./modules/es6.string.repeat"),e("./modules/es6.string.starts-with"),e("./modules/es6.array.from"),e("./modules/es6.array.of"),e("./modules/es6.array.iterator"),e("./modules/es6.array.species"),e("./modules/es6.array.copy-within"),e("./modules/es6.array.fill"),e("./modules/es6.array.find"),e("./modules/es6.array.find-index"),e("./modules/es6.regexp.constructor"),e("./modules/es6.regexp.flags"),e("./modules/es6.regexp.match"),e("./modules/es6.regexp.replace"),e("./modules/es6.regexp.search"),e("./modules/es6.regexp.split"),e("./modules/es6.promise"),e("./modules/es6.map"),e("./modules/es6.set"),e("./modules/es6.weak-map"),e("./modules/es6.weak-set"),e("./modules/es6.reflect.apply"),e("./modules/es6.reflect.construct"),e("./modules/es6.reflect.define-property"),e("./modules/es6.reflect.delete-property"),e("./modules/es6.reflect.enumerate"),e("./modules/es6.reflect.get"),e("./modules/es6.reflect.get-own-property-descriptor"),e("./modules/es6.reflect.get-prototype-of"),e("./modules/es6.reflect.has"),e("./modules/es6.reflect.is-extensible"),e("./modules/es6.reflect.own-keys"),e("./modules/es6.reflect.prevent-extensions"),e("./modules/es6.reflect.set"),e("./modules/es6.reflect.set-prototype-of"),e("./modules/es7.array.includes"),e("./modules/es7.string.at"),e("./modules/es7.string.pad-left"),e("./modules/es7.string.pad-right"),e("./modules/es7.string.trim-left"),e("./modules/es7.string.trim-right"),e("./modules/es7.regexp.escape"),e("./modules/es7.object.get-own-property-descriptors"),e("./modules/es7.object.values"),e("./modules/es7.object.entries"),e("./modules/es7.map.to-json"),e("./modules/es7.set.to-json"),e("./modules/js.array.statics"),e("./modules/web.timers"),e("./modules/web.immediate"),e("./modules/web.dom.iterable"),t.exports=e("./modules/$.core")},{"./modules/$.core":84,"./modules/es5":153,"./modules/es6.array.copy-within":154,"./modules/es6.array.fill":155,"./modules/es6.array.find":157,"./modules/es6.array.find-index":156,"./modules/es6.array.from":158,"./modules/es6.array.iterator":159,"./modules/es6.array.of":160,"./modules/es6.array.species":161,"./modules/es6.function.has-instance":162,"./modules/es6.function.name":163,"./modules/es6.map":164,"./modules/es6.math.acosh":165,"./modules/es6.math.asinh":166,"./modules/es6.math.atanh":167,"./modules/es6.math.cbrt":168,"./modules/es6.math.clz32":169,"./modules/es6.math.cosh":170,"./modules/es6.math.expm1":171,"./modules/es6.math.fround":172,"./modules/es6.math.hypot":173,"./modules/es6.math.imul":174,"./modules/es6.math.log10":175,"./modules/es6.math.log1p":176,"./modules/es6.math.log2":177,"./modules/es6.math.sign":178,"./modules/es6.math.sinh":179,"./modules/es6.math.tanh":180,"./modules/es6.math.trunc":181,"./modules/es6.number.constructor":182,"./modules/es6.number.epsilon":183,"./modules/es6.number.is-finite":184,"./modules/es6.number.is-integer":185,"./modules/es6.number.is-nan":186,"./modules/es6.number.is-safe-integer":187,"./modules/es6.number.max-safe-integer":188,"./modules/es6.number.min-safe-integer":189,"./modules/es6.number.parse-float":190,"./modules/es6.number.parse-int":191,"./modules/es6.object.assign":192,"./modules/es6.object.freeze":193,"./modules/es6.object.get-own-property-descriptor":194,"./modules/es6.object.get-own-property-names":195,"./modules/es6.object.get-prototype-of":196,"./modules/es6.object.is":200,"./modules/es6.object.is-extensible":197,"./modules/es6.object.is-frozen":198,"./modules/es6.object.is-sealed":199,"./modules/es6.object.keys":201,"./modules/es6.object.prevent-extensions":202,"./modules/es6.object.seal":203,"./modules/es6.object.set-prototype-of":204,"./modules/es6.object.to-string":205,"./modules/es6.promise":206,"./modules/es6.reflect.apply":207,"./modules/es6.reflect.construct":208,"./modules/es6.reflect.define-property":209,"./modules/es6.reflect.delete-property":210,"./modules/es6.reflect.enumerate":211,"./modules/es6.reflect.get":214,"./modules/es6.reflect.get-own-property-descriptor":212,"./modules/es6.reflect.get-prototype-of":213,"./modules/es6.reflect.has":215,"./modules/es6.reflect.is-extensible":216,"./modules/es6.reflect.own-keys":217,"./modules/es6.reflect.prevent-extensions":218,"./modules/es6.reflect.set":220,"./modules/es6.reflect.set-prototype-of":219,"./modules/es6.regexp.constructor":221,"./modules/es6.regexp.flags":222,"./modules/es6.regexp.match":223,"./modules/es6.regexp.replace":224,"./modules/es6.regexp.search":225,"./modules/es6.regexp.split":226,"./modules/es6.set":227,"./modules/es6.string.code-point-at":228,"./modules/es6.string.ends-with":229,"./modules/es6.string.from-code-point":230,"./modules/es6.string.includes":231,"./modules/es6.string.iterator":232,"./modules/es6.string.raw":233,"./modules/es6.string.repeat":234,"./modules/es6.string.starts-with":235,"./modules/es6.string.trim":236,"./modules/es6.symbol":237,"./modules/es6.weak-map":238,"./modules/es6.weak-set":239,"./modules/es7.array.includes":240,"./modules/es7.map.to-json":241,"./modules/es7.object.entries":242,"./modules/es7.object.get-own-property-descriptors":243,"./modules/es7.object.values":244,"./modules/es7.regexp.escape":245,"./modules/es7.set.to-json":246,"./modules/es7.string.at":247,"./modules/es7.string.pad-left":248,"./modules/es7.string.pad-right":249,"./modules/es7.string.trim-left":250,"./modules/es7.string.trim-right":251,"./modules/js.array.statics":252,"./modules/web.dom.iterable":253,"./modules/web.immediate":254,"./modules/web.timers":255}],257:[function(e,t,n){function r(){l=!1,s.length?c=s.concat(c):h=-1,c.length&&i()}function i(){if(!l){var e=setTimeout(r);l=!0;for(var t=c.length;t;){for(s=c,c=[];++h<t;)s&&s[h].run();h=-1,t=c.length}s=null,l=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function a(){}var s,u=t.exports={},c=[],l=!1,h=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new o(e,t)),1!==c.length||l||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=a,u.addListener=a,u.once=a,u.off=a,u.removeListener=a,u.removeAllListeners=a,u.emit=a,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],258:[function(e,t,n){(function(e,n){!function(n){"use strict";function r(e,t,n,r){var i=Object.create((t||o).prototype),a=new d(r||[]);return i._invoke=h(e,n,a),i}function i(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function o(){}function a(){}function s(){}function u(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function c(e){this.arg=e}function l(t){function n(e,n){var r=t[e](n),i=r.value;return i instanceof c?Promise.resolve(i.arg).then(o,a):Promise.resolve(i).then(function(e){return r.value=e,r})}function r(e,t){function r(){return n(e,t)}return i=i?i.then(r,r):new Promise(function(e){e(r())})}"object"==typeof e&&e.domain&&(n=e.domain.bind(n));var i,o=n.bind(t,"next"),a=n.bind(t,"throw");n.bind(t,"return");this._invoke=r}function h(e,t,n){var r=_;return function(o,a){if(r===S)throw new Error("Generator is already running");if(r===M){if("throw"===o)throw a;return m()}for(;;){var s=n.delegate;if(s){if("return"===o||"throw"===o&&s.iterator[o]===g){n.delegate=null;var u=s.iterator["return"];if(u){var c=i(u,s.iterator,a);if("throw"===c.type){o="throw",a=c.arg;continue}}if("return"===o)continue}var c=i(s.iterator[o],s.iterator,a);if("throw"===c.type){n.delegate=null,o="throw",a=c.arg;continue}o="next",a=g;var l=c.arg;if(!l.done)return r=E,l;n[s.resultName]=l.value,n.next=s.nextLoc,n.delegate=null}if("next"===o)r===E?n.sent=a:n.sent=g;else if("throw"===o){if(r===_)throw r=M,a;n.dispatchException(a)&&(o="next",a=g)}else"return"===o&&n.abrupt("return",a);r=S;var c=i(e,t,n);if("normal"===c.type){r=n.done?M:E;var l={value:c.arg,done:n.done};if(c.arg!==T)return l;n.delegate&&"next"===o&&(a=g)}else"throw"===c.type&&(r=M,o="throw",a=c.arg)}}}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function d(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function v(e){if(e){var t=e[b];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function i(){for(;++n<e.length;)if(y.call(e,n))return i.value=e[n],i.done=!1,i;return i.value=g,i.done=!0,i};return r.next=r}}return{next:m}}function m(){return{value:g,done:!0}}var g,y=Object.prototype.hasOwnProperty,b="function"==typeof Symbol&&Symbol.iterator||"@@iterator",w="object"==typeof t,x=n.regeneratorRuntime;if(x)return void(w&&(t.exports=x));x=n.regeneratorRuntime=w?t.exports:{},x.wrap=r;var _="suspendedStart",E="suspendedYield",S="executing",M="completed",T={},C=s.prototype=o.prototype;a.prototype=C.constructor=s,s.constructor=a,a.displayName="GeneratorFunction",x.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return t?t===a||"GeneratorFunction"===(t.displayName||t.name):!1},x.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):e.__proto__=s,e.prototype=Object.create(C),e},x.awrap=function(e){return new c(e)},u(l.prototype),x.async=function(e,t,n,i){var o=new l(r(e,t,n,i));return x.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},u(C),C[b]=function(){return this},C.toString=function(){return"[object Generator]"},x.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},x.values=v,d.prototype={constructor:d,reset:function(e){if(this.prev=0,this.next=0,this.sent=g,this.done=!1,this.delegate=null,this.tryEntries.forEach(p),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=y.call(i,"catchLoc"),s=y.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&y.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?this.next=i.finallyLoc:this.complete(o),T},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),p(n),T}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;p(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:v(e),resultName:t,nextLoc:n},T}}}("object"==typeof n?n:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:257}],259:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/core-js/symbol")["default"],a=e("babel-runtime/core-js/map")["default"],s=e("babel-runtime/core-js/array/from")["default"];window.altspace||(window.altspace={}),window.altspace.utilities||(window.altspace.utilities={}),window.altspace.utilities.behaviors||(window.altspace.utilities.behaviors={}),e("babel/polyfill");var u=o("containerMax"),c=o("containerMin"),l=o("object3D"),h=o("boundingBox"),f=o("origMatrix"),p=o("origMatrixAutoUpdate"),d=o("parent"),v=o("enclosure"),m=new a,g=function(){function e(t){var n=t.my,r=void 0===n?{}:n,o=t.at;i(this,e),this.my=r,this.at=o}return r(e,[{key:"getAxisSettings",value:function(e,t,n,r){t=t||"center",t=/(\w+)([-+].+)?/.exec(t);var i=t[1],o=t[2],a=parseFloat(o)||0;return o&&o.endsWith("%")?a=a/100*(r[e]-n[e]):o&&o.endsWith("m")&&(console.log(a,this[v]),a*=this[v].pixelsPerMeter,console.log(a)),{position:i,offset:a}}},{key:"getAnchorOffset",value:function(e,t){var n=this[h].max,r=this[h].min,i=this.getAxisSettings(e,t,r,n),o=i.position,a=i.offset;if("max"===o)return-n[e]+a;if("min"===o)return-r[e]+a;if("center"===o)return a;throw new Error(t+" is an invalid layout position for "+e)}},{key:"doLayout",value:function(){var e=this;s("xyz").forEach(function(t){var n=e.getAxisSettings(t,e.at[t],e[c],e[u]),r=n.position,i=n.offset,o=e.getAnchorOffset(t,e.my[t]);if("max"===r)e[l].position[t]=e[u][t]+i+o;else if("min"===r)e[l].position[t]=e[c][t]+i+o;else{if("center"!==r)throw new Error(e.at[t]+" is an invalid layout position for "+t);e[l].position[t]=i+o}}),this[d]&&(this[d].matrix=this[f],this[d].updateMatrixWorld(!0),this[d].matrixAutoUpdate=this[p])}},{key:"awake",value:function(e){var t=this;this[l]=e,this[h]=(new THREE.Box3).setFromObject(this[l]),altspace.getEnclosure().then(function(e){if(t[v]=e,t[l].parent instanceof THREE.Scene){var n=t[v].innerWidth/2,r=t[v].innerHeight/2,i=t[v].innerDepth/2;t[u]=new THREE.Vector3(n,r,i),t[c]=new THREE.Vector3(-n,-r,-i),t.doLayout()}else{var o=t[l].getWorldScale();t[h].min.divide(o),t[h].max.divide(o),t[d]=t[l].parent,t[f]=t[d].matrix.clone(),t[p]=t[d].matrixAutoUpdate,t[d].matrixAutoUpdate=!1,t[d].matrix.identity();var a=void 0;m.has(t[d].uuid)?a=m.get(t[d].uuid):(t[d].remove(t[l]),a=(new THREE.Box3).setFromObject(t[d]),t[d].add(t[l]),m.set(t[d].uuid,a)),t[u]=a.max,t[c]=a.min,t.doLayout()}})}}]),e}();window.altspace.utilities.behaviors.Layout=g},{"babel-runtime/core-js/array/from":3,"babel-runtime/core-js/map":4,"babel-runtime/core-js/symbol":6,"babel-runtime/helpers/class-call-check":7,"babel-runtime/helpers/create-class":8,"babel/polyfill":9}]},{},[259]),function r(e,t,n){function i(a,s){if(!t[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return require(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=t[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return i(n?n:t)},l,l.exports,r,e,t,n)}return t[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,n){t.exports={"default":e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":5}],2:[function(e,t,n){t.exports={"default":e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":6}],3:[function(e,t,n){"use strict";n["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n.__esModule=!0},{}],4:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/define-property")["default"];n["default"]=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(e,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n.__esModule=!0},{"babel-runtime/core-js/object/define-property":1}],5:[function(e,t,n){var r=e("../../modules/$");t.exports=function(e,t,n){return r.setDesc(e,t,n)}},{"../../modules/$":34}],6:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),t.exports=e("../modules/$.core").Promise},{"../modules/$.core":12,"../modules/es6.object.to-string":56,"../modules/es6.promise":57,"../modules/es6.string.iterator":58,"../modules/web.dom.iterable":59}],7:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],8:[function(e,t,n){t.exports=function(){}},{}],9:[function(e,t,n){var r=e("./$.is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./$.is-object":27}],10:[function(e,t,n){var r=e("./$.cof"),i=e("./$.wks")("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=(t=Object(e))[i])?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},{"./$.cof":11,"./$.wks":53}],11:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],12:[function(e,t,n){var r=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=r)},{}],13:[function(e,t,n){var r=e("./$.a-function");t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},{"./$.a-function":7}],14:[function(e,t,n){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],15:[function(e,t,n){t.exports=!e("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":18}],16:[function(e,t,n){var r=e("./$.is-object"),i=e("./$.global").document,o=r(i)&&r(i.createElement);t.exports=function(e){return o?i.createElement(e):{}}},{"./$.global":20,"./$.is-object":27}],17:[function(e,t,n){var r=e("./$.global"),i=e("./$.core"),o=e("./$.ctx"),a="prototype",s=function(e,t,n){var u,c,l,h=e&s.F,f=e&s.G,p=e&s.S,d=e&s.P,v=e&s.B,m=e&s.W,g=f?i:i[t]||(i[t]={}),y=f?r:p?r[t]:(r[t]||{})[a];f&&(n=t);for(u in n)c=!h&&y&&u in y,c&&u in g||(l=c?y[u]:n[u],g[u]=f&&"function"!=typeof y[u]?n[u]:v&&c?o(l,r):m&&y[u]==l?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[a]=e[a],t}(l):d&&"function"==typeof l?o(Function.call,l):l,d&&((g[a]||(g[a]={}))[u]=l))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,t.exports=s},{"./$.core":12,"./$.ctx":13,"./$.global":20}],18:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],19:[function(e,t,n){var r=e("./$.ctx"),i=e("./$.iter-call"),o=e("./$.is-array-iter"),a=e("./$.an-object"),s=e("./$.to-length"),u=e("./core.get-iterator-method");t.exports=function(e,t,n,c){var l,h,f,p=u(e),d=r(n,c,t?2:1),v=0;if("function"!=typeof p)throw TypeError(e+" is not iterable!");if(o(p))for(l=s(e.length);l>v;v++)t?d(a(h=e[v])[0],h[1]):d(e[v]);else for(f=p.call(e);!(h=f.next()).done;)i(f,d,h.value,t)}},{"./$.an-object":9,"./$.ctx":13,"./$.is-array-iter":26,"./$.iter-call":28,"./$.to-length":51,"./core.get-iterator-method":54}],20:[function(e,t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],21:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],22:[function(e,t,n){var r=e("./$"),i=e("./$.property-desc");t.exports=e("./$.descriptors")?function(e,t,n){return r.setDesc(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},{"./$":34,"./$.descriptors":15,"./$.property-desc":37}],23:[function(e,t,n){t.exports=e("./$.global").document&&document.documentElement},{"./$.global":20}],24:[function(e,t,n){t.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],25:[function(e,t,n){var r=e("./$.cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./$.cof":11}],26:[function(e,t,n){var r=e("./$.iterators"),i=e("./$.wks")("iterator"),o=Array.prototype;t.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},{"./$.iterators":33,"./$.wks":53}],27:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],28:[function(e,t,n){var r=e("./$.an-object");t.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(o){var a=e["return"];throw void 0!==a&&r(a.call(e)),o}}},{"./$.an-object":9}],29:[function(e,t,n){"use strict";var r=e("./$"),i=e("./$.property-desc"),o=e("./$.set-to-string-tag"),a={};e("./$.hide")(a,e("./$.wks")("iterator"),function(){return this}),t.exports=function(e,t,n){e.prototype=r.create(a,{next:i(1,n)}),o(e,t+" Iterator")}},{"./$":34,"./$.hide":22,"./$.property-desc":37,"./$.set-to-string-tag":43,"./$.wks":53}],30:[function(e,t,n){"use strict";var r=e("./$.library"),i=e("./$.export"),o=e("./$.redefine"),a=e("./$.hide"),s=e("./$.has"),u=e("./$.iterators"),c=e("./$.iter-create"),l=e("./$.set-to-string-tag"),h=e("./$").getProto,f=e("./$.wks")("iterator"),p=!([].keys&&"next"in[].keys()),d="@@iterator",v="keys",m="values",g=function(){return this};t.exports=function(e,t,n,y,b,w,x){c(n,t,y);var _,E,S=function(e){if(!p&&e in A)return A[e];switch(e){case v:return function(){return new n(this,e)};case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},M=t+" Iterator",T=b==m,C=!1,A=e.prototype,k=A[f]||A[d]||b&&A[b],P=k||S(b);if(k){var O=h(P.call(new e));l(O,M,!0),!r&&s(A,d)&&a(O,f,g),T&&k.name!==m&&(C=!0,P=function(){return k.call(this)})}if(r&&!x||!p&&!C&&A[f]||a(A,f,P),u[t]=P,u[M]=g,b)if(_={values:T?P:S(m),keys:w?P:S(v),entries:T?S("entries"):P},x)for(E in _)E in A||o(A,E,_[E]);else i(i.P+i.F*(p||C),t,_);return _}},{"./$":34,"./$.export":17,"./$.has":21,"./$.hide":22,"./$.iter-create":29,"./$.iterators":33,"./$.library":35,"./$.redefine":39,"./$.set-to-string-tag":43,"./$.wks":53}],31:[function(e,t,n){var r=e("./$.wks")("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(a){}t.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){n=!0},o[r]=function(){return a},e(o)}catch(s){}return n}},{"./$.wks":53}],32:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],33:[function(e,t,n){t.exports={}},{}],34:[function(e,t,n){var r=Object;t.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},{}],35:[function(e,t,n){t.exports=!0},{}],36:[function(e,t,n){var r,i,o,a=e("./$.global"),s=e("./$.task").set,u=a.MutationObserver||a.WebKitMutationObserver,c=a.process,l=a.Promise,h="process"==e("./$.cof")(c),f=function(){var e,t,n;for(h&&(e=c.domain)&&(c.domain=null,e.exit());r;)t=r.domain,n=r.fn,t&&t.enter(),n(),t&&t.exit(),r=r.next;i=void 0,e&&e.enter()};if(h)o=function(){c.nextTick(f)};else if(u){var p=1,d=document.createTextNode("");new u(f).observe(d,{characterData:!0}),o=function(){d.data=p=-p}}else o=l&&l.resolve?function(){l.resolve().then(f)}:function(){s.call(a,f)};t.exports=function(e){var t={fn:e,next:void 0,domain:h&&c.domain};i&&(i.next=t),r||(r=t,o()),i=t}},{"./$.cof":11,"./$.global":20,"./$.task":48}],37:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],38:[function(e,t,n){var r=e("./$.redefine");t.exports=function(e,t){for(var n in t)r(e,n,t[n]);return e;
}},{"./$.redefine":39}],39:[function(e,t,n){t.exports=e("./$.hide")},{"./$.hide":22}],40:[function(e,t,n){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},{}],41:[function(e,t,n){var r=e("./$").getDesc,i=e("./$.is-object"),o=e("./$.an-object"),a=function(e,t){if(o(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,i){try{i=e("./$.ctx")(Function.call,r(Object.prototype,"__proto__").set,2),i(t,[]),n=!(t instanceof Array)}catch(o){n=!0}return function(e,t){return a(e,t),n?e.__proto__=t:i(e,t),e}}({},!1):void 0),check:a}},{"./$":34,"./$.an-object":9,"./$.ctx":13,"./$.is-object":27}],42:[function(e,t,n){"use strict";var r=e("./$.core"),i=e("./$"),o=e("./$.descriptors"),a=e("./$.wks")("species");t.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.setDesc(t,a,{configurable:!0,get:function(){return this}})}},{"./$":34,"./$.core":12,"./$.descriptors":15,"./$.wks":53}],43:[function(e,t,n){var r=e("./$").setDesc,i=e("./$.has"),o=e("./$.wks")("toStringTag");t.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},{"./$":34,"./$.has":21,"./$.wks":53}],44:[function(e,t,n){var r=e("./$.global"),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(e){return o[e]||(o[e]={})}},{"./$.global":20}],45:[function(e,t,n){var r=e("./$.an-object"),i=e("./$.a-function"),o=e("./$.wks")("species");t.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},{"./$.a-function":7,"./$.an-object":9,"./$.wks":53}],46:[function(e,t,n){t.exports=function(e,t,n){if(!(e instanceof t))throw TypeError(n+": use the 'new' operator!");return e}},{}],47:[function(e,t,n){var r=e("./$.to-integer"),i=e("./$.defined");t.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return 0>u||u>=c?e?"":void 0:(o=s.charCodeAt(u),55296>o||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):(o-55296<<10)+(a-56320)+65536)}}},{"./$.defined":14,"./$.to-integer":49}],48:[function(e,t,n){var r,i,o,a=e("./$.ctx"),s=e("./$.invoke"),u=e("./$.html"),c=e("./$.dom-create"),l=e("./$.global"),h=l.process,f=l.setImmediate,p=l.clearImmediate,d=l.MessageChannel,v=0,m={},g="onreadystatechange",y=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},b=function(e){y.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},p=function(e){delete m[e]},"process"==e("./$.cof")(h)?r=function(e){h.nextTick(a(y,e,1))}:d?(i=new d,o=i.port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r=g in c("script")?function(e){u.appendChild(c("script"))[g]=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),t.exports={set:f,clear:p}},{"./$.cof":11,"./$.ctx":13,"./$.dom-create":16,"./$.global":20,"./$.html":23,"./$.invoke":24}],49:[function(e,t,n){var r=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:r)(e)}},{}],50:[function(e,t,n){var r=e("./$.iobject"),i=e("./$.defined");t.exports=function(e){return r(i(e))}},{"./$.defined":14,"./$.iobject":25}],51:[function(e,t,n){var r=e("./$.to-integer"),i=Math.min;t.exports=function(e){return e>0?i(r(e),9007199254740991):0}},{"./$.to-integer":49}],52:[function(e,t,n){var r=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}},{}],53:[function(e,t,n){var r=e("./$.shared")("wks"),i=e("./$.uid"),o=e("./$.global").Symbol;t.exports=function(e){return r[e]||(r[e]=o&&o[e]||(o||i)("Symbol."+e))}},{"./$.global":20,"./$.shared":44,"./$.uid":52}],54:[function(e,t,n){var r=e("./$.classof"),i=e("./$.wks")("iterator"),o=e("./$.iterators");t.exports=e("./$.core").getIteratorMethod=function(e){return void 0!=e?e[i]||e["@@iterator"]||o[r(e)]:void 0}},{"./$.classof":10,"./$.core":12,"./$.iterators":33,"./$.wks":53}],55:[function(e,t,n){"use strict";var r=e("./$.add-to-unscopables"),i=e("./$.iter-step"),o=e("./$.iterators"),a=e("./$.to-iobject");t.exports=e("./$.iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},{"./$.add-to-unscopables":8,"./$.iter-define":30,"./$.iter-step":32,"./$.iterators":33,"./$.to-iobject":50}],56:[function(e,t,n){},{}],57:[function(e,t,n){"use strict";var r,i=e("./$"),o=e("./$.library"),a=e("./$.global"),s=e("./$.ctx"),u=e("./$.classof"),c=e("./$.export"),l=e("./$.is-object"),h=e("./$.an-object"),f=e("./$.a-function"),p=e("./$.strict-new"),d=e("./$.for-of"),v=e("./$.set-proto").set,m=e("./$.same-value"),g=e("./$.wks")("species"),y=e("./$.species-constructor"),b=e("./$.microtask"),w="Promise",x=a.process,_="process"==u(x),E=a[w],S=function(e){var t=new E(function(){});return e&&(t.constructor=Object),E.resolve(t)===t},M=function(){function t(e){var n=new E(e);return v(n,t.prototype),n}var n=!1;try{if(n=E&&E.resolve&&S(),v(t,E),t.prototype=i.create(E.prototype,{constructor:{value:t}}),t.resolve(5).then(function(){})instanceof t||(n=!1),n&&e("./$.descriptors")){var r=!1;E.resolve(i.setDesc({},"then",{get:function(){r=!0}})),n=r}}catch(o){n=!1}return n}(),T=function(e,t){return o&&e===E&&t===r?!0:m(e,t)},C=function(e){var t=h(e)[g];return void 0!=t?t:e},A=function(e){var t;return l(e)&&"function"==typeof(t=e.then)?t:!1},k=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=f(t),this.reject=f(n)},P=function(e){try{e()}catch(t){return{error:t}}},O=function(e,t){if(!e.n){e.n=!0;var n=e.c;b(function(){for(var r=e.v,i=1==e.s,o=0,s=function(t){var n,o,a=i?t.ok:t.fail,s=t.resolve,u=t.reject;try{a?(i||(e.h=!0),n=a===!0?r:a(r),n===t.promise?u(TypeError("Promise-chain cycle")):(o=A(n))?o.call(n,s,u):s(n)):u(r)}catch(c){u(c)}};n.length>o;)s(n[o++]);n.length=0,e.n=!1,t&&setTimeout(function(){var t,n,i=e.p;D(i)&&(_?x.emit("unhandledRejection",r,i):(t=a.onunhandledrejection)?t({promise:i,reason:r}):(n=a.console)&&n.error&&n.error("Unhandled promise rejection",r)),e.a=void 0},1)})}},D=function(e){var t,n=e._d,r=n.a||n.c,i=0;if(n.h)return!1;for(;r.length>i;)if(t=r[i++],t.fail||!D(t.promise))return!1;return!0},R=function(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,t.a=t.c.slice(),O(t,!0))},L=function(e){var t,n=this;if(!n.d){n.d=!0,n=n.r||n;try{if(n.p===e)throw TypeError("Promise can't be resolved itself");(t=A(e))?b(function(){var r={r:n,d:!1};try{t.call(e,s(L,r,1),s(R,r,1))}catch(i){R.call(r,i)}}):(n.v=e,n.s=1,O(n,!1))}catch(r){R.call({r:n,d:!1},r)}}};M||(E=function(e){f(e);var t=this._d={p:p(this,E,w),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{e(s(L,t,1),s(R,t,1))}catch(n){R.call(t,n)}},e("./$.redefine-all")(E.prototype,{then:function(e,t){var n=new k(y(this,E)),r=n.promise,i=this._d;return n.ok="function"==typeof e?e:!0,n.fail="function"==typeof t&&t,i.c.push(n),i.a&&i.a.push(n),i.s&&O(i,!1),r},"catch":function(e){return this.then(void 0,e)}})),c(c.G+c.W+c.F*!M,{Promise:E}),e("./$.set-to-string-tag")(E,w),e("./$.set-species")(w),r=e("./$.core")[w],c(c.S+c.F*!M,w,{reject:function(e){var t=new k(this),n=t.reject;return n(e),t.promise}}),c(c.S+c.F*(!M||S(!0)),w,{resolve:function(e){if(e instanceof E&&T(e.constructor,this))return e;var t=new k(this),n=t.resolve;return n(e),t.promise}}),c(c.S+c.F*!(M&&e("./$.iter-detect")(function(e){E.all(e)["catch"](function(){})})),w,{all:function(e){var t=C(this),n=new k(t),r=n.resolve,o=n.reject,a=[],s=P(function(){d(e,!1,a.push,a);var n=a.length,s=Array(n);n?i.each.call(a,function(e,i){var a=!1;t.resolve(e).then(function(e){a||(a=!0,s[i]=e,--n||r(s))},o)}):r(s)});return s&&o(s.error),n.promise},race:function(e){var t=C(this),n=new k(t),r=n.reject,i=P(function(){d(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i&&r(i.error),n.promise}})},{"./$":34,"./$.a-function":7,"./$.an-object":9,"./$.classof":10,"./$.core":12,"./$.ctx":13,"./$.descriptors":15,"./$.export":17,"./$.for-of":19,"./$.global":20,"./$.is-object":27,"./$.iter-detect":31,"./$.library":35,"./$.microtask":36,"./$.redefine-all":38,"./$.same-value":40,"./$.set-proto":41,"./$.set-species":42,"./$.set-to-string-tag":43,"./$.species-constructor":45,"./$.strict-new":46,"./$.wks":53}],58:[function(e,t,n){"use strict";var r=e("./$.string-at")(!0);e("./$.iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},{"./$.iter-define":30,"./$.string-at":47}],59:[function(e,t,n){e("./es6.array.iterator");var r=e("./$.iterators");r.NodeList=r.HTMLCollection=r.Array},{"./$.iterators":33,"./es6.array.iterator":55}],60:[function(e,t,n){"use strict";function r(e){var t=function n(t,r){var i=altspace.getGamepads().find(function(t){return"steamvr"===t.mapping&&t.hand===e});i?(console.log("SteamVR input device found",i),t(i)):(console.log("SteamVR input device not found trying again in 500ms..."),setTimeout(n,500,t,r))};return new a(t)}var i=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/core-js/promise")["default"],s=function(){function e(){o(this,e),this.type="SteamVRInput"}return i(e,[{key:"awake",value:function(){var t=this;this.leftControllerPromise=r(e.LEFT_CONTROLLER),this.rightControllerPromise=r(e.RIGHT_CONTROLLER),this.firstControllerPromise=a.race([this.leftControllerPromise,this.rightControllerPromise]),this.leftControllerPromise.then(function(e){t.leftController=e}),this.rightControllerPromise.then(function(e){t.rightController=e}),this.firstControllerPromise.then(function(n){t.firstController=n;var r=n.axes.map(function(){return!1}),i=n.buttons.map(function(){return!1});i[e.BUTTON_TRIGGER]=!0,i[e.BUTTON_TOUCHPAD]=!0,n.preventDefault(r,i)})}}]),e}();s.BUTTON_TRIGGER=0,s.BUTTON_GRIP=1,s.BUTTON_TOUCHPAD=2,s.BUTTON_DPAD_UP=3,s.BUTTON_DPAD_RIGHT=4,s.BUTTON_DPAD_DOWN=5,s.BUTTON_DPAD_LEFT=6,s.AXIS_TOUCHPAD_X=0,s.AXIS_TOUCHPAD_Y=1,s.FIRST_CONTROLLER="first",s.LEFT_CONTROLLER="left",s.RIGHT_CONTROLLER="right",window.altspace.utilities.behaviors.SteamVRInput=s},{"babel-runtime/core-js/promise":2,"babel-runtime/helpers/class-call-check":3,"babel-runtime/helpers/create-class":4}]},{},[60]),function i(e,t,n){function r(a,s){if(!t[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return require(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=t[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return r(n?n:t)},l,l.exports,i,e,t,n)}return t[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(e,t,n){t.exports={"default":e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":4}],2:[function(e,t,n){"use strict";n["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n.__esModule=!0},{}],3:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/define-property")["default"];n["default"]=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(e,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n.__esModule=!0},{"babel-runtime/core-js/object/define-property":1}],4:[function(e,t,n){var r=e("../../modules/$");t.exports=function(e,t,n){return r.setDesc(e,t,n)}},{"../../modules/$":5}],5:[function(e,t,n){var r=Object;t.exports={create:r.create,getProto:r.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:r.getOwnPropertyDescriptor,setDesc:r.defineProperty,setDescs:r.defineProperties,getKeys:r.keys,getNames:r.getOwnPropertyNames,getSymbols:r.getOwnPropertySymbols,each:[].forEach}},{}],6:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"],o=function(){function e(t){var n=t.hand,r=void 0===n?"first":n;i(this,e),this._hand=r}return r(e,[{key:"awake",value:function(e,t){this._object3d=e,this._scene=t,this._steamVRInput=this._scene.getBehaviorByType("SteamVRInput")}},{key:"update",value:function(){var e=this._steamVRInput[this._hand+"Controller"],t=this._object3d;if(e){var n=e.position,r=n.x,i=n.y,o=n.z;t.position.set(r,i,o);var a=e.rotation,r=a.x,i=a.y,o=a.z,s=a.w;t.quaternion.set(r,i,o,s)}}}]),e}();window.altspace.utilities.behaviors.SteamVRTrackedObject=o},{"babel-runtime/helpers/class-call-check":2,"babel-runtime/helpers/create-class":3}]},{},[6]),function(){var e="0.12.0";window.altspace&&window.altspace.requestVersion&&window.altspace.requestVersion(e)}(),altspace})}).call(exports,function(){return this}())},function(e,t,n){function r(e,t){var n=e?e.length:0,r=[];if(!n)return r;var u=-1,c=i,l=!0,h=l&&t.length>=s?a(t):null,f=t.length;h&&(c=o,l=!1,t=h);e:for(;++u<n;){var p=e[u];if(l&&p===p){for(var d=f;d--;)if(t[d]===p)continue e;r.push(p)}else c(t,p,0)<0&&r.push(p)}return r}var i=n(62),o=n(64),a=n(65),s=200;e.exports=r},function(e,t,n){var r=n(99),i=n(205),o=i(r);e.exports=o},function(e,t,n){function r(e,t,n){if(t!==t)return i(e,n);for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}var i=n(214);e.exports=r},function(e,t,n){function r(e,t,n,s,u,c){return e===t?!0:null==e||null==t||!o(e)&&!a(t)?e!==e&&t!==t:i(e,t,r,n,s,u,c)}var i=n(195),o=n(16),a=n(20);e.exports=r},function(e,t,n){function r(e,t){var n=e.data,r="string"==typeof t||i(t)?n.set.has(t):n.hash[t];return r?0:-1}var i=n(16);e.exports=r},function(e,t,n){(function(t){function r(e){return s&&a?new i(e):null}var i=n(188),o=n(46),a=o(t,"Set"),s=o(Object,"create");e.exports=r}).call(t,function(){return this}())},function(e,t){function n(e,t){return e="number"==typeof e||r.test(e)?+e:-1,t=null==t?i:t,e>-1&&e%1==0&&t>e}var r=/^\d+$/,i=9007199254740991;e.exports=n},function(e,t,n){var r=n(46),i=n(19),o=n(16),a=n(218),s=r(Object,"keys"),u=s?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&i(e)?a(e):o(e)?s(e):[]}:a;e.exports=u},function(e,t,n){function r(e){if(null==e)return[];u(e)||(e=Object(e));var t=e.length;t=t&&s(t)&&(o(e)||i(e))&&t||0;for(var n=e.constructor,r=-1,c="function"==typeof n&&n.prototype===e,h=Array(t),f=t>0;++r<t;)h[r]=r+"";for(var p in e)f&&a(p,t)||"constructor"==p&&(c||!l.call(e,p))||h.push(p);return h}var i=n(47),o=n(12),a=n(66),s=n(28),u=n(16),c=Object.prototype,l=c.hasOwnProperty;e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(4),u=n(108),c=5e3,l=function(e){function t(){var e,n,o,a;r(this,t);for(var s=arguments.length,u=Array(s),c=0;s>c;c++)u[c]=arguments[c];return n=o=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.isReady=!1,o.startOnPlay=!0,o.durationOnPlay=!1,o.seekOnPlay=null,o.onPlay=function(){o.startOnPlay&&(o.props.onStart(),o.startOnPlay=!1),o.props.onPlay(),o.setVolume(o.props.volume),o.seekOnPlay&&(o.seekTo(o.seekOnPlay),o.seekOnPlay=null),o.durationOnPlay&&(o.props.onDuration(o.getDuration()),o.durationOnPlay=!1)},o.onReady=function(){o.isReady=!0,(o.props.playing||o.preloading)&&(o.preloading=!1,o.loadOnReady?(o.load(o.loadOnReady),o.loadOnReady=null):o.play());var e=o.getDuration();e?o.props.onDuration(e):o.durationOnPlay=!0},o.onEnded=function(){o.props.loop&&o.seekTo(0),o.props.onEnded()},a=n,i(o,a)}return o(t,e),a(t,[{key:"componentDidMount",value:function(){this.props.url&&this.load(this.props.url)}},{key:"componentWillUnmount",value:function(){this.stop()}},{key:"componentWillReceiveProps",value:function(e){this.props.url!==e.url&&e.url?(this.seekOnPlay=null,this.startOnPlay=!0,this.load(e.url)):this.props.url&&!e.url?(this.stop(),clearTimeout(this.updateTimeout)):!this.props.playing&&e.playing?this.play():this.props.playing&&!e.playing?this.pause():this.props.volume!==e.volume&&this.setVolume(e.volume)}},{key:"shouldComponentUpdate",value:function(e){return this.props.url!==e.url}},{key:"seekTo",value:function(e){var t=this;this.isReady||0===e||(this.seekOnPlay=e,setTimeout(function(){t.seekOnPlay=null},c))}}]),t}(s.Component);l.propTypes=u.propTypes,l.defaultProps=u.defaultProps,t["default"]=l,e.exports=t["default"]},function(e,t,n){"use strict";function r(){this._callbacks=null,this._contexts=null}var i=n(21),o=n(2),a=n(1);o(r.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?a(!1):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),i.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e){return l.hasOwnProperty(e)?!0:c.hasOwnProperty(e)?!1:u.test(e)?(l[e]=!0,!0):(c[e]=!0,!1)}function i(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&1>t||e.hasOverloadedBooleanValue&&t===!1}var o=n(29),a=n(10),s=n(346),u=(n(3),/^[a-zA-Z_][\w\.\-]*$/),c={},l={},h={createMarkupForID:function(e){return o.ID_ATTRIBUTE_NAME+"="+s(e)},setAttributeForID:function(e,t){e.setAttribute(o.ID_ATTRIBUTE_NAME,t)},createMarkupForProperty:function(e,t){var n=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(n){if(i(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?r+'=""':r+"="+s(t)}return o.isCustomAttribute(e)?null==t?"":e+"="+s(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+s(t):""},setValueForProperty:function(e,t,n){var r=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(r){var a=r.mutationMethod;if(a)a(e,n);else if(i(r,n))this.deleteValueForProperty(e,t);else if(r.mustUseAttribute){var s=r.attributeName,u=r.attributeNamespace;u?e.setAttributeNS(u,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?e.setAttribute(s,""):e.setAttribute(s,""+n)}else{var c=r.propertyName;r.hasSideEffects&&""+e[c]==""+n||(e[c]=n)}}else o.isCustomAttribute(t)&&h.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){r(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForProperty:function(e,t){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseAttribute)e.removeAttribute(n.attributeName);else{var i=n.propertyName,a=o.getDefaultValueForProperty(e.nodeName,i);n.hasSideEffects&&""+e[i]===a||(e[i]=a)}}else o.isCustomAttribute(t)&&e.removeAttribute(t)}};a.measureMethods(h,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),e.exports=h},function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink?c(!1):void 0}function i(e){r(e),null!=e.value||null!=e.onChange?c(!1):void 0}function o(e){r(e),null!=e.checked||null!=e.onChange?c(!1):void 0}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=n(132),u=n(51),c=n(1),l=(n(3),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),h={value:function(e,t,n){return!e[t]||l[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:s.func},f={},p={checkPropTypes:function(e,t,n){for(var r in h){if(h.hasOwnProperty(r))var i=h[r](t,r,e,u.prop);if(i instanceof Error&&!(i.message in f)){f[i.message]=!0;a(n)}}},getValue:function(e){return e.valueLink?(i(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(o(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(i(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(o(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=p},function(e,t,n){"use strict";var r=n(75),i=n(6),o={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:r.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){i.purgeID(e)}};e.exports=o},function(e,t,n){"use strict";var r=n(1),i=!1,o={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){i?r(!1):void 0,o.unmountIDFromEnvironment=e.unmountIDFromEnvironment,o.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,o.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};e.exports=o},function(e,t,n){"use strict";var r=n(112),i=n(71),o=n(6),a=n(10),s=n(1),u={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},c={updatePropertyByID:function(e,t,n){var r=o.getNode(e);u.hasOwnProperty(t)?s(!1):void 0,null!=n?i.setValueForProperty(r,t,n):i.deleteValueForProperty(r,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var n=o.getNode(e);r.dangerouslyReplaceNodeWithMarkup(n,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var n=0;n<e.length;n++)e[n].parentNode=o.getNode(e[n].parentID);r.processUpdates(e,t)}};a.measureMethods(c,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),e.exports=c},function(e,t,n){"use strict";function r(e){s.enqueueUpdate(e)}function i(e,t){var n=a.get(e);return n?n:null}var o=(n(18),n(8)),a=n(37),s=n(11),u=n(2),c=n(1),l=(n(3),{isMounted:function(e){var t=a.get(e);return t?!!t._renderedComponent:!1},enqueueCallback:function(e,t){"function"!=typeof t?c(!1):void 0;var n=i(e);return n?(n._pendingCallbacks?n._pendingCallbacks.push(t):n._pendingCallbacks=[t],void r(n)):null},enqueueCallbackInternal:function(e,t){"function"!=typeof t?c(!1):void 0,e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=i(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=i(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=i(e,"setState");if(n){var o=n._pendingStateQueue||(n._pendingStateQueue=[]);o.push(t),r(n)}},enqueueSetProps:function(e,t){var n=i(e,"setProps");n&&l.enqueueSetPropsInternal(n,t)},enqueueSetPropsInternal:function(e,t){var n=e._topLevelWrapper;n?void 0:c(!1);var i=n._pendingElement||n._currentElement,a=i.props,s=u({},a.props,t);n._pendingElement=o.cloneAndReplaceProps(i,o.cloneAndReplaceProps(a,s)),r(n)},enqueueReplaceProps:function(e,t){var n=i(e,"replaceProps");n&&l.enqueueReplacePropsInternal(n,t)},enqueueReplacePropsInternal:function(e,t){var n=e._topLevelWrapper;n?void 0:c(!1);var i=n._pendingElement||n._currentElement,a=i.props;n._pendingElement=o.cloneAndReplaceProps(i,o.cloneAndReplaceProps(a,t)),r(n)},enqueueElementInternal:function(e,t){e._pendingElement=t,r(e)}});e.exports=l},function(e,t){"use strict";e.exports="0.14.8"},function(e,t,n){"use strict";function r(e){return null==e?null:1===e.nodeType?e:i.has(e)?o.getNodeFromInstance(e):(null!=e.render&&"function"==typeof e.render?a(!1):void 0,void a(!1))}var i=(n(18),n(37)),o=n(6),a=n(1);n(3);e.exports=r},function(e,t){"use strict";function n(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}e.exports=n},function(e,t){"use strict";function n(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=i[e];return r?!!n[r]:!1}function r(e){return n}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=r},function(e,t){"use strict";function n(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}e.exports=n},function(e,t){"use strict";function n(e){var t=e&&(r&&e[r]||e[i]);return"function"==typeof t?t:void 0}var r="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";e.exports=n},function(e,t,n){"use strict";function r(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function i(e){var t;if(null===e||e===!1)t=new a(i);else if("object"==typeof e){var n=e;!n||"function"!=typeof n.type&&"string"!=typeof n.type?c(!1):void 0,t="string"==typeof n.type?s.createInternalComponent(n):r(n.type)?new n.type(n):new l}else"string"==typeof e||"number"==typeof e?t=s.createInstanceForText(e):c(!1);return t.construct(e),t._mountIndex=0,t._mountImage=null,t}var o=n(307),a=n(124),s=n(130),u=n(2),c=n(1),l=(n(3),function(){});u(l.prototype,o.Mixin,{_instantiateReactComponent:i}),e.exports=i},function(e,t,n){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function r(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&i&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,o=n(5);o.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=r},function(e,t,n){"use strict";var r=n(5),i=n(55),o=n(56),a=function(e,t){e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){o(e,i(t))})),e.exports=a},function(e,t){"use strict";function n(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var i=typeof e,o=typeof t;return"string"===i||"number"===i?"string"===o||"number"===o:"object"===o&&e.type===t.type&&e.key===t.key}e.exports=n},function(e,t,n){"use strict";function r(e){return v[e]}function i(e,t){return e&&null!=e.key?a(e.key):t.toString(36)}function o(e){return(""+e).replace(m,r)}function a(e){return"$"+o(e)}function s(e,t,n,r){var o=typeof e;if("undefined"!==o&&"boolean"!==o||(e=null),null===e||"string"===o||"number"===o||c.isValidElement(e))return n(r,e,""===t?p+i(e,0):t),1;var u,l,v=0,m=""===t?p:t+d;if(Array.isArray(e))for(var g=0;g<e.length;g++)u=e[g],l=m+i(u,g),v+=s(u,l,n,r);else{var y=h(e);if(y){var b,w=y.call(e);if(y!==e.entries)for(var x=0;!(b=w.next()).done;)u=b.value,l=m+i(u,x++),v+=s(u,l,n,r);else for(;!(b=w.next()).done;){var _=b.value;_&&(u=_[1],l=m+a(_[0])+d+i(u,0),v+=s(u,l,n,r))}}else if("object"===o){String(e);f(!1)}}return v}function u(e,t,n){return null==e?0:s(e,"",t,n)}var c=(n(18),n(8)),l=n(30),h=n(82),f=n(1),p=(n(3),l.SEPARATOR),d=":",v={"=":"=0",".":"=1",":":"=2"},m=/[=.:]/g;e.exports=u},function(e,t,n){"use strict";var r=(n(2),n(13)),i=(n(3),r);e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var i=n(149),o=r(i),a=n(378),s=r(a),u=n(377),c=r(u),l=n(376),h=r(l),f=n(148),p=r(f),d=n(150);r(d);t.createStore=o["default"],t.combineReducers=s["default"],t.bindActionCreators=c["default"],t.applyMiddleware=h["default"],t.compose=p["default"]},function(e,t,n){"use strict";function r(e){return e}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t){function n(){c&&a&&(c=!1,a.length?u=a.concat(u):l=-1,u.length&&r())}function r(){if(!c){var e=setTimeout(n);c=!0;for(var t=u.length;t;){for(a=u,u=[];++l<t;)a&&a[l].run();l=-1,t=u.length}a=null,c=!1,clearTimeout(e)}}function i(e,t){this.fun=e,this.array=t}function o(){}var a,s=e.exports={},u=[],c=!1,l=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new i(e,t)),1!==u.length||c||setTimeout(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=o,s.addListener=o,s.once=o,s.off=o,s.removeListener=o,s.removeAllListeners=o,s.emit=o,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,n){(function(e,r){function i(e,t){this._id=e,this._clearFn=t}var o=n(91).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,u={},c=0;t.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=c++,r=arguments.length<2?!1:s.call(arguments,1);return u[n]=!0,o(function(){u[n]&&(r?e.apply(null,r):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof r?r:function(e){delete u[e]}}).call(t,n(92).setImmediate,n(92).clearImmediate)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.firebaseBindings=void 0;var i=n(89),o=n(48),a=r(o),s=n(9),u=n(170),c=r(u),l=n(167),h=r(l),f=n(168),p=r(f),d=n(169),v=r(d),m=a["default"].parse(location.search).room||"default",g=t.firebaseBindings={nowPlaying:{path:"rooms/"+m+"/nowPlaying"},playlist:{type:"Array",path:"rooms/"+m+"/playlist"},serverOffset:{path:".info/serverTimeOffset"},viewers:{type:"Array",path:"rooms/"+m+"/viewers",populate:function(e){return"users/"+e}},voters:{type:"Array",path:"rooms/"+m+"/voters"},blocked:{type:"Array",path:"rooms/"+m+"/blocked"},userSettings:{type:"Object",path:function(e){return e.authenticatedUser?"userSettings/"+e.authenticatedUser.uid:null}},requestsLocked:{path:"rooms/"+m+"/requestsLocked"}},y=(0,i.combineReducers)({altspaceVolume:p["default"],authenticatedUser:h["default"],videoSearch:c["default"],page:v["default"],firebase:(0,s.firebaseReducer)(g)});t["default"]=y},function(e,t,n){function r(e,t,n){var r=s(e)?i:a;return t=o(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}var i=n(190),o=n(34),a=n(193),s=n(12);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}e.exports=n},function(e,t,n){function r(e,t,n,c){c||(c=[]);for(var l=-1,h=e.length;++l<h;){var f=e[l];u(f)&&s(f)&&(n||a(f)||o(f))?t?r(f,t,n,c):i(c,f):n||(c[c.length]=f)}return c}var i=n(191),o=n(47),a=n(12),s=n(19),u=n(20);e.exports=r},function(e,t,n){var r=n(206),i=r();e.exports=i},function(e,t,n){function r(e,t){return i(e,t,o)}var i=n(97),o=n(68);e.exports=r},function(e,t,n){function r(e,t){return i(e,t,o)}var i=n(97),o=n(67);e.exports=r},function(e,t,n){function r(e,t,n){if(null!=e){void 0!==n&&n in i(e)&&(t=[n]);for(var r=0,o=t.length;null!=e&&o>r;)e=e[t[r++]];return r&&r==o?e:void 0}}var i=n(15);e.exports=r},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){var r=n(101),i=r("length");e.exports=i},function(e,t,n){function r(e,t){var n=typeof e;if("string"==n&&s.test(e)||"number"==n)return!0;if(i(e))return!1;var r=!a.test(e);return r||null!=t&&e in o(t)}var i=n(12),o=n(15),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=r},function(e,t,n){function r(e){return e===e&&!i(e)}var i=n(16);e.exports=r},function(e,t,n){function r(e){if(o(e))return e;var t=[];return i(e).replace(a,function(e,n,r,i){t.push(r?i.replace(s,"$1"):n||e)}),t}var i=n(202),o=n(12),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,s=/\\(\\)?/g;e.exports=r},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function g(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:g(i,t,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=n(4),h=r(l),f=n(69),p=r(f),d=/\.(mp4|og[gv]|webm|mov|m4v)($|\?)/i,v=/\.(mp3|wav|m4a)($|\?)/i,m=function(e){function t(){return i(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;this.player=this.refs.player,this.player.oncanplay=this.onReady,this.player.onplay=this.onPlay,this.player.onpause=function(){return e.props.onPause()},this.player.onended=function(){return e.onEnded()},this.player.onerror=function(t){return e.props.onError(t)},this.player.setAttribute("webkit-playsinline",""),c(Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this)}},{key:"load",value:function(e){this.player.src=e}},{key:"play",value:function(){this.player.play()}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src")}},{key:"seekTo",value:function(e){c(Object.getPrototypeOf(t.prototype),"seekTo",this).call(this,e),this.player.currentTime=this.getDuration()*e}},{key:"setVolume",value:function(e){this.player.volume=e}},{key:"getDuration",value:function(){return this.isReady?this.player.duration:null}},{key:"getFractionPlayed",value:function(){return this.isReady?this.player.currentTime/this.getDuration():null}},{key:"getFractionLoaded",value:function(){return this.isReady&&0!==this.player.buffered.length?this.player.buffered.end(0)/this.getDuration():null}},{key:"render",value:function(){var e=this.props,t=e.controls,n=e.fileConfig,r=v.test(this.props.url)?"audio":"video",i={width:"100%",height:"100%",display:this.props.url?"block":"none"};return h["default"].createElement(r,s({ref:"player",style:i,preload:"auto",controls:t},n.attributes))}}],[{key:"canPlay",value:function(e){return d.test(e)||v.test(e)}}]),t}(p["default"]);m.displayName="FilePlayer",t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultProps=t.propTypes=void 0;var r=n(4);t.propTypes={url:r.PropTypes.string,playing:r.PropTypes.bool,loop:r.PropTypes.bool,controls:r.PropTypes.bool,volume:r.PropTypes.number,width:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.number]),height:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.number]),className:r.PropTypes.string,progressFrequency:r.PropTypes.number,soundcloudConfig:r.PropTypes.shape({clientId:r.PropTypes.string}),youtubeConfig:r.PropTypes.shape({playerVars:r.PropTypes.object,preload:r.PropTypes.bool}),vimeoConfig:r.PropTypes.shape({iframeParams:r.PropTypes.object,preload:r.PropTypes.bool}),fileConfig:r.PropTypes.shape({attributes:r.PropTypes.object}),onStart:r.PropTypes.func,onPlay:r.PropTypes.func,onPause:r.PropTypes.func,onBuffer:r.PropTypes.func,onEnded:r.PropTypes.func,onError:r.PropTypes.func,onDuration:r.PropTypes.func,onProgress:r.PropTypes.func},t.defaultProps={playing:!1,loop:!1,controls:!1,volume:.8,width:640,height:360,progressFrequency:1e3,soundcloudConfig:{clientId:"e8b6f84fbcad14c301ca1355cae1dea2"},youtubeConfig:{playerVars:{},preload:!1},vimeoConfig:{iframeParams:{},preload:!1},fileConfig:{attributes:{}},onStart:function(){},onPlay:function(){},onPause:function(){},onBuffer:function(){},onEnded:function(){},onError:function(){},onDuration:function(){},onProgress:function(){}}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(4);t["default"]=r.PropTypes.shape({subscribe:r.PropTypes.func.isRequired,dispatch:r.PropTypes.func.isRequired,getState:r.PropTypes.func.isRequired})},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t["default"]=n},function(e,t){"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var r={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(e){i.forEach(function(t){r[n(t,e)]=r[e]})});var o={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},a={isUnitlessNumber:r,shorthandPropertyExpansions:o};e.exports=a},function(e,t,n){"use strict";function r(e,t,n){var r=n>=e.childNodes.length?null:e.childNodes.item(n);e.insertBefore(t,r)}var i=n(298),o=n(129),a=n(10),s=n(56),u=n(85),c=n(1),l={dangerouslyReplaceNodeWithMarkup:i.dangerouslyReplaceNodeWithMarkup,updateTextContent:u,processUpdates:function(e,t){for(var n,a=null,l=null,h=0;h<e.length;h++)if(n=e[h],n.type===o.MOVE_EXISTING||n.type===o.REMOVE_NODE){var f=n.fromIndex,p=n.parentNode.childNodes[f],d=n.parentID;p?void 0:c(!1),a=a||{},a[d]=a[d]||[],a[d][f]=p,l=l||[],l.push(p)}var v;if(v=t.length&&"string"==typeof t[0]?i.dangerouslyRenderMarkup(t):t,l)for(var m=0;m<l.length;m++)l[m].parentNode.removeChild(l[m]);for(var g=0;g<e.length;g++)switch(n=e[g],n.type){case o.INSERT_MARKUP:r(n.parentNode,v[n.markupIndex],n.toIndex);break;case o.MOVE_EXISTING:r(n.parentNode,a[n.parentID][n.fromIndex],n.toIndex);break;case o.SET_MARKUP:s(n.parentNode,n.content);break;case o.TEXT_CONTENT:u(n.parentNode,n.content);break;case o.REMOVE_NODE:}}};a.measureMethods(l,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),e.exports=l},function(e,t,n){"use strict";function r(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);if(n>-1?void 0:a(!1),!c.plugins[n]){t.extractEvents?void 0:a(!1),c.plugins[n]=t;var r=t.eventTypes;for(var o in r)i(r[o],t,o)?void 0:a(!1)}}}function i(e,t,n){c.eventNameDispatchConfigs.hasOwnProperty(n)?a(!1):void 0,c.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];o(s,t,n)}return!0}return e.registrationName?(o(e.registrationName,t,n),!0):!1}function o(e,t,n){c.registrationNameModules[e]?a(!1):void 0,c.registrationNameModules[e]=t,c.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=n(1),s=null,u={},c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){s?a(!1):void 0,s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];u.hasOwnProperty(n)&&u[n]===i||(u[n]?a(!1):void 0,u[n]=i,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return c.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=c.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){s=null;for(var e in u)u.hasOwnProperty(e)&&delete u[e];c.plugins.length=0;var t=c.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=c.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};e.exports=c},function(e,t,n){"use strict";function r(e){return(""+e).replace(w,"//")}function i(e,t){this.func=e,this.context=t,this.count=0}function o(e,t,n){var r=e.func,i=e.context;r.call(i,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=i.getPooled(t,n);g(e,o,r),i.release(r)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function u(e,t,n){var i=e.result,o=e.keyPrefix,a=e.func,s=e.context,u=a.call(s,t,e.count++);Array.isArray(u)?c(u,i,n,m.thatReturnsArgument):null!=u&&(v.isValidElement(u)&&(u=v.cloneAndReplaceKey(u,o+(u!==t?r(u.key||"")+"/":"")+n)),i.push(u))}function c(e,t,n,i,o){var a="";null!=n&&(a=r(n)+"/");var c=s.getPooled(t,a,i,o);g(e,u,c),s.release(c)}function l(e,t,n){if(null==e)return e;var r=[];return c(e,r,null,t,n),r}function h(e,t,n){return null}function f(e,t){return g(e,h,null)}function p(e){var t=[];return c(e,t,null,m.thatReturnsArgument),t}var d=n(21),v=n(8),m=n(13),g=n(87),y=d.twoArgumentPooler,b=d.fourArgumentPooler,w=/\/(?!\/)/g;i.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},d.addPoolingTo(i,y),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},d.addPoolingTo(s,b);var x={forEach:a,map:l,mapIntoWithKeyPrefixInternal:c,count:f,toArray:p};e.exports=x},function(e,t,n){"use strict";function r(e,t){var n=_.hasOwnProperty(t)?_[t]:null;S.hasOwnProperty(t)&&(n!==w.OVERRIDE_BASE?m(!1):void 0),e.hasOwnProperty(t)&&(n!==w.DEFINE_MANY&&n!==w.DEFINE_MANY_MERGED?m(!1):void 0)}function i(e,t){if(t){"function"==typeof t?m(!1):void 0,f.isValidElement(t)?m(!1):void 0;var n=e.prototype;t.hasOwnProperty(b)&&E.mixins(e,t.mixins);for(var i in t)if(t.hasOwnProperty(i)&&i!==b){var o=t[i];if(r(n,i),E.hasOwnProperty(i))E[i](e,o);else{var a=_.hasOwnProperty(i),c=n.hasOwnProperty(i),l="function"==typeof o,h=l&&!a&&!c&&t.autobind!==!1;if(h)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[i]=o,n[i]=o;else if(c){var p=_[i];!a||p!==w.DEFINE_MANY_MERGED&&p!==w.DEFINE_MANY?m(!1):void 0,p===w.DEFINE_MANY_MERGED?n[i]=s(n[i],o):p===w.DEFINE_MANY&&(n[i]=u(n[i],o))}else n[i]=o}}}}function o(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in E;i?m(!1):void 0;var o=n in e;o?m(!1):void 0,e[n]=r}}}function a(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:m(!1);for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?m(!1):void 0,e[n]=t[n]);return e}function s(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return a(i,n),a(i,r),i}}function u(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function c(e,t){var n=t.bind(e);return n}function l(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var n=e.__reactAutoBindMap[t];e[t]=c(e,n)}}var h=n(116),f=n(8),p=(n(51),n(50),n(131)),d=n(2),v=n(39),m=n(1),g=n(57),y=n(22),b=(n(3),y({mixins:null})),w=g({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),x=[],_={mixins:w.DEFINE_MANY,statics:w.DEFINE_MANY,propTypes:w.DEFINE_MANY,contextTypes:w.DEFINE_MANY,childContextTypes:w.DEFINE_MANY,getDefaultProps:w.DEFINE_MANY_MERGED,getInitialState:w.DEFINE_MANY_MERGED,getChildContext:w.DEFINE_MANY_MERGED,render:w.DEFINE_ONCE,componentWillMount:w.DEFINE_MANY,componentDidMount:w.DEFINE_MANY,componentWillReceiveProps:w.DEFINE_MANY,shouldComponentUpdate:w.DEFINE_ONCE,componentWillUpdate:w.DEFINE_MANY,componentDidUpdate:w.DEFINE_MANY,componentWillUnmount:w.DEFINE_MANY,updateComponent:w.OVERRIDE_BASE},E={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)i(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=d({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=d({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=s(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=d({},e.propTypes,t)},statics:function(e,t){o(e,t)},autobind:function(){}},S={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(e,t){this.updater.enqueueSetProps(this,e),t&&this.updater.enqueueCallback(this,t)},replaceProps:function(e,t){this.updater.enqueueReplaceProps(this,e),t&&this.updater.enqueueCallback(this,t)}},M=function(){};d(M.prototype,h.prototype,S);var T={createClass:function(e){var t=function(e,t,n){this.__reactAutoBindMap&&l(this),this.props=e,this.context=t,this.refs=v,this.updater=n||p,this.state=null;var r=this.getInitialState?this.getInitialState():null;"object"!=typeof r||Array.isArray(r)?m(!1):void 0,this.state=r};t.prototype=new M,t.prototype.constructor=t,x.forEach(i.bind(null,t)),i(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:m(!1);for(var n in _)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){x.push(e)}}};e.exports=T},function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||i}var i=n(131),o=(n(54),n(39)),a=n(1);n(3);r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?a(!1):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t)},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e)};e.exports=r},function(e,t,n){"use strict";var r=n(18),i=n(120),o=n(122),a=n(30),s=n(6),u=n(10),c=n(25),l=n(11),h=n(77),f=n(78),p=n(347);n(3);o.inject();var d=u.measure("React","render",s.render),v={findDOMNode:f,render:d,unmountComponentAtNode:s.unmountComponentAtNode,version:h,unstable_batchedUpdates:l.batchedUpdates,unstable_renderSubtreeIntoContainer:p};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:r,InstanceHandles:a,Mount:s,Reconciler:c,TextComponent:i});e.exports=v},function(e,t){"use strict";var n={useCreateElement:!1};e.exports=n},function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=a.getValue(e);null!=t&&i(this,Boolean(e.multiple),t)}}function i(e,t,n){var r,i,o=s.getNode(e._rootNodeID).options;if(t){for(r={},i=0;i<n.length;i++)r[""+n[i]]=!0;for(i=0;i<o.length;i++){var a=r.hasOwnProperty(o[i].value);o[i].selected!==a&&(o[i].selected=a)}}else{for(r=""+n,i=0;i<o.length;i++)if(o[i].value===r)return void(o[i].selected=!0);o.length&&(o[0].selected=!0)}}function o(e){var t=this._currentElement.props,n=a.executeOnChange(t,e);return this._wrapperState.pendingUpdate=!0,u.asap(r,this),n}var a=n(72),s=n(6),u=n(11),c=n(2),l=(n(3),"__ReactDOMSelect_value$"+Math.random().toString(36).slice(2)),h={valueContextKey:l,getNativeProps:function(e,t,n){return c({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=a.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,onChange:o.bind(e),wasMultiple:Boolean(t.multiple)}},processChildContext:function(e,t,n){var r=c({},n);return r[l]=e._wrapperState.initialValue,r},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=a.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,i(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?i(e,Boolean(t.multiple),t.defaultValue):i(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=h},function(e,t,n){"use strict";var r=n(112),i=n(71),o=n(73),a=n(6),s=n(2),u=n(55),c=n(85),l=(n(88),function(e){});s(l.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,t,n){if(this._rootNodeID=e,t.useCreateElement){var r=n[a.ownerDocumentContextKey],o=r.createElement("span");return i.setAttributeForID(o,e),a.getID(o),c(o,this._stringText),o}var s=u(this._stringText);return t.renderToStaticMarkup?s:"<span "+i.createMarkupForID(e)+">"+s+"</span>"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var i=a.getNode(this._rootNodeID);r.updateTextContent(i,n)}}},unmountComponent:function(){o.unmountIDFromEnvironment(this._rootNodeID)}}),e.exports=l},function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var i=n(11),o=n(53),a=n(2),s=n(13),u={initialize:s,close:function(){f.isBatchingUpdates=!1}},c={initialize:s,close:i.flushBatchedUpdates.bind(i)},l=[c,u];a(r.prototype,o.Mixin,{getTransactionWrappers:function(){return l}});var h=new r,f={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,i,o){var a=f.isBatchingUpdates;f.isBatchingUpdates=!0,a?e(t,n,r,i,o):h.perform(e,null,t,n,r,i,o)}};e.exports=f},function(e,t,n){"use strict";function r(){if(!M){M=!0,g.EventEmitter.injectReactEventListener(m),g.EventPluginHub.injectEventPluginOrder(s),g.EventPluginHub.injectInstanceHandle(y),g.EventPluginHub.injectMount(b),g.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:E,EnterLeaveEventPlugin:u,ChangeEventPlugin:o,SelectEventPlugin:x,BeforeInputEventPlugin:i}),g.NativeComponent.injectGenericComponentClass(d),g.NativeComponent.injectTextComponentClass(v),g.Class.injectMixin(h),g.DOMProperty.injectDOMPropertyConfig(l),g.DOMProperty.injectDOMPropertyConfig(S),g.EmptyComponent.injectEmptyComponent("noscript"),g.Updates.injectReconcileTransaction(w),g.Updates.injectBatchingStrategy(p),g.RootIndex.injectCreateReactRootIndex(c.canUseDOM?a.createReactRootIndex:_.createReactRootIndex),g.Component.injectEnvironment(f)}}var i=n(294),o=n(296),a=n(297),s=n(299),u=n(300),c=n(5),l=n(303),h=n(305),f=n(73),p=n(121),d=n(309),v=n(120),m=n(317),g=n(318),y=n(30),b=n(6),w=n(322),x=n(328),_=n(329),E=n(330),S=n(327),M=!1;e.exports={inject:r}},function(e,t,n){"use strict";function r(){if(h.current){var e=h.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function i(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;o("uniqueKey",e,t)}}function o(e,t,n){var i=r();if(!i){var o="string"==typeof n?n:n.displayName||n.name;o&&(i=" Check the top-level render call using <"+o+">.")}var a=d[e]||(d[e]={});if(a[i])return null;a[i]=!0;var s={parentOrOwner:i,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return t&&t._owner&&t._owner!==h.current&&(s.childOwner=" It was passed a child from "+t._owner.getName()+"."),s}function a(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];c.isValidElement(r)&&i(r,t)}else if(c.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var o=f(e);if(o&&o!==e.entries)for(var a,s=o.call(e);!(a=s.next()).done;)c.isValidElement(a.value)&&i(a.value,t)}}function s(e,t,n,i){for(var o in t)if(t.hasOwnProperty(o)){var a;try{"function"!=typeof t[o]?p(!1):void 0,a=t[o](n,o,e,i)}catch(s){a=s}if(a instanceof Error&&!(a.message in v)){v[a.message]=!0;r()}}}function u(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name;t.propTypes&&s(n,t.propTypes,e.props,l.prop),"function"==typeof t.getDefaultProps}}var c=n(8),l=n(51),h=(n(50),n(18)),f=(n(54),n(82)),p=n(1),d=(n(3),{}),v={},m={createElement:function(e,t,n){var r="string"==typeof e||"function"==typeof e,i=c.createElement.apply(this,arguments);if(null==i)return i;if(r)for(var o=2;o<arguments.length;o++)a(arguments[o],e);return u(i),i},createFactory:function(e){var t=m.createElement.bind(null,e);return t.type=e,t},cloneElement:function(e,t,n){for(var r=c.cloneElement.apply(this,arguments),i=2;i<arguments.length;i++)a(arguments[i],r.type);return u(r),r}};e.exports=m},function(e,t,n){"use strict";function r(){a.registerNullComponentID(this._rootNodeID)}var i,o=n(8),a=n(125),s=n(25),u=n(2),c={injectEmptyComponent:function(e){i=o.createElement(e)}},l=function(e){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=e(i)};u(l.prototype,{construct:function(e){},mountComponent:function(e,t,n){return t.getReactMountReady().enqueue(r,this),this._rootNodeID=e,s.mountComponent(this._renderedComponent,e,t,n)},receiveComponent:function(){},unmountComponent:function(e,t,n){s.unmountComponent(this._renderedComponent),a.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),l.injection=c,e.exports=l},function(e,t){"use strict";function n(e){return!!o[e]}function r(e){o[e]=!0}function i(e){delete o[e]}var o={},a={isNullComponentID:n,registerNullComponentID:r,deregisterNullComponentID:i};e.exports=a},function(e,t,n){"use strict";function r(e,t,n,r){try{return t(n,r)}catch(o){return void(null===i&&(i=o))}}var i=null,o={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(i){var e=i;throw i=null,e}}};e.exports=o},function(e,t,n){"use strict";function r(e){return o(document.documentElement,e)}var i=n(313),o=n(140),a=n(141),s=n(142),u={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:u.hasSelectionCapabilities(e)?u.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,i=e.selectionRange;t!==n&&r(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,i),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=i.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if("undefined"==typeof r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",r-n),o.select()}else i.setOffsets(e,t)}};e.exports=u},function(e,t,n){"use strict";var r=n(339),i=/\/?>/,o={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return e.replace(i," "+o.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(o.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var i=r(e);return i===n}};e.exports=o},function(e,t,n){"use strict";var r=n(57),i=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});e.exports=i},function(e,t,n){"use strict";function r(e){if("function"==typeof e.type)return e.type;var t=e.type,n=h[t];return null==n&&(h[t]=n=c(t)),n}function i(e){return l?void 0:u(!1),new l(e.type,e.props)}function o(e){return new f(e)}function a(e){return e instanceof f}var s=n(2),u=n(1),c=null,l=null,h={},f=null,p={injectGenericComponentClass:function(e){l=e},injectTextComponentClass:function(e){f=e},injectComponentClasses:function(e){s(h,e)}},d={getComponentClassForElement:r,createInternalComponent:i,createInstanceForText:o,isTextComponent:a,injection:p};e.exports=d},function(e,t,n){"use strict";function r(e,t){}var i=(n(3),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState");
},enqueueSetProps:function(e,t){r(e,"setProps")},enqueueReplaceProps:function(e,t){r(e,"replaceProps")}});e.exports=i},function(e,t,n){"use strict";function r(e){function t(t,n,r,i,o,a){if(i=i||_,a=a||r,null==n[r]){var s=b[o];return t?new Error("Required "+s+" `"+a+"` was not specified in "+("`"+i+"`.")):null}return e(n,r,i,o,a)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function i(e){function t(t,n,r,i,o){var a=t[n],s=v(a);if(s!==e){var u=b[i],c=m(a);return new Error("Invalid "+u+" `"+o+"` of type "+("`"+c+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return r(t)}function o(){return r(w.thatReturns(null))}function a(e){function t(t,n,r,i,o){var a=t[n];if(!Array.isArray(a)){var s=b[i],u=v(a);return new Error("Invalid "+s+" `"+o+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an array."))}for(var c=0;c<a.length;c++){var l=e(a,c,r,i,o+"["+c+"]");if(l instanceof Error)return l}return null}return r(t)}function s(){function e(e,t,n,r,i){if(!y.isValidElement(e[t])){var o=b[r];return new Error("Invalid "+o+" `"+i+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return r(e)}function u(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var a=b[i],s=e.name||_,u=g(t[n]);return new Error("Invalid "+a+" `"+o+"` of type "+("`"+u+"` supplied to `"+r+"`, expected ")+("instance of `"+s+"`."))}return null}return r(t)}function c(e){function t(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(a===e[s])return null;var u=b[i],c=JSON.stringify(e);return new Error("Invalid "+u+" `"+o+"` of value `"+a+"` "+("supplied to `"+r+"`, expected one of "+c+"."))}return r(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function l(e){function t(t,n,r,i,o){var a=t[n],s=v(a);if("object"!==s){var u=b[i];return new Error("Invalid "+u+" `"+o+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an object."))}for(var c in a)if(a.hasOwnProperty(c)){var l=e(a,c,r,i,o+"."+c);if(l instanceof Error)return l}return null}return r(t)}function h(e){function t(t,n,r,i,o){for(var a=0;a<e.length;a++){var s=e[a];if(null==s(t,n,r,i,o))return null}var u=b[i];return new Error("Invalid "+u+" `"+o+"` supplied to "+("`"+r+"`."))}return r(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function f(){function e(e,t,n,r,i){if(!d(e[t])){var o=b[r];return new Error("Invalid "+o+" `"+i+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return r(e)}function p(e){function t(t,n,r,i,o){var a=t[n],s=v(a);if("object"!==s){var u=b[i];return new Error("Invalid "+u+" `"+o+"` of type `"+s+"` "+("supplied to `"+r+"`, expected `object`."))}for(var c in e){var l=e[c];if(l){var h=l(a,c,r,i,o+"."+c);if(h)return h}}return null}return r(t)}function d(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(d);if(null===e||y.isValidElement(e))return!0;var t=x(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!d(n.value))return!1}else for(;!(n=r.next()).done;){var i=n.value;if(i&&!d(i[1]))return!1}return!0;default:return!1}}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function m(e){var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function g(e){return e.constructor&&e.constructor.name?e.constructor.name:"<<anonymous>>"}var y=n(8),b=n(50),w=n(13),x=n(82),_="<<anonymous>>",E={array:i("array"),bool:i("boolean"),func:i("function"),number:i("number"),object:i("object"),string:i("string"),any:o(),arrayOf:a,element:s(),instanceOf:u,node:f(),objectOf:l,oneOf:c,oneOfType:h,shape:p};e.exports=E},function(e,t){"use strict";var n={injectCreateReactRootIndex:function(e){r.createReactRootIndex=e}},r={createReactRootIndex:null,injection:n};e.exports=r},function(e,t){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};e.exports=n},function(e,t,n){"use strict";function r(e,t){if(null==t?i(!1):void 0,null==e)return t;var n=Array.isArray(e),r=Array.isArray(t);return n&&r?(e.push.apply(e,t),e):n?(e.push(t),e):r?[e].concat(t):[e,t]}var i=n(1);e.exports=r},function(e,t){"use strict";var n=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};e.exports=n},function(e,t,n){"use strict";function r(){return!o&&i.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var i=n(5),o=null;e.exports=r},function(e,t){"use strict";function n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&r[e.type]||"textarea"===t)}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=n},function(e,t,n){"use strict";var r=n(13),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=i},function(e,t,n){"use strict";function r(e,t){var n=!0;e:for(;n;){var r=e,o=t;if(n=!1,r&&o){if(r===o)return!0;if(i(r))return!1;if(i(o)){e=r,t=o.parentNode,n=!0;continue e}return r.contains?r.contains(o):r.compareDocumentPosition?!!(16&r.compareDocumentPosition(o)):!1}return!1}}var i=n(356);e.exports=r},function(e,t){"use strict";function n(e){try{e.focus()}catch(t){}}e.exports=n},function(e,t){"use strict";function n(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}e.exports=n},function(e,t,n){"use strict";function r(e){return a?void 0:o(!1),f.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?a.innerHTML="<link />":a.innerHTML="<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?f[e]:null}var i=n(5),o=n(1),a=i.canUseDOM?document.createElement("div"):null,s={},u=[1,'<select multiple="true">',"</select>"],c=[1,"<table>","</table>"],l=[3,"<table><tbody><tr>","</tr></tbody></table>"],h=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],f={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:c,colgroup:c,tbody:c,tfoot:c,thead:c,td:l,th:l},p=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];p.forEach(function(e){f[e]=h,s[e]=!0}),e.exports=r},function(e,t){"use strict";function n(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var o=r.bind(t),a=0;a<n.length;a++)if(!o(n[a])||e[n[a]]!==t[n[a]])return!1;return!0}var r=Object.prototype.hasOwnProperty;e.exports=n},function(e,t,n){"use strict";function r(e){return"function"==typeof e}function i(e,t){return function(n,i){if(i.type!==e)return n;var a=o.isError(i)?"throw":"next";r(t)&&(t.next=t["throw"]=t);var s=t[a];return r(s)?s(n,i):n}}t.__esModule=!0,t["default"]=i;var o=n(363);e.exports=t["default"]},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}function r(e){return o(e)&&v.call(e,"callee")&&(!g.call(e,"callee")||m.call(e)==h)}function i(e){return null!=e&&s(y(e))&&!a(e)}function o(e){return c(e)&&i(e)}function a(e){var t=u(e)?m.call(e):"";return t==f||t==p}function s(e){return"number"==typeof e&&e>-1&&e%1==0&&l>=e}function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function c(e){return!!e&&"object"==typeof e}var l=9007199254740991,h="[object Arguments]",f="[object Function]",p="[object GeneratorFunction]",d=Object.prototype,v=d.hasOwnProperty,m=d.toString,g=d.propertyIsEnumerable,y=n("length");e.exports=r},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}function r(e){return o(e)&&v.call(e,"callee")&&(!g.call(e,"callee")||m.call(e)==h)}function i(e){return null!=e&&s(y(e))&&!a(e)}function o(e){return c(e)&&i(e)}function a(e){var t=u(e)?m.call(e):"";return t==f||t==p}function s(e){return"number"==typeof e&&e>-1&&e%1==0&&l>=e}function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function c(e){return!!e&&"object"==typeof e}var l=9007199254740991,h="[object Arguments]",f="[object Function]",p="[object GeneratorFunction]",d=Object.prototype,v=d.hasOwnProperty,m=d.toString,g=d.propertyIsEnumerable,y=n("length");e.exports=r},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};var r=function(){var e=t[t.length-1],n=t.slice(0,-1);return{v:function(){return n.reduceRight(function(e,t){return t(e)},e.apply(void 0,arguments))}}}();return"object"==typeof r?r.v:void 0}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){function r(){g===m&&(g=m.slice())}function o(){return v}function s(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),g.push(e),function(){if(t){t=!1,r();var n=g.indexOf(e);g.splice(n,1)}}}function l(e){if(!(0,a["default"])(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,v=d(v,e)}finally{y=!1}for(var t=m=g,n=0;n<t.length;n++)t[n]();return e}function h(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");d=e,l({type:c.INIT})}function f(){var e,t=s;return e={subscribe:function(e){function n(){e.next&&e.next(o())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[u["default"]]=function(){return this},e}var p;if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(i)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var d=e,v=t,m=[],g=m,y=!1;return l({type:c.INIT}),p={dispatch:l,subscribe:s,getState:o,replaceReducer:h},p[u["default"]]=f,p}t.__esModule=!0,t.ActionTypes=void 0,t["default"]=i;var o=n(151),a=r(o),s=n(382),u=r(s),c=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t["default"]=n},function(e,t,n){function r(e){if(!a(e)||f.call(e)!=s||o(e))return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==h}var i=n(379),o=n(380),a=n(381),s="[object Object]",u=Object.prototype,c=Function.prototype.toString,l=u.hasOwnProperty,h=c.call(Object),f=u.toString;e.exports=r},function(e,t){"use strict";function n(e,t,n){Object.keys(t).forEach(function(n){t.hasOwnProperty(n)&&e.off(n,t[n])}),Object.keys(n).forEach(function(e){n[e].ref.off("value",n[e].listener)})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n,r){var i="function"==typeof e?e(r):e,o=i?t:n;return a["default"](o,r)}t.__esModule=!0;var o=n(41),a=r(o),s=n(42),u=r(s);t["default"]=u["default"](i),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=!0;return h["default"](t,function(t,r){return t!==e[r]?(n=!1,!1):void 0}),n}function o(e,t){var n="function"==typeof e?e:s["default"](e),r=Array.isArray(t)?p["default"]:v["default"],o=r(t,n),a=i(t,o);return a?t:o}t.__esModule=!0;var a=n(41),s=r(a),u=n(42),c=r(u),l=n(186),h=r(l),f=n(187),p=r(f),d=n(225),v=r(d);t["default"]=c["default"](o),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return Array.isArray(e)?e:a["default"](e.split("."),function(e){return!e})}t.__esModule=!0,t["default"]=i;var o=n(94),a=r(o);e.exports=t["default"]},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=p[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(c(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(c(r.parts[o],t));p[r.id]={id:r.id,refs:1,parts:a}}}}function i(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],a=i[1],s=i[2],u=i[3],c={css:a,media:s,sourceMap:u};n[o]?n[o].parts.push(c):t.push(n[o]={id:o,parts:[c]})}return t}function o(e,t){var n=m(),r=b[b.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function u(e){var t=document.createElement("link");return t.rel="stylesheet",o(e,t),t}function c(e,t){var n,r,i;if(t.singleton){var o=y++;n=g||(g=s(t)),r=l.bind(null,n,o,!1),i=l.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),r=f.bind(null,n),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=h.bind(null,n),i=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function l(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function h(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var p={},d=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},v=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=d(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,y=0,b=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=v()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=i(e);return r(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var s=n[a],u=p[s.id];u.refs--,o.push(u)}if(e){var c=i(e);r(c,t)}for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete p[u.id]}}}};var w=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),c=r(u),l=n(48),h=r(l),f=n(7),p=n(59),d=r(p),v=n(33),m=r(v),g=n(32),y=r(g),b=n(9),w=n(163),x=r(w),_=n(164),E=r(_),S=n(160),M=r(S),T=n(161),C=r(T),A=n(159),k=r(A),P=n(23),O=function(e){function t(){i(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.debouncedSearch=m["default"].debounce(e.debouncedSearch,750),e.showExperienceWindow=e.showExperienceWindow.bind(e),e.onQueryChanged=e.onQueryChanged.bind(e),e.enterSearchMode=e.enterSearchMode.bind(e),e.exitSearchMode=e.exitSearchMode.bind(e),e}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;if(d["default"].inClient&&!this.props.isHud){var t=h["default"].parse(location.search),n=location.protocol+"//"+location.host+"/?"+h["default"].stringify({room:t.room,hud:!0});d["default"].open(n,"_experience",{hidden:!0,icon:"https://video-jukebox.firebaseapp.com/img/experience-icon.png"}).then(function(t){e.experienceWindow=t})}}},{key:"showExperienceWindow",value:function(){this.experienceWindow&&this.experienceWindow.show()}},{key:"onQueryChanged",value:function(e){this.props.updateSearchQuery(e.target.value),this.debouncedSearch()}},{key:"enterSearchMode",value:function(){this.props.setPage("search")}},{key:"exitSearchMode",value:function(){this.props.setPage("home"),this.props.updateSearchQuery(""),this.props.searchVideo()}},{key:"debouncedSearch",value:function(){this.props.searchVideo(this.props.query)}},{key:"renderPlayer",value:function(){return c["default"].createElement("div",{className:"app-container player"},c["default"].createElement(C["default"],{onClick:this.showExperienceWindow}))}},{key:"renderHud",value:function(){var e=this,t=this.props.page,n=this.props.requestsLocked&&this.props.requestsLocked.value,r=this.props.blocked&&this.props.blocked.value||[],i=m["default"].any(r,function(t){return t.key===e.props.authenticatedUser.uid}),o=this.props.authenticatedUser.isModerator,a=o||!n&&!i,s=void 0;s=a?c["default"].createElement("div",{className:"fixed-bar tabs"},c["default"].createElement("div",{className:(0,y["default"])("icon-back",{disabled:"search"!=t}),onClick:this.exitSearchMode}),c["default"].createElement("input",{value:this.props.query,onFocus:this.enterSearchMode,onChange:this.onQueryChanged,className:(0,y["default"])("search-bar icon-search",{active:"search"===t}),type:"search",placeholder:"Search YouTube"})):c["default"].createElement("div",{className:"fixed-bar tabs"},c["default"].createElement("div",{className:"icon-locked"}),c["default"].createElement("span",null,i?"You have been blocked by a moderator for inappropriate behavior.":"Search is locked. Only mods can add to the playlist"));var u=void 0;return u="modtools"===t?c["default"].createElement(k["default"],null):"search"===t&&a?c["default"].createElement(E["default"],null):c["default"].createElement(x["default"],null),c["default"].createElement("div",{className:"app-container"},s,u,c["default"].createElement(M["default"],null))}},{key:"render",value:function(){return this.props.authenticatedUser?this.props.isHud?this.renderHud():this.renderPlayer():c["default"].createElement("div",null,"Loading...")}}]),t}(c["default"].Component),D=function(e){var t=e.videoSearch,n=e.authenticatedUser,r=e.page;return{query:t.query,authenticatedUser:n,page:r}};t["default"]=(0,f.connect)((0,b.firebaseToProps)(["requestsLocked","blocked"],D),{updateSearchQuery:P.updateSearchQuery,searchVideo:P.searchVideo,setPage:P.setPage})(O)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),c=r(u),l=n(7),h=n(9),f=n(33),p=r(f),d=n(23),v=n(27),m=function(e){function t(){i(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.handleBlockUser=e.handleBlockUser.bind(e),e}return a(t,e),s(t,[{key:"handleBlockUser",value:function(){this.props.blocked?this.props.unblockUser(this.props.user.key):this.props.blockUser(this.props.user.key)}},{key:"render",value:function(){var e=this.props,t=e.video,n=e.user,r=e.blocked,i=n.value;return c["default"].createElement("tr",null,c["default"].createElement("td",null,c["default"].createElement(v.RoundButton,{className:"mod",icon:"minus",active:r,onClick:this.handleBlockUser})),c["default"].createElement("td",null,i),c["default"].createElement("td",null,t&&t.value&&t.value.title||""))}}]),t}(c["default"].Component),g=function(e){function t(){i(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.handleBack=e.handleBack.bind(e),e}return a(t,e),s(t,[{key:"handleBack",value:function(){this.props.setPage("home")}},{key:"render",value:function(){var e=this,t=this.props.requestsLocked&&this.props.requestsLocked.value,n=this.props.voters&&this.props.voters.value||[],r=this.props.blocked&&this.props.blocked.value||[],i=this.props.playlist&&this.props.playlist.value||[],o=this.props.authenticatedUser.uid,a=p["default"].filter(n,function(e){return e.key!==o});return c["default"].createElement("div",{className:"panel mod-tools"},c["default"].createElement("div",{className:"controls"},c["default"].createElement(v.RoundButton,{icon:"back",onClick:this.handleBack}),c["default"].createElement("h1",null,"Back")),c["default"].createElement("div",{className:"controls"},c["default"].createElement(v.RoundButton,{className:"lock mod",icon:t?"locked":"unlocked",active:t,onClick:this.props.toggleRequestLocking}),t?"Search is locked. Only mods can add to the playlist":"Search is unlocked. Anyone can add to the playlist"),c["default"].createElement("table",null,c["default"].createElement("thead",null,c["default"].createElement("tr",null,c["default"].createElement("td",null,"Block"),c["default"].createElement("td",null,"User"),c["default"].createElement("td",null,"Video Requested"))),c["default"].createElement("tbody",null,a.map(function(t){var n=p["default"].any(r,function(e){return e.key===t.key}),o=p["default"].last(p["default"].filter(i,function(e){return e.value.requester===t.key}));return c["default"].createElement(m,{key:t.key,user:t,video:o,blocked:n,blockUser:e.props.blockUser,unblockUser:e.props.unblockUser})}))))}}]),t}(c["default"].Component);g.propTypes={setPage:c["default"].PropTypes.func};var y=function(e){var t=e.videoSearch,n=e.authenticatedUser;return{results:t.results,authenticatedUser:n}};t["default"]=(0,l.connect)((0,h.firebaseToProps)(["requestsLocked","voters","playlist","blocked"],y),{setPage:d.setPage,toggleRequestLocking:d.toggleRequestLocking,blockUser:d.blockUser,unblockUser:d.unblockUser})(g)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),c=r(u),l=n(7),h=n(9),f=n(23),p=n(43),d=n(27),v=function(e){var t=e.volume;return c["default"].createElement("div",{className:"volume-level volume-"+t})},m=function(e){var t=e.volume,n=e.onVolumeUp,r=e.onVolumeDown;return c["default"].createElement("div",{className:"volume-controls"},c["default"].createElement(d.RoundButton,{icon:"minus",onClick:r,disabled:0>=t}),c["default"].createElement(v,{volume:t}),c["default"].createElement(d.RoundButton,{icon:"plus",onClick:n,disabled:t>=6}))},g=function(e){var t=e.progress;return c["default"].createElement("div",{className:"progress-bar-container"},c["default"].createElement("div",{className:"bar",style:{width:Math.floor(100*t)+"%"}}))},y=function(e){function t(){i(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.updateProgress=e.updateProgress.bind(e),e.state={seekPos:0},e}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.progressUpdateInterval=window.setInterval(this.updateProgress,1e3)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.progressUpdateInterval)}},{key:"updateProgress",value:function(){var e=(0,p.calculateSeekPosition)(this.props.video,this.props.serverOffset);this.setState({seekPos:e})}},{key:"render",value:function(){var e=this.state.seekPos;return c["default"].createElement(g,{progress:e})}}]),t}(c["default"].Component);y.propTypes={video:c["default"].PropTypes.object,serverOffset:c["default"].PropTypes.number};var b=function(e){function t(){i(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.handleVolumeUp=e.handleVolumeUp.bind(e),e.handleVolumeDown=e.handleVolumeDown.bind(e),e}return a(t,e),s(t,[{key:"handleVolumeUp",value:function(){this.props.changeVolume(1)}},{key:"handleVolumeDown",value:function(){this.props.changeVolume(-1)}},{key:"render",value:function(){var e=this.props.nowPlaying&&this.props.nowPlaying.value||{},t=this.props.userSettings&&this.props.userSettings.value||{},n=t.volume,r=t.hideVideo,i=e.voteSkips&&Object.keys(e.voteSkips).length||0,o=this.props.serverOffset&&this.props.serverOffset.value||0,a=this.props.authenticatedUser,s=a.isModerator,u=this.props.blocked&&this.props.blocked.value||[],l=!s&&_.any(u,function(e){return e.key===a.uid}),h=i/(0,p.getRequiredVotesToSkip)(this.props.voters);return c["default"].createElement("div",{className:"fixed-bar now-playing"},c["default"].createElement("div",{className:"row"},!l&&c["default"].createElement(d.RectangleButton,{title:"Vote to skip",onClick:this.props.voteSkip,progress:h}),c["default"].createElement(d.RectangleButton,{onClick:this.props.toggleHideVideo,active:r,title:r?"Show Video":"Hide Video"})),c["default"].createElement("div",{className:"row expand"},c["default"].createElement("div",{className:"info"},c["default"].createElement("h1",{className:"truncate"},e.title),c["default"].createElement("h2",{className:"truncate"},e.requesterDisplayname)),e.id&&c["default"].createElement(y,{video:e,serverOffset:o})),c["default"].createElement("div",{className:"row"},c["default"].createElement(m,{volume:n,onVolumeUp:this.handleVolumeUp,onVolumeDown:this.handleVolumeDown}),a.isModerator&&c["default"].createElement(d.RectangleButton,{className:"force-skip mod",title:"Force Skip",onClick:this.props.playNextVideo})))}}]),t}(c["default"].Component);b.propTypes={nowPlaying:c["default"].PropTypes.object,serverOffset:c["default"].PropTypes.object,userSettings:c["default"].PropTypes.object,authenticatedUser:c["default"].PropTypes.object,voters:c["default"].PropTypes.object,changeVolume:c["default"].PropTypes.func};var w=function(e){var t=e.authenticatedUser;return{authenticatedUser:t}};t["default"]=(0,l.connect)((0,h.firebaseToProps)(["nowPlaying","userSettings","serverOffset","voters","blocked"],w),{playNextVideo:f.playNextVideo,changeVolume:f.changeVolume,toggleHideVideo:f.toggleHideVideo,voteSkip:f.voteSkip})(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),c=r(u),l=n(7),h=n(9),f=n(271),p=r(f),d=n(32),v=r(d),m=n(23),g=n(43),y=n(27),b=3,w=function(e){function t(){i(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.videoEnded=e.videoEnded.bind(e),e.onProgress=e.onProgress.bind(e),e.onStart=e.onStart.bind(e),e}return a(t,e),s(t,[{key:"onProgress",value:function(e){var t=e.played,n=this.props.nowPlaying&&this.props.nowPlaying.value||{},r=this.calculateSeekPosition(),i=n.duration,o=t*i,a=Math.abs(o-r*i);i&&a>b&&this.updateSeekPosition()}},{key:"onStart",value:function(){this.updateSeekPosition()}},{key:"calculateSeekPosition",value:function(){var e=this.props.serverOffset.value,t=this.props.nowPlaying&&this.props.nowPlaying.value||{};return(0,g.calculateSeekPosition)(t,e)}},{key:"updateSeekPosition",value:function(){var e=this.calculateSeekPosition();e>=1?this.videoEnded():this.refs.player.seekTo(e)}},{key:"videoEnded",value:function(){this.props.playNextVideoIfMaster(),this.updateSeekPosition()}},{key:"render",value:function(){var e=this.props.nowPlaying&&this.props.nowPlaying.value||{},t=this.props.userSettings&&this.props.userSettings.value||{},n=t.volume,r=t.hideVideo,i=r?0:void 0===n?.5:n/6,o=this.props.altspaceVolume;return c["default"].createElement("div",{className:"player-container"},c["default"].createElement(p["default"],{ref:"player",volume:i*o,onEnded:this.videoEnded,onProgress:this.onProgress,onStart:this.onStart,width:"100%",height:"100%",url:e.url,playing:!0}),c["default"].createElement("div",{className:(0,v["default"])("overlay",{hideVideo:r})},r&&c["default"].createElement("div",{className:"hidden-message"},"Video Hidden"),c["default"].createElement("div",{className:"video-info"},"Now Playing: ",c["default"].createElement("span",{className:"title"},e.title)),c["default"].createElement(y.RectangleButton,{onClick:this.props.onClick,title:"Video Player"})))}}]),t}(c["default"].Component);w.propTypes={nowPlaying:c["default"].PropTypes.object,serverOffset:c["default"].PropTypes.object,userSettings:c["default"].PropTypes.object,playNextVideoIfMaster:c["default"].PropTypes.func,
onClick:c["default"].PropTypes.func};var x=function(e){var t=e.altspaceVolume;return{altspaceVolume:t}};t["default"]=(0,l.connect)((0,h.firebaseToProps)(["nowPlaying","serverOffset","userSettings"],x),{playNextVideoIfMaster:m.playNextVideoIfMaster})(w)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),c=r(u),l=n(32),h=r(l),f=n(27),p=function(e){function t(){i(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.handleVoteUp=e.handleVoteUp.bind(e),e.handleVoteDown=e.handleVoteDown.bind(e),e.handleRemove=e.handleRemove.bind(e),e.handlePlay=e.handlePlay.bind(e),e}return a(t,e),s(t,[{key:"handleVoteUp",value:function(){this.props.onVote(this.props.video,1===this.props.vote?0:1)}},{key:"handleVoteDown",value:function(){this.props.onVote(this.props.video,-1===this.props.vote?0:-1)}},{key:"handleRemove",value:function(){this.props.onRemove(this.props.video)}},{key:"handlePlay",value:function(){this.props.onPlay(this.props.video)}},{key:"render",value:function(){var e=this.props,t=e.video,n=e.vote,r=e.isOwn,i=e.isMod,o=e.votingDisabled;return c["default"].createElement("div",{className:"list-item playlist-item"},c["default"].createElement("div",{className:"vote-controls"},c["default"].createElement(f.RoundButton,{disabled:o,active:n>0,icon:"upvote",onClick:this.handleVoteUp}),c["default"].createElement("div",{className:(0,h["default"])("count",{active:0!=n})},t.voteCount),c["default"].createElement(f.RoundButton,{disabled:o,active:0>n,icon:"downvote",onClick:this.handleVoteDown})),c["default"].createElement("div",{className:"content"},c["default"].createElement("h1",{className:"truncate"},t.title),c["default"].createElement("h2",{className:"truncate"},t.requesterDisplayname)),(r||i)&&c["default"].createElement(f.RoundButton,{icon:"delete",onClick:this.handleRemove,className:(0,h["default"])({mod:!r&&i})}))}}]),t}(c["default"].Component);p.propTypes={video:c["default"].PropTypes.object.isRequired,vote:c["default"].PropTypes.number,onVote:c["default"].PropTypes.func,onRemove:c["default"].PropTypes.func,onPlay:c["default"].PropTypes.func,isOwn:c["default"].PropTypes.bool,isMod:c["default"].PropTypes.bool},t["default"]=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(4),l=r(c),h=n(7),f=n(33),p=r(f),d=n(9),v=n(162),m=r(v),g=n(27),y=n(23),b=n(43),w=function(e){function t(){i(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.handleVideoVote=e.handleVideoVote.bind(e),e.handleVideoRemove=e.handleVideoRemove.bind(e),e.handleVideoPlay=e.handleVideoPlay.bind(e),e.createPlaylistItem=e.createPlaylistItem.bind(e),e.handleModToolsLink=e.handleModToolsLink.bind(e),e}return a(t,e),u(t,[{key:"handleVideoVote",value:function(e,t){this.props.voteOnVideo(e.id,t)}},{key:"handleVideoRemove",value:function(e){this.props.removeVideo(e.id)}},{key:"handleVideoPlay",value:function(e){this.props.playVideo(e)}},{key:"handleModToolsLink",value:function(){this.props.setPage("modtools")}},{key:"createPlaylistItem",value:function(e){var t=this.props.authenticatedUser,n=e.votes&&e.votes[t.uid]||0,r=this.userIsBlocked;return l["default"].createElement(m["default"],{key:e.id,video:e,votingDisabled:r,vote:n,isOwn:t.uid===e.requester,isMod:t.isModerator,onVote:this.handleVideoVote,onRemove:this.handleVideoRemove,onPlay:this.handleVideoPlay})}},{key:"renderSection",value:function(e,t,n){return t&&t.length?l["default"].createElement("section",{typeName:"section",className:e,enterAnimation:"fade",leaveAnimation:"fade"},l["default"].createElement("div",{className:"section-title"},l["default"].createElement("h1",null,e," "),n&&l["default"].createElement(g.RectangleButton,n)),t.map(this.createPlaylistItem)):void 0}},{key:"render",value:function(){var e=this,t=this.props.authenticatedUser.isModerator,n=p["default"].partition(this.props.playlist,function(e){return e.voteCount>=0}),r=s(n,2),i=r[0],o=r[1],a=this.props.blocked&&this.props.blocked.value||[],u=!t&&p["default"].any(a,function(t){return t.key===e.props.authenticatedUser.uid});return this.userIsBlocked=u,l["default"].createElement("div",{className:"panel scroll playlist"},t&&l["default"].createElement("div",{className:"mod-controls"},l["default"].createElement("h1",null,"Moderator Tools"),l["default"].createElement(g.RoundButton,{icon:"forward",onClick:this.handleModToolsLink})),this.renderSection("Up Next",i),this.renderSection("Downvoted",o,t&&{title:"Clear All",onClick:this.props.removeAllDownvoted}))}}]),t}(l["default"].Component);w.propTypes={playlist:l["default"].PropTypes.array,voteOnVideo:l["default"].PropTypes.func,removeVideo:l["default"].PropTypes.func,playVideo:l["default"].PropTypes.func,removeAllDownvoted:l["default"].PropTypes.func,authenticatedUser:l["default"].PropTypes.object};var x=function(e){var t=e.firebase,n=e.authenticatedUser,r=(0,b.mapAndSortPlaylist)(t.stores.playlist);return{authenticatedUser:n,playlist:r}};t["default"]=(0,h.connect)((0,d.firebaseToProps)(["blocked"],x),{voteOnVideo:y.voteOnVideo,removeVideo:y.removeVideo,playVideo:y.playVideo,removeAllDownvoted:y.removeAllDownvoted,setPage:y.setPage})(w)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),c=r(u),l=n(7),h=n(9),f=n(165),p=r(f),d=n(23),v=function(e){function t(){i(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.handleAdd=e.handleAdd.bind(e),e}return a(t,e),s(t,[{key:"handleAdd",value:function(e){this.props.requestVideo(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.results,r=t.playlist,i=t.nowPlaying,o=(t.authenticatedUser,r&&r.value&&r.value.map(function(e){return e.key})||[]);return i&&i.value&&o.push(i.value.id),c["default"].createElement("div",{className:"panel search"},c["default"].createElement("div",{className:"results-list"},n&&n.length?n.map(function(t){return c["default"].createElement(p["default"],{key:t.id,video:t,inPlaylist:_.includes(o,t.id),onAddVideo:e.handleAdd})}):c["default"].createElement("div",{className:"no-results"},"Use the search box above to find YouTube videos to submit to the playlist")))}}]),t}(c["default"].Component);v.propTypes={playlist:c["default"].PropTypes.object,authenticatedUser:c["default"].PropTypes.object,nowPlaying:c["default"].PropTypes.object,requestsLocked:c["default"].PropTypes.object,onAddVideo:c["default"].PropTypes.func,searchVideo:c["default"].PropTypes.func,requestVideo:c["default"].PropTypes.func,results:c["default"].PropTypes.array};var m=function(e){var t=e.videoSearch,n=e.authenticatedUser;return{results:t.results,authenticatedUser:n}};t["default"]=(0,l.connect)((0,h.firebaseToProps)(["playlist","nowPlaying","requestsLocked"],m),{searchVideo:d.searchVideo,requestVideo:d.requestVideo})(v)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),c=r(u),l=n(32),h=(r(l),n(266)),f=r(h),p=n(27),d=function(e){function t(){i(this,t);var e=o(this,Object.getPrototypeOf(t).call(this));return e.handleAddVideo=e.handleAddVideo.bind(e),e}return a(t,e),s(t,[{key:"handleAddVideo",value:function(){this.props.onAddVideo(this.props.video)}},{key:"render",value:function(){var e=this.props,t=e.video,n=e.inPlaylist;return c["default"].createElement("div",{className:"list-item search-results-item"},c["default"].createElement("div",{className:"thumbnail"},c["default"].createElement("img",{src:t.thumbnail}),c["default"].createElement("div",{className:"duration"},(0,f["default"])(t.duration).format("00:00"))),c["default"].createElement("div",{className:"content"},c["default"].createElement("h1",{className:"truncate"},t.title),c["default"].createElement("h2",{className:"truncate"},t.author),c["default"].createElement("h2",{className:"truncate"},(0,f["default"])(t.views).format("0,0")," views")),c["default"].createElement(p.RoundButton,{disabled:n,icon:"plus",onClick:this.handleAddVideo}))}}]),t}(c["default"].Component);d.propTypes={video:c["default"].PropTypes.object.isRequired,inPlaylist:c["default"].PropTypes.bool,onAddVideo:c["default"].PropTypes.func},t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n(407);var i=n(267),o=r(i);n(408);var a=n(4),s=r(a),u=n(270),c=r(u),l=n(7),h=n(89),f=n(375),p=r(f),d=n(369),v=r(d),m=n(59),g=r(m),y=n(9),b=n(93),w=r(b),x=n(158),_=r(x),E=n(23),S=n(48),M=r(S);window.Promise=window.Promise||o["default"];var T=M["default"].parse(location.search),C=T.hud&&"true"===T.hud.toLowerCase(),A="https://video-jukebox.firebaseio.com/",k=new y.Firebase(A);if(T.room)!function(){var e=(0,h.compose)((0,h.applyMiddleware)(v["default"]),(0,h.applyMiddleware)(p["default"]),window.devToolsExtension?window.devToolsExtension():function(e){return e})(h.createStore),t=e(w["default"]),n={store:t,url:A,bindings:b.firebaseBindings};(0,y.syncFirebase)(n),t.dispatch((0,E.getAltspaceUserInfo)()).then(function(e){var t=e.payload,n=b.firebaseBindings[C?"voters":"viewers"].path,r=k.child(n+"/"+t.userId);if(r.onDisconnect().remove(),r.set(t.displayName),C){var i=k.child("userSettings/"+t.userId);i.set({volume:3,hideVideo:!1}),i.onDisconnect().remove()}});var r=1,i=function o(){var e=window.Alt;void 0!==e.Display.Volume&&e.Display.Volume!==r&&(r=window.Alt.Display.Volume,t.dispatch((0,E.gotAltspaceVolume)(r))),setTimeout(o,100)};!C&&g["default"].inClient&&window.addEventListener("AltContentLoaded",function(e){window.Alt.Display.UsingDirectAudio||i(),g["default"].setHighPerfMode&&g["default"].setHighPerfMode(!0)}),c["default"].render(s["default"].createElement(l.Provider,{store:t},s["default"].createElement(_["default"],{isHud:C})),document.querySelector(".container"))}();else{var P=k.child("rooms").push().key();location.href="/?"+M["default"].stringify({room:P})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(40);t["default"]=(0,r.handleActions)({GOT_ALTSPACE_USER_INFO:function(e,t){var n=t.payload;return{uid:n.userId,displayName:n.displayName,isModerator:!(!n.isAdmin&&!n.isModerator)}}},null)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(40);t["default"]=(0,r.handleActions)({GOT_ALTSPACE_VOLUME:function(e,t){var n=t.payload;return n/100}},1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(40);t["default"]=(0,r.handleActions)({SET_PAGE:function(e,t){var n=t.payload;return n}},"home")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(40),o=n(179),a={query:"",results:[]};t["default"]=(0,i.handleActions)({UPDATE_SEARCH_QUERY:function(e,t){return r({},e,{query:t.payload})},SEARCH_VIDEOS_RESPONE:function(e,t){return r({},e,{results:t.payload.items.map(function(e){return{id:e.id,title:e.snippet.title,thumbnail:"http://img.youtube.com/vi/"+e.id+"/mqdefault.jpg",url:"https://www.youtube.com/watch?v="+e.id,author:e.snippet.channelTitle,duration:(0,o.toSeconds)((0,o.parse)(e.contentDetails.duration)),views:e.statistics.viewCount}})})}},a)},function(e,t,n){t=e.exports=n(24)(),t.push([e.id,"*{box-sizing:border-box}",""])},function(e,t,n){t=e.exports=n(24)(),t.push([e.id,"input:focus{outline:none}",""])},function(e,t,n){t=e.exports=n(24)(),t.i(n(171),""),t.i(n(176),""),t.i(n(175),""),t.i(n(172),""),t.i(n(174),""),t.push([e.id,"",""])},function(e,t,n){t=e.exports=n(24)(),t.push([e.id,"ol,ul{list-style-type:none}",""])},function(e,t,n){t=e.exports=n(24)(),t.push([e.id,"abbr,address,article,aside,audio,b,blockquote,body,canvas,caption,cite,code,dd,del,details,dfn,div,dl,dt,em,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,p,pre,q,samp,section,small,span,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,ul,var,video{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent;font-weight:inherit}body{line-height:1}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}nav ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:'';content:none}a{margin:0;padding:0;font-size:100%;vertical-align:baseline;background:transparent}ins{text-decoration:none}ins,mark{background-color:#ff9;color:#000}mark{font-style:italic;font-weight:700}del{text-decoration:line-through}abbr[title],dfn[title]{border-bottom:1px dotted;cursor:help}table{border-collapse:collapse;border-spacing:0}hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}input,select{vertical-align:middle}",""])},function(e,t,n){t=e.exports=n(24)(),t.push([e.id,"input[type=color]::-webkit-color-swatch{border:none}input[type=color]::-webkit-color-swatch-wrapper{padding:0}",""])},function(e,t,n){t=e.exports=n(24)(),t.push([e.id,"body{background-color:rgba(0,0,0,.3);color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;-webkit-user-select:none;cursor:default}h1{font-size:22px}h1,h2{line-height:27px}h2{font-size:18px}.app-container.player{padding:0;overflow:hidden;height:100vh}.now-playing .volume-controls{display:flex;align-items:center;justify-content:space-between}.volume-level{background-image:url(/img/volume.png);background-repeat:no-repeat;display:block;width:45px;height:36px;flex-shrink:0;margin:0 10px}.volume-level,.volume-level.volume-0{background-position:-5px -5px}.volume-level.volume-1{background-position:-5px -51px}.volume-level.volume-2{background-position:-5px -97px}.volume-level.volume-3{background-position:-5px -143px}.volume-level.volume-4{background-position:-5px -189px}.volume-level.volume-5{background-position:-5px -235px}.volume-level.volume-6{background-position:-5px -281px}.progress-bar-container{height:5px;background:#000;width:100%;border-radius:2px}.progress-bar-container .bar{background:hsla(0,0%,100%,.3);height:5px;border-radius:2px}.fixed-bar{position:fixed;left:0;width:100%;background-color:rgba(34,34,34,.98);z-index:1000}.tabs{padding:15px 20px;display:flex;align-items:center}.tabs span{font-size:22px;padding:7px 0}.tabs .icon-back,.tabs .icon-locked{width:30px;height:30px;margin-right:10px;background-position:50%;background-repeat:no-repeat;cursor:pointer}.tabs .icon-back:hover{background-image:url(/img/icon-back_hover.png)}.tabs .icon-back.disabled{visibility:hidden}.now-playing{display:flex;bottom:0;padding:15px 20px}.now-playing .row{display:flex;align-items:stretch;justify-content:center;flex-direction:column}.now-playing .row.expand{flex-grow:1;padding:0 150px;min-width:0;max-width:890px}.now-playing .info{text-align:center;margin-bottom:15px}.now-playing .info h2{margin-top:5px;font-weight:400;color:hsla(0,0%,100%,.6)}.now-playing .info h1,.now-playing .info h2{width:100%}.now-playing .rectangle-button:last-child{margin-top:10px}.truncate{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.player-container{height:100%;width:100%}.hidden-message{font-size:42px}.player-container .overlay{cursor:default;-webkit-user-select:none;display:flex;align-items:center;justify-content:center;position:fixed;width:100%;height:100%;top:0;left:0;z-index:100}.player-container .overlay.hideVideo{background:#000}.player-container .overlay .video-info{position:absolute;padding:20px;bottom:10px;left:10px;border-radius:8px;background-color:rgba(0,0,0,.6);color:#fff;z-index:100;font-size:18px;font-weight:700}.player-container .overlay .video-info .title{font-weight:400}.player-container .overlay .rectangle-button{position:absolute;bottom:10px;right:10px;padding-left:60px;background-image:url(/img/icon-play.png);background-repeat:no-repeat;background-position:25px}.panel{overflow:hidden;background-color:rgba(34,34,34,.9);padding:30px;padding-top:80px;padding-bottom:160px;flex-grow:1;min-height:100vh}.playlist section{margin-top:10px}.playlist .mod-controls{display:flex;align-items:center;margin:20px 0}.playlist .mod-controls h1{margin-right:10px}.playlist section.Downvoted{margin-top:35px}.playlist section.Downvoted .list-item{opacity:.3}.playlist .section-title{margin-bottom:10px;display:flex;align-items:center}.playlist .section-title h1{flex:1}.list-item{display:flex;padding:10px 0;align-items:center;flex-shrink:0;overflow:hidden}.list-item .content{min-width:0;flex-grow:1}.list-item h2{font-weight:400;color:hsla(0,0%,100%,.6)}.list-item:last-child{border-bottom:none}.playlist-item .vote-controls{display:flex;align-items:center;margin-right:60px;flex-shrink:0}.playlist-item .vote-controls .count{font-size:30px;margin:0 10px}.playlist-item .vote-controls .count.active{color:#37f0f7}.playlist-item .icon-delete{flex-shrink:0;margin-left:20px}.rectangle-button{border:3px solid #fff;background:transparent;color:#fff;border-radius:27px;padding:18px 32px;font-family:Arial;font-size:16px;text-transform:uppercase;font-weight:700;cursor:pointer;position:relative;white-space:nowrap;text-align:center}.rectangle-button:active{transform:scale(.9)}.rectangle-button:hover{background-color:hsla(0,0%,80%,.3)}.rectangle-button.mod:hover{background:transparent url(/img/mod-bg.png) repeat!important}.rectangle-button.disabled{pointer-events:none;opacity:.15}.rectangle-button span{position:relative}.rectangle-button .bar{position:absolute;background:rgba(187,26,52,.5);border-radius:27px;height:100%;content:'';top:0;left:0}.round-button{flex-shrink:0;cursor:pointer;display:flex;justify-content:center;align-items:center;width:40px;height:40px;border:3px solid #fff;background:transparent no-repeat 50%;border-radius:50%;color:#fff;-webkit-user-select:none}.round-button:active{transform:scale(.9)}.round-button:hover{background-color:rgba(54,239,247,.7)!important}.round-button.icon-delete:hover,.round-button.icon-locked.active,.round-button.icon-minus.active,.round-button.icon-unlocked.active{background-color:rgba(221,56,81,.7)!important}.round-button.icon-delete.mod:hover{background-image:url(/img/icon-delete.png),url(/img/mod-bg.png);background-repeat:no-repeat,repeat}.round-button.icon-locked.mod:hover{background-image:url(/img/icon-locked.png),url(/img/mod-bg.png);background-repeat:no-repeat,repeat}.round-button.icon-unlocked.mod:hover{background-image:url(/img/icon-unlocked.png),url(/img/mod-bg.png);background-repeat:no-repeat,repeat}.round-button.icon-minus.mod:hover{background-image:url(/img/icon-minus.png),url(/img/mod-bg.png);background-repeat:no-repeat,repeat}.round-button.disabled{pointer-events:none;opacity:.15}.round-button.active{background-color:rgba(30,206,212,.7)}.icon-minus{background-image:url(/img/icon-minus.png)}.icon-plus{background-image:url(/img/icon-plus.png)}.icon-upvote{background-image:url(/img/icon-upvote.png)}.icon-downvote{background-image:url(/img/icon-downvote.png)}.icon-delete{background-image:url(/img/icon-delete.png)}.icon-search{background-image:url(/img/icon-search.png)}.icon-locked{background-image:url(/img/icon-locked.png)}.icon-unlocked{background-image:url(/img/icon-unlocked.png)}.icon-back{background-image:url(/img/icon-back.png)}.icon-forward{background-image:url(/img/icon-forward.png)}.search{display:flex;flex-direction:column}.search>h1{flex-shrink:0}.search .mod-controls .round-button.lock{margin-right:10px}.search .locked{padding-top:60px;background:transparent url(/img/icon-locked-lrg.png) no-repeat top}.search-bar{flex-grow:1;padding:7px 0;padding-right:30px;border:none;font-size:22px;background-color:transparent;background-position:100%;background-repeat:no-repeat;color:#fff}.search-bar.active{background:none;padding-right:0}.search-bar::-webkit-search-cancel-button{-webkit-appearance:none;background:transparent url(/img/icon-delete.png) no-repeat 50%;width:20px;height:20px;cursor:pointer}.search-bar::-webkit-search-cancel-button:hover{background-image:url(/img/icon-delete_hover.png)}.search-bar::-webkit-input-placeholder{color:hsla(0,0%,100%,.3)}.search .results-list{display:flex;flex-direction:column;flex-grow:100;overflow-y:auto}.search .results-list .no-results{display:flex;align-items:center;justify-content:center;text-align:center;padding:0 10%;font-size:22px;line-height:30px;flex-grow:1}.search .results-list .thumbnail{width:140px;flex-shrink:0;position:relative}.search .results-list .thumbnail img{width:100%;display:block;opacity:.6}.search .results-list .thumbnail .duration{position:absolute;bottom:3px;right:3px;font-size:10px;color:#fff;border-radius:5px;background-color:rgba(0,0,0,.6);padding:3px 5px}.search .results-list .content{flex-grow:1;margin:0 10px}.mod-tools .controls{display:flex;align-items:center;margin-bottom:20px}.mod-tools .controls .round-button{margin-right:20px}.mod-tools table{width:100%}.mod-tools table td{padding:10px 0}.mod-tools table td,.mod-tools table thead td{vertical-align:middle}body{margin-right:-20px;overflow-x:hidden;overflow-y:auto}::-webkit-scrollbar{width:20px;background:rgba(34,34,34,.98)}::-webkit-scrollbar-track{background:transparent;border-width:0;margin-top:75px;margin-bottom:155px}::-webkit-scrollbar-thumb{border-radius:20px;background-color:rgba(0,0,0,.9);border:3px solid transparent;background-clip:padding-box}::-webkit-resizer,::-webkit-scrollbar-button,::-webkit-scrollbar-corner,::-webkit-scrollbar-track-piece{display:none}",""])},function(e,t){!function(){function t(e){for(var t="",n=0;e>n;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t}function n(e){if(!e)throw new TypeError("Invalid argument; `value` has no value.");this.value=n.EMPTY,e&&e instanceof n?this.value=e.toString():e&&"[object String]"===Object.prototype.toString.call(e)&&n.isGuid(e)&&(this.value=e),this.equals=function(e){return n.isGuid(e)&&this.value==e},this.isEmpty=function(){return this.value===n.EMPTY},this.toString=function(){return this.value},this.toJSON=function(){return this.value}}var r=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i");n.EMPTY="00000000-0000-0000-0000-000000000000",n.isGuid=function(e){return e&&(e instanceof n||r.test(e.toString()))},n.create=function(){return new n([t(2),t(1),t(1),t(1),t(3)].join("-"))},n.raw=function(){return[t(2),t(1),t(1),t(1),t(3)].join("-")},"undefined"!=typeof e&&e.exports?e.exports=n:"undefined"!=typeof window&&(window.Guid=n)}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="\\d+(?:[\\.,]\\d{0,3})?",r="("+n+"W)",i="("+n+"Y)?("+n+"M)?("+n+"D)?",o="T("+n+"H)?("+n+"M)?("+n+"S)?",a="P(?:"+r+"|"+i+"(?:"+o+")?)",s=["weeks","years","months","days","hours","minutes","seconds"],u=t.pattern=new RegExp(a),c=t.parse=function(e){return e.match(u).slice(1).reduce(function(e,t,n){return e[s[n]]=parseFloat(t)||0,e},{})},l=t.toSeconds=function(e,t){var n=t?t.getTime():Date.now(),r=new Date(n),i=new Date(n);i.setFullYear(i.getFullYear()+e.years),i.setMonth(i.getMonth()+e.months),i.setDate(i.getDate()+e.days),i.setHours(i.getHours()+e.hours),i.setMinutes(i.getMinutes()+e.minutes),i.setMilliseconds(i.getMilliseconds()+1e3*e.seconds),i.setDate(i.getDate()+7*e.weeks);var o=(i.getTime()-r.getTime())/1e3;return o};t["default"]={toSeconds:l,pattern:u,parse:c}},function(e,t,n){var r=n(60),i=n(96),o=n(19),a=n(20),s=n(44),u=s(function(e,t){return a(e)&&o(e)?r(e,i(t,!1,!0)):[]});e.exports=u},function(e,t,n){var r=n(207),i=r();e.exports=i},function(e,t,n){var r=n(62),i=n(64),o=n(65),a=n(19),s=n(44),u=s(function(e){for(var t=e.length,n=t,s=Array(d),u=r,c=!0,l=[];n--;){var h=e[n]=a(h=e[n])?h:[];s[n]=c&&h.length>=120?o(n&&h):null}var f=e[0],p=-1,d=f?f.length:0,v=s[0];e:for(;++p<d;)if(h=f[p],(v?i(v,h):u(l,h,0))<0){for(var n=t;--n;){var m=s[n];if((m?i(m,h):u(e[n],h,0))<0)continue e}v&&v.push(h),l.push(h)}return l});e.exports=u},function(e,t){function n(e){var t=e?e.length:0;return t?e[t-1]:void 0}e.exports=n},function(e,t,n){function r(e,t,n,r){var u=e?e.length:0;return u?(null!=t&&"boolean"!=typeof t&&(r=n,n=a(e,t,r)?void 0:t,t=!1),n=null==n?n:i(n,r,3),t?s(e,n):o(e,n)):[]}var i=n(34),o=n(203),a=n(215),s=n(219);e.exports=r},function(e,t,n){var r=n(60),i=n(19),o=n(44),a=o(function(e,t){return i(e)?r(e,t):[]});e.exports=a},function(e,t,n){var r=n(189),i=n(61),o=n(208),a=o(r,i);e.exports=a},function(e,t,n){function r(e,t,n){var r=s(e)?i:a;return t=o(t,n,3),r(e,t)}var i=n(95),o=n(34),a=n(197),s=n(12);e.exports=r},function(e,t,n){(function(t){function r(e){var t=e?e.length:0;for(this.data={hash:s(null),set:new a};t--;)this.push(e[t])}var i=n(204),o=n(46),a=o(t,"Set"),s=o(Object,"create");r.prototype.push=i,e.exports=r}).call(t,function(){return this}())},function(e,t){function n(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[++i]=a)}return o}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t,n){function r(e,t){var n=[];return i(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}var i=n(61);e.exports=r},function(e,t){function n(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}e.exports=n},function(e,t,n){function r(e,t,n,r,f,v,m){var g=s(e),y=s(t),b=l,w=l;g||(b=d.call(e),b==c?b=h:b!=h&&(g=u(e))),y||(w=d.call(t),w==c?w=h:w!=h&&(y=u(t)));var x=b==h,_=w==h,E=b==w;if(E&&!g&&!x)return o(e,t,b);if(!f){var S=x&&p.call(e,"__wrapped__"),M=_&&p.call(t,"__wrapped__");if(S||M)return n(S?e.value():e,M?t.value():t,r,f,v,m)}if(!E)return!1;v||(v=[]),m||(m=[]);for(var T=v.length;T--;)if(v[T]==e)return m[T]==t;v.push(e),m.push(t);var C=(g?i:a)(e,t,n,r,f,v,m);return v.pop(),m.pop(),C}var i=n(210),o=n(211),a=n(212),s=n(12),u=n(224),c="[object Arguments]",l="[object Array]",h="[object Object]",f=Object.prototype,p=f.hasOwnProperty,d=f.toString;e.exports=r},function(e,t,n){function r(e,t,n){var r=t.length,a=r,s=!n;if(null==e)return!a;for(e=o(e);r--;){var u=t[r];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++r<a;){u=t[r];var c=u[0],l=e[c],h=u[1];if(s&&u[2]){if(void 0===l&&!(c in e))return!1}else{var f=n?n(l,h,c):void 0;if(!(void 0===f?i(h,l,n,!0):f))return!1}}return!0}var i=n(63),o=n(15);e.exports=r},function(e,t,n){function r(e,t){var n=-1,r=o(e)?Array(e.length):[];return i(e,function(e,i,o){r[++n]=t(e,i,o)}),r}var i=n(61),o=n(19);e.exports=r},function(e,t,n){function r(e){var t=o(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(void 0!==r||n in a(e))}}return function(e){return i(e,t)}}var i=n(196),o=n(213),a=n(15);e.exports=r},function(e,t,n){function r(e,t){var n=s(e),r=u(e)&&c(t),p=e+"";return e=f(e),function(s){if(null==s)return!1;var u=p;if(s=h(s),(n||!r)&&!(u in s)){if(s=1==e.length?s:i(s,a(e,0,-1)),null==s)return!1;u=l(e),s=h(s)}return s[u]===t?void 0!==t||u in s:o(t,s[u],void 0,!0)}}var i=n(100),o=n(63),a=n(201),s=n(12),u=n(103),c=n(104),l=n(183),h=n(15),f=n(105);e.exports=r},function(e,t,n){function r(e){var t=e+"";return e=o(e),function(n){return i(n,e,t)}}var i=n(100),o=n(105);e.exports=r},function(e,t){function n(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n=void 0===n||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}e.exports=n},function(e,t){function n(e){return null==e?"":e+""}e.exports=n},function(e,t,n){function r(e,t){var n=-1,r=i,u=e.length,c=!0,l=c&&u>=s,h=l?a():null,f=[];h?(r=o,c=!1):(l=!1,h=t?[]:f);e:for(;++n<u;){var p=e[n],d=t?t(p,n,e):p;if(c&&p===p){for(var v=h.length;v--;)if(h[v]===d)continue e;t&&h.push(d),f.push(p)}else r(h,d,0)<0&&((t||l)&&h.push(d),f.push(p))}return f}var i=n(62),o=n(64),a=n(65),s=200;e.exports=r},function(e,t,n){function r(e){var t=this.data;"string"==typeof e||i(e)?t.set.add(e):t.hash[e]=!0}var i=n(16);e.exports=r},function(e,t,n){function r(e,t){return function(n,r){var s=n?i(n):0;if(!o(s))return e(n,r);for(var u=t?s:-1,c=a(n);(t?u--:++u<s)&&r(c[u],u,c)!==!1;);return n}}var i=n(102),o=n(28),a=n(15);e.exports=r},function(e,t,n){
function r(e){return function(t,n,r){for(var o=i(t),a=r(t),s=a.length,u=e?s:-1;e?u--:++u<s;){var c=a[u];if(n(o[c],c,o)===!1)break}return t}}var i=n(15);e.exports=r},function(e,t,n){function r(e){return function(t,n,r){return t&&t.length?(n=i(n,r,3),o(t,n,e)):-1}}var i=n(34),o=n(194);e.exports=r},function(e,t,n){function r(e,t){return function(n,r,a){return"function"==typeof r&&void 0===a&&o(n)?e(n,r):t(n,i(r,a,3))}}var i=n(45),o=n(12);e.exports=r},function(e,t,n){function r(e){return function(t,n,r){var a={};return n=i(n,r,3),o(t,function(t,r,i){var o=n(t,r,i);r=e?o:r,t=e?t:o,a[r]=t}),a}}var i=n(34),o=n(99);e.exports=r},function(e,t,n){function r(e,t,n,r,o,a,s){var u=-1,c=e.length,l=t.length;if(c!=l&&!(o&&l>c))return!1;for(;++u<c;){var h=e[u],f=t[u],p=r?r(o?f:h,o?h:f,u):void 0;if(void 0!==p){if(p)continue;return!1}if(o){if(!i(t,function(e){return h===e||n(h,e,r,o,a,s)}))return!1}else if(h!==f&&!n(h,f,r,o,a,s))return!1}return!0}var i=n(192);e.exports=r},function(e,t){function n(e,t,n){switch(n){case r:case i:return+e==+t;case o:return e.name==t.name&&e.message==t.message;case a:return e!=+e?t!=+t:e==+t;case s:case u:return e==t+""}return!1}var r="[object Boolean]",i="[object Date]",o="[object Error]",a="[object Number]",s="[object RegExp]",u="[object String]";e.exports=n},function(e,t,n){function r(e,t,n,r,o,s,u){var c=i(e),l=c.length,h=i(t),f=h.length;if(l!=f&&!o)return!1;for(var p=l;p--;){var d=c[p];if(!(o?d in t:a.call(t,d)))return!1}for(var v=o;++p<l;){d=c[p];var m=e[d],g=t[d],y=r?r(o?g:m,o?m:g,d):void 0;if(!(void 0===y?n(m,g,r,o,s,u):y))return!1;v||(v="constructor"==d)}if(!v){var b=e.constructor,w=t.constructor;if(b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w))return!1}return!0}var i=n(67),o=Object.prototype,a=o.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){for(var t=o(e),n=t.length;n--;)t[n][2]=i(t[n][1]);return t}var i=n(104),o=n(227);e.exports=r},function(e,t){function n(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}e.exports=n},function(e,t,n){function r(e,t,n){if(!a(n))return!1;var r=typeof t;if("number"==r?i(n)&&o(t,n.length):"string"==r&&t in n){var s=n[t];return e===e?e===s:s!==s}return!1}var i=n(19),o=n(66),a=n(16);e.exports=r},function(e,t,n){function r(e,t){e=i(e);for(var n=-1,r=t.length,o={};++n<r;){var a=t[n];a in e&&(o[a]=e[a])}return o}var i=n(15);e.exports=r},function(e,t,n){function r(e,t){var n={};return i(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}var i=n(98);e.exports=r},function(e,t,n){function r(e){for(var t=u(e),n=t.length,r=n&&e.length,c=!!r&&s(r)&&(o(e)||i(e)),h=-1,f=[];++h<n;){var p=t[h];(c&&a(p,r)||l.call(e,p))&&f.push(p)}return f}var i=n(47),o=n(12),a=n(66),s=n(28),u=n(68),c=Object.prototype,l=c.hasOwnProperty;e.exports=r},function(e,t){function n(e,t){for(var n,r=-1,i=e.length,o=-1,a=[];++r<i;){var s=e[r],u=t?t(s,r,e):s;r&&n===u||(n=u,a[++o]=s)}return a}e.exports=n},function(e,t,n){function r(e,t,n,r){n="function"==typeof n?o(n,r,3):void 0;var a=n?n(e,t):void 0;return void 0===a?i(e,t,n):!!a}var i=n(63),o=n(45);e.exports=r},function(e,t,n){function r(e){return i(e)&&s.call(e)==o}var i=n(16),o="[object Function]",a=Object.prototype,s=a.toString;e.exports=r},function(e,t,n){function r(e){return null==e?!1:i(e)?l.test(u.call(e)):o(e)&&a.test(e)}var i=n(221),o=n(20),a=/^\[object .+?Constructor\]$/,s=Object.prototype,u=Function.prototype.toString,c=s.hasOwnProperty,l=RegExp("^"+u.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e){var t;if(!a(e)||l.call(e)!=s||o(e)||!c.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return i(e,function(e,t){n=t}),void 0===n||c.call(e,n)}var i=n(98),o=n(47),a=n(20),s="[object Object]",u=Object.prototype,c=u.hasOwnProperty,l=u.toString;e.exports=r},function(e,t,n){function r(e){return o(e)&&i(e.length)&&!!k[O.call(e)]}var i=n(28),o=n(20),a="[object Arguments]",s="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Error]",h="[object Function]",f="[object Map]",p="[object Number]",d="[object Object]",v="[object RegExp]",m="[object Set]",g="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",w="[object Float32Array]",x="[object Float64Array]",_="[object Int8Array]",E="[object Int16Array]",S="[object Int32Array]",M="[object Uint8Array]",T="[object Uint8ClampedArray]",C="[object Uint16Array]",A="[object Uint32Array]",k={};k[w]=k[x]=k[_]=k[E]=k[S]=k[M]=k[T]=k[C]=k[A]=!0,k[a]=k[s]=k[b]=k[u]=k[c]=k[l]=k[h]=k[f]=k[p]=k[d]=k[v]=k[m]=k[g]=k[y]=!1;var P=Object.prototype,O=P.toString;e.exports=r},function(e,t,n){var r=n(209),i=r();e.exports=i},function(e,t,n){var r=n(95),i=n(60),o=n(96),a=n(45),s=n(68),u=n(216),c=n(217),l=n(44),h=l(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=r(o(t),String);return u(e,i(s(e),t))}var n=a(t[0],t[1],3);return c(e,function(e,t,r){return!n(e,t,r)})});e.exports=h},function(e,t,n){function r(e){e=o(e);for(var t=-1,n=i(e),r=n.length,a=Array(r);++t<r;){var s=n[t];a[t]=[s,e[s]]}return a}var i=n(67),o=n(15);e.exports=r},function(e,t,n){function r(e){return a(e)?i(e):o(e)}var i=n(101),o=n(200),a=n(103);e.exports=r},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Czech
	 * locale: Czech Republic
	 * author : Anatoli Papirovski : https://github.com/apapirovski
	 */
(function(){"use strict";var t={langLocaleCode:"cs-CZ",cultureCode:"cs-CZ",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"K",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Danish
	 * locale: Denmark
	 * author : Michael Storgaard : https://github.com/mstorgaard
	 */
(function(){"use strict";var t={langLocaleCode:"da-DK",cultureCode:"da-DK",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mio",billion:"mia",trillion:"b"},ordinal:function(){return"."},currency:{symbol:"kr",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : German
	 * locale: Switzerland
	 * author : Michael Piefel : https://github.com/piefel (based on work from Marco Krage : https://github.com/sinky)
	 */
(function(){"use strict";var t={langLocaleCode:"de-CH",cultureCode:"de-CH",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"CHF",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : German
	 * locale: Germany
	 * author : Marco Krage : https://github.com/sinky
	 *
	 * Generally useful in Germany, Austria, Luxembourg, Belgium
	 */
(function(){"use strict";var t={langLocaleCode:"de-DE",cultureCode:"de-DE",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : English
	 * locale: United Kingdom of Great Britain and Northern Ireland
	 * author : Dan Ristic : https://github.com/dristic
	 */
(function(){"use strict";var t={langLocaleCode:"en-GB",cultureCode:"en-GB",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : English
	 * locale: South Africa
	 * author : Stewart Scott https://github.com/stewart42
	 */
(function(){"use strict";var t={langLocaleCode:"en-ZA",cultureCode:"en-ZA",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"R",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Spanish
	 * locale: Argentina
	 * author : Hernan Garcia : https://github.com/hgarcia
	 */
(function(){"use strict";var t={langLocaleCode:"es-AR",cultureCode:"es-AR",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"$",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Spanish
	 * locale: Spain
	 * author : Hernan Garcia : https://github.com/hgarcia
	 */
(function(){"use strict";var t={langLocaleCode:"es-ES",cultureCode:"es-ES",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Estonian
	 * locale: Estonia
	 * author : Illimar Tambek : https://github.com/ragulka
	 *
	 * Note: in Estonian, abbreviations are always separated
	 * from numbers with a space
	 */
(function(){"use strict";var t={langLocaleCode:"et-EE",cultureCode:"et-EE",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:" tuh",million:" mln",billion:" mld",trillion:" trl"},ordinal:function(){return"."},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Farsi
	 * locale: Iran
	 * author : neo13 : https://github.com/neo13
	 */
(function(){"use strict";var t={langLocaleCode:"fa-IR",cultureCode:"fa-IR",delimiters:{thousands:"",decimal:"."},abbreviations:{thousand:"",million:"",billion:"",trillion:""},ordinal:function(){return""},currency:{symbol:""}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Finnish
	 * locale: Finland
	 * author : Sami Saada : https://github.com/samitheberber
	 */
(function(){"use strict";var t={langLocaleCode:"fi-FI",cultureCode:"fi-FI",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"M",billion:"G",trillion:"T"},ordinal:function(){return"."},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Filipino (Pilipino)
	 * locale: Philippines
	 * author : Michael Abadilla : https://github.com/mjmaix
	 */
(function(){"use strict";var t={langLocaleCode:"fil-PH",cultureCode:"fil-PH",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:""}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : French
	 * locale: Canada
	 * author : Lo Renaud-Allaire : https://github.com/renaudleo
	 */
(function(){"use strict";var t={langLocaleCode:"fr-CA",cultureCode:"fr-CA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"M",billion:"G",trillion:"T"},ordinal:function(e){return 1===e?"er":"me"},currency:{symbol:"$",position:"postfix",spaceSeparated:!0},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : French
	 * locale: Switzerland
	 * author : Adam Draper : https://github.com/adamwdraper
	 */
(function(){"use strict";var t={langLocaleCode:"fr-CH",cultureCode:"fr-CH",delimiters:{thousands:"'",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){return 1===e?"er":"me"},currency:{symbol:"CHF",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : French
	 * locale: France
	 * author : Adam Draper : https://github.com/adamwdraper
	 */
(function(){"use strict";var t={langLocaleCode:"fr-FR",cultureCode:"fr-FR",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){return 1===e?"er":"me"},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Hebrew
	 * locale : IL
	 * author : Eli Zehavi : https://github.com/eli-zehavi
	 */
(function(){"use strict";var t={langLocaleCode:"he-IL",cultureCode:"he-IL",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"",million:"",billion:"",trillion:""},currency:{symbol:"",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:" ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:" ,0"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Hungarian
	 * locale: Hungary
	 * author : Peter Bakondy : https://github.com/pbakondy
	 */
(function(){"use strict";var t={langLocaleCode:"hu-HU",cultureCode:"hu-HU",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"E",million:"M",billion:"Mrd",trillion:"T"},ordinal:function(){return"."},currency:{symbol:" Ft",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){t["cs-CZ"]=n(229),t["da-DK"]=n(230),t["de-CH"]=n(231),t["de-DE"]=n(232),t["en-GB"]=n(233),t["en-ZA"]=n(234),t["es-AR"]=n(235),t["es-ES"]=n(236),t["et-EE"]=n(237),t["fa-IR"]=n(238),t["fi-FI"]=n(239),t["fil-PH"]=n(240),t["fr-CA"]=n(241),t["fr-CH"]=n(242),t["fr-FR"]=n(243),t["he-IL"]=n(244),t["hu-HU"]=n(245),t["it-IT"]=n(247),t["ja-JP"]=n(248),t["ko-KR"]=n(249),t["lv-LV"]=n(250),t["nb-NO"]=n(251),t["nl-BE"]=n(252),t["nl-NL"]=n(253),t["pl-PL"]=n(254),t["pt-BR"]=n(255),t["pt-PT"]=n(256),t["ru-RU"]=n(257),t["ru-UA"]=n(258),t["sk-SK"]=n(259),t["sv-SE"]=n(260),t["th-TH"]=n(261),t["tr-TR"]=n(262),t["uk-UA"]=n(263),t["zh-CN"]=n(264),t["zh-TW"]=n(265)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Italian
	 * locale: Italy
	 * author : Giacomo Trombi : http://cinquepunti.it
	 */
(function(){"use strict";var t={langLocaleCode:"it-IT",cultureCode:"it-IT",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mila",million:"mil",billion:"b",trillion:"t"},ordinal:function(){return""},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Japanese
	 * locale: Japan
	 * author : teppeis : https://github.com/teppeis
	 */
(function(){"use strict";var t={langLocaleCode:"ja-JP",cultureCode:"ja-JP",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"",million:"",billion:"",trillion:""},ordinal:function(){return"."},currency:{symbol:"",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Korean
	 * author (numbro.js Version): Randy Wilander : https://github.com/rocketedaway
	 * author (numeral.js Version) : Rich Daley : https://github.com/pedantic-git
	 */
(function(){"use strict";var t={langLocaleCode:"ko-KR",cultureCode:"ko-KR",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"",million:"",billion:"",trillion:""},ordinal:function(){return"."},currency:{symbol:""}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Latvian
	 * locale: Latvia
	 * author : Lauris Bukis-Haberkorns : https://github.com/Lafriks
	 */
(function(){"use strict";var t={langLocaleCode:"lv-LV",cultureCode:"lv-LV",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:" tkst.",million:" milj.",billion:" mljrd.",trillion:" trilj."},ordinal:function(){return"."},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language: Norwegian Bokml
	 * locale: Norway
	 * author : Benjamin Van Ryseghem
	 */
(function(){"use strict";var t={langLocaleCode:"nb-NO",cultureCode:"nb-NO",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"t",million:"M",billion:"md",trillion:"t"},currency:{symbol:"kr",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Dutch
	 * locale: Belgium
	 * author : Dieter Luypaert : https://github.com/moeriki
	 */
(function(){"use strict";var t={langLocaleCode:"nl-BE",cultureCode:"nl-BE",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"mln",billion:"mld",trillion:"bln"},ordinal:function(e){var t=e%100;return 0!==e&&1>=t||8===t||t>=20?"ste":"de"},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Dutch
	 * locale: Netherlands
	 * author : Dave Clayton : https://github.com/davedx
	 */
(function(){"use strict";var t={langLocaleCode:"nl-NL",cultureCode:"nl-NL",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mln",billion:"mrd",trillion:"bln"},ordinal:function(e){var t=e%100;return 0!==e&&1>=t||8===t||t>=20?"ste":"de"},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Polish
	 * locale : Poland
	 * author : Dominik Bulaj : https://github.com/dominikbulaj
	 */
(function(){"use strict";var t={langLocaleCode:"pl-PL",cultureCode:"pl-PL",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tys.",million:"mln",billion:"mld",trillion:"bln"},ordinal:function(){return"."},currency:{symbol:" z",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Portuguese
	 * locale : Brazil
	 * author : Ramiro Varandas Jr : https://github.com/ramirovjr
	 */
(function(){"use strict";var t={langLocaleCode:"pt-BR",cultureCode:"pt-BR",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mil",million:"milhes",billion:"b",trillion:"t"},ordinal:function(){return""},currency:{symbol:"R$",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Portuguese
	 * locale : Portugal
	 * author : Diogo Resende : https://github.com/dresende
	 */
(function(){"use strict";var t={langLocaleCode:"pt-PT",cultureCode:"pt-PT",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return""},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Russian
	 * locale : Russsia
	 * author : Anatoli Papirovski : https://github.com/apapirovski
	 */
(function(){"use strict";var t={langLocaleCode:"ru-RU",cultureCode:"ru-RU",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:".",million:"",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:".",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Russian
	 * locale : Ukraine
	 * author : Anatoli Papirovski : https://github.com/apapirovski
	 */
(function(){"use strict";var t={langLocaleCode:"ru-UA",cultureCode:"ru-UA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:".",million:"",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Slovak
	 * locale : Slovakia
	 * author : Ahmed Al Hafoudh : http://www.freevision.sk
	 */
(function(){"use strict";var t={langLocaleCode:"sk-SK",cultureCode:"sk-SK",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Swedish
	 * locale : Sweden
	 * author : Benjamin Van Ryseghem (benjamin.vanryseghem.com)
	 */
(function(){"use strict";var t={langLocaleCode:"sv-SE",cultureCode:"sv-SE",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"t",million:"M",billion:"md",trillion:"tmd"},currency:{symbol:"kr",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Thai
	 * locale : Thailand
	 * author : Sathit Jittanupat : https://github.com/jojosati
	 */
(function(){"use strict";var t={langLocaleCode:"th-TH",cultureCode:"th-TH",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"",million:"",billion:"",trillion:""},ordinal:function(){return"."},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Turkish
	 * locale : Turkey
	 * author : Ecmel Ercan : https://github.com/ecmel,
	 *          Erhan Gundogan : https://github.com/erhangundogan,
	 *          Burak Yiit Kaya: https://github.com/BYK
	 */
(function(){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"},n={langLocaleCode:"tr-TR",cultureCode:"tr-TR",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"bin",million:"milyon",billion:"milyar",trillion:"trilyon"},ordinal:function(e){if(0===e)return"'nc";var n=e%10,r=e%100-n,i=e>=100?100:null;return t[n]||t[r]||t[i]},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=n),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(n.cultureCode,n)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Ukrainian
	 * locale : Ukraine
	 * author : Michael Piefel : https://github.com/piefel (with help from Tetyana Kuzmenko)
	 */
(function(){"use strict";var t={langLocaleCode:"uk-UA",cultureCode:"uk-UA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:".",million:"",billion:"",trillion:""},ordinal:function(){return""},currency:{symbol:"",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : simplified chinese
	 * locale : China
	 * author : badplum : https://github.com/badplum
	 */
(function(){"use strict";var t={langLocaleCode:"zh-CN",cultureCode:"zh-CN",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"",million:"",billion:"",trillion:""},ordinal:function(){return"."},currency:{symbol:"",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t){/*!
	 * numbro.js language configuration
	 * language : Chinese (Taiwan)
	 * author (numbro.js Version): Randy Wilander : https://github.com/rocketedaway
	 * author (numeral.js Version) : Rich Daley : https://github.com/pedantic-git
	 */
(function(){"use strict";var t={langLocaleCode:"zh-TW",cultureCode:"zh-TW",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"",million:"",billion:"",trillion:""},ordinal:function(){return""},currency:{symbol:"NT$"}};"undefined"!=typeof e&&e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){var r,i;(function(o){/*!
	 * numbro.js
	 * version : 1.8.0
	 * author : Fretagsplatsen AB
	 * license : MIT
	 * http://www.foretagsplatsen.se
	 */
(function(){"use strict";function a(e){this._value=e}function s(e){var t,n="";for(t=0;e>t;t++)n+="0";return n}function u(e,t){var n,r,i,o,a,u,c,l;return l=e.toString(),n=l.split("e")[0],o=l.split("e")[1],r=n.split(".")[0],i=n.split(".")[1]||"",+o>0?l=r+i+s(o-i.length):(a=0>+r?"-0":"0",t>0&&(a+="."),c=s(-1*o-1),u=(c+Math.abs(r)+i).substr(0,t),l=a+u),+o>0&&t>0&&(l+="."+s(t)),l}function c(e,t,n,r){var i,o,a=Math.pow(10,t);return e.toString().indexOf("e")>-1?(o=u(e,t),"-"===o.charAt(0)&&+o>=0&&(o=o.substr(1))):o=(n(e+"e+"+t)/a).toFixed(t),r&&(i=new RegExp("0{1,"+r+"}$"),o=o.replace(i,"")),o}function l(e,t,n){var r,i=t.replace(/\{[^\{\}]*\}/g,"");return r=i.indexOf("$")>-1?f(e,t,n):i.indexOf("%")>-1?p(e,t,n):i.indexOf(":")>-1?d(e,t):g(e._value,t,n)}function h(e,t){var n,r,i,o,a,s=t,u=!1;if(t.indexOf(":")>-1)e._value=v(t);else if(t===D)e._value=0;else{for("."!==k[O].delimiters.decimal&&(t=t.replace(/\./g,"").replace(k[O].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+k[O].abbreviations.thousand+"(?:\\)|(\\"+k[O].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+k[O].abbreviations.million+"(?:\\)|(\\"+k[O].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+k[O].abbreviations.billion+"(?:\\)|(\\"+k[O].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+k[O].abbreviations.trillion+"(?:\\)|(\\"+k[O].currency.symbol+")?(?:\\))?)?$"),a=1;a<M.length&&!u;++a)t.indexOf(M[a])>-1?u=Math.pow(1024,a):t.indexOf(T[a])>-1&&(u=Math.pow(1e3,a));var c=t.replace(/[^0-9\.]+/g,"");""===c?e._value=NaN:(e._value=(u?u:1)*(s.match(n)?Math.pow(10,3):1)*(s.match(r)?Math.pow(10,6):1)*(s.match(i)?Math.pow(10,9):1)*(s.match(o)?Math.pow(10,12):1)*(t.indexOf("%")>-1?.01:1)*((t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1)*Number(c),e._value=u?Math.ceil(e._value):e._value)}return e._value}function f(e,t,n){var r,i,o=t,a=o.indexOf("$"),s=o.indexOf("("),u=o.indexOf("+"),c=o.indexOf("-"),l="",h="";if(-1===o.indexOf("$")?"infix"===k[O].currency.position?(h=k[O].currency.symbol,k[O].currency.spaceSeparated&&(h=" "+h+" ")):k[O].currency.spaceSeparated&&(l=" "):o.indexOf(" $")>-1?(l=" ",o=o.replace(" $","")):o.indexOf("$ ")>-1?(l=" ",o=o.replace("$ ","")):o=o.replace("$",""),i=g(e._value,o,n,h),-1===t.indexOf("$"))switch(k[O].currency.position){case"postfix":i.indexOf(")")>-1?(i=i.split(""),i.splice(-1,0,l+k[O].currency.symbol),i=i.join("")):i=i+l+k[O].currency.symbol;break;case"infix":break;case"prefix":i.indexOf("(")>-1||i.indexOf("-")>-1?(i=i.split(""),r=Math.max(s,c)+1,i.splice(r,0,k[O].currency.symbol+l),i=i.join("")):i=k[O].currency.symbol+l+i;break;default:throw Error('Currency position should be among ["prefix", "infix", "postfix"]')}else 1>=a?i.indexOf("(")>-1||i.indexOf("+")>-1||i.indexOf("-")>-1?(i=i.split(""),r=1,(s>a||u>a||c>a)&&(r=0),i.splice(r,0,k[O].currency.symbol+l),i=i.join("")):i=k[O].currency.symbol+l+i:i.indexOf(")")>-1?(i=i.split(""),i.splice(-1,0,l+k[O].currency.symbol),i=i.join("")):i=i+l+k[O].currency.symbol;return i}function p(e,t,n){var r,i="",o=100*e._value;return t.indexOf(" %")>-1?(i=" ",t=t.replace(" %","")):t=t.replace("%",""),r=g(o,t,n),r.indexOf(")")>-1?(r=r.split(""),r.splice(-1,0,i+"%"),r=r.join("")):r=r+i+"%",r}function d(e){var t=Math.floor(e._value/60/60),n=Math.floor((e._value-60*t*60)/60),r=Math.round(e._value-60*t*60-60*n);return t+":"+(10>n?"0"+n:n)+":"+(10>r?"0"+r:r)}function v(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}function m(e,t,n){var r,i,o,a=t[0],s=Math.abs(e);if(s>=n){for(r=1;r<t.length;++r)if(i=Math.pow(n,r),o=Math.pow(n,r+1),s>=i&&o>s){a=t[r],e/=i;break}a===t[0]&&(e/=Math.pow(n,t.length-1),a=t[t.length-1])}return{value:e,suffix:a}}function g(e,t,n,r){var i,o,a,u,l,h,f,p,d,v,g,y,b,w,x,_,E,S=!1,M=!1,T=!1,C="",P=!1,R=!1,L=!1,F=!1,j=!1,N="",I="",U=Math.abs(e),B="",$=!1,V=!1,W="";if(0===e&&null!==D)return D;if(!isFinite(e))return""+e;if(0===t.indexOf("{")){var G=t.indexOf("}");if(-1===G)throw Error('Format should also contain a "}"');v=t.slice(1,G),t=t.slice(G+1)}else v="";if(t.indexOf("}")===t.length-1){var H=t.indexOf("{");if(-1===H)throw Error('Format should also contain a "{"');g=t.slice(H+1,-1),t=t.slice(0,H+1)}else g="";var z;for(z=-1===t.indexOf(".")?t.match(/([0-9]+).*/):t.match(/([0-9]+)\..*/),_=null===z?-1:z[1].length,-1!==t.indexOf("-")&&($=!0),t.indexOf("(")>-1?(S=!0,t=t.slice(1,-1)):t.indexOf("+")>-1&&(M=!0,t=t.replace(/\+/g,"")),t.indexOf("a")>-1&&(p=t.split(".")[0].match(/[0-9]+/g)||["0"],p=parseInt(p[0],10),P=t.indexOf("aK")>=0,R=t.indexOf("aM")>=0,L=t.indexOf("aB")>=0,F=t.indexOf("aT")>=0,j=P||R||L||F,t.indexOf(" a")>-1?(C=" ",t=t.replace(" a","")):t=t.replace("a",""),a=Math.floor(Math.log(U)/Math.LN10)+1,l=a%3,l=0===l?3:l,p&&0!==U&&(u=Math.floor(Math.log(U)/Math.LN10)+1-p,h=3*~~((Math.min(p,a)-l)/3),U/=Math.pow(10,h),-1===t.indexOf(".")&&p>3&&(t+="[.]",w=0===u?0:3*~~(u/3)-u,w=0>w?w+3:w,t+=s(w))),Math.floor(Math.log(Math.abs(e))/Math.LN10)+1!==p&&(U>=Math.pow(10,12)&&!j||F?(C+=k[O].abbreviations.trillion,e/=Math.pow(10,12)):U<Math.pow(10,12)&&U>=Math.pow(10,9)&&!j||L?(C+=k[O].abbreviations.billion,e/=Math.pow(10,9)):U<Math.pow(10,9)&&U>=Math.pow(10,6)&&!j||R?(C+=k[O].abbreviations.million,e/=Math.pow(10,6)):(U<Math.pow(10,6)&&U>=Math.pow(10,3)&&!j||P)&&(C+=k[O].abbreviations.thousand,e/=Math.pow(10,3)))),E=0;E<A.length;++E)if(i=A[E],t.indexOf(i.marker)>-1){t.indexOf(" "+i.marker)>-1&&(N=" "),t=t.replace(N+i.marker,""),o=m(e,i.suffixes,i.scale),e=o.value,N+=o.suffix;break}if(t.indexOf("o")>-1&&(t.indexOf(" o")>-1?(I=" ",t=t.replace(" o","")):t=t.replace("o",""),k[O].ordinal&&(I+=k[O].ordinal(e))),t.indexOf("[.]")>-1&&(T=!0,t=t.replace("[.]",".")),f=e.toString().split(".")[0],d=t.split(".")[1],y=t.indexOf(","),d){if(-1!==d.indexOf("*")?B=c(e,e.toString().split(".")[1].length,n):d.indexOf("[")>-1?(d=d.replace("]",""),d=d.split("["),B=c(e,d[0].length+d[1].length,n,d[1].length)):B=c(e,d.length,n),f=B.split(".")[0],B.split(".")[1].length){var q=r?C+r:k[O].delimiters.decimal;B=q+B.split(".")[1]}else B="";T&&0===Number(B.slice(1))&&(B="")}else f=c(e,0,n);return f.indexOf("-")>-1&&(f=f.slice(1),V=!0),f.length<_&&(f=s(_-f.length)+f),y>-1&&(f=f.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+k[O].delimiters.thousands)),0===t.indexOf(".")&&(f=""),b=t.indexOf("("),x=t.indexOf("-"),W=x>b?(S&&V?"(":"")+($&&V||!S&&V?"-":""):($&&V||!S&&V?"-":"")+(S&&V?"(":""),v+W+(!V&&M&&0!==e?"+":"")+f+B+(I?I:"")+(C&&!r?C:"")+(N?N:"")+(S&&V?")":"")+g}function y(e,t){k[e]=t}function b(e){O=e;var t=k[e].defaults;t&&t.format&&E.defaultFormat(t.format),t&&t.currencyFormat&&E.defaultCurrencyFormat(t.currencyFormat)}function w(){return"undefined"!=typeof o&&void 0===o.browser&&(0===o.title.indexOf("node")||"grunt"===o.title||"gulp"===o.title)&&!0}function x(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function _(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(e,t){var n=x(e),r=x(t);return n>r?n:r},-(1/0))}var E,S="1.8.0",M=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],T=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],C={general:{scale:1024,suffixes:T,marker:"bd"},binary:{scale:1024,suffixes:M,marker:"b"},decimal:{scale:1e3,suffixes:T,marker:"d"}},A=[C.general,C.binary,C.decimal],k={},P=k,O="en-US",D=null,R="0,0",L="0$",F="undefined"!=typeof e&&e.exports,j={delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",0000 a"},formats:{fourDigits:"0000 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00"}};E=function(e){return E.isNumbro(e)?e=e.value():0===e||"undefined"==typeof e?e=0:Number(e)||(e=E.fn.unformat(e)),new a(Number(e))},E.version=S,E.isNumbro=function(e){return e instanceof a},E.setLanguage=function(e,t){console.warn("`setLanguage` is deprecated since version 1.6.0. Use `setCulture` instead");var n=e,r=e.split("-")[0],i=null;P[n]||(Object.keys(P).forEach(function(e){i||e.split("-")[0]!==r||(i=e)}),n=i||t||"en-US"),b(n)},E.setCulture=function(e,t){var n=e,r=e.split("-")[1],i=null;k[n]||(r&&Object.keys(k).forEach(function(e){i||e.split("-")[1]!==r||(i=e)}),n=i||t||"en-US"),b(n)},E.language=function(e,t){if(console.warn("`language` is deprecated since version 1.6.0. Use `culture` instead"),!e)return O;if(e&&!t){if(!P[e])throw new Error("Unknown language : "+e);b(e)}return!t&&P[e]||y(e,t),E},E.culture=function(e,t){if(!e)return O;if(e&&!t){if(!k[e])throw new Error("Unknown culture : "+e);b(e)}return!t&&k[e]||y(e,t),E},E.languageData=function(e){if(console.warn("`languageData` is deprecated since version 1.6.0. Use `cultureData` instead"),!e)return P[O];if(!P[e])throw new Error("Unknown language : "+e);return P[e]},E.cultureData=function(e){if(!e)return k[O];if(!k[e])throw new Error("Unknown culture : "+e);return k[e]},E.culture("en-US",j),E.languages=function(){return console.warn("`languages` is deprecated since version 1.6.0. Use `cultures` instead"),P},E.cultures=function(){return k},E.zeroFormat=function(e){D="string"==typeof e?e:null},E.defaultFormat=function(e){R="string"==typeof e?e:"0.0"},E.defaultCurrencyFormat=function(e){L="string"==typeof e?e:"0$"},E.validate=function(e,t){var n,r,i,o,a,s,u,c;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numbro.js: Value is not string. It has been co-erced to: ",e)),e=e.trim(),e.match(/^\d+$/))return!0;if(""===e)return!1;try{u=E.cultureData(t)}catch(l){u=E.cultureData(E.culture())}return i=u.currency.symbol,a=u.abbreviations,n=u.delimiters.decimal,r="."===u.delimiters.thousands?"\\.":u.delimiters.thousands,c=e.match(/^[^\d]+/),null!==c&&(e=e.substr(1),c[0]!==i)?!1:(c=e.match(/[^\d]+$/),null!==c&&(e=e.slice(0,-1),c[0]!==a.thousand&&c[0]!==a.million&&c[0]!==a.billion&&c[0]!==a.trillion)?!1:(s=new RegExp(r+"{2}"),e.match(/[^\d.,]/g)?!1:(o=e.split(n),o.length>2?!1:o.length<2?!!o[0].match(/^\d+.*\d$/)&&!o[0].match(s):1===o[0].length?!!o[0].match(/^\d+$/)&&!o[0].match(s)&&!!o[1].match(/^\d+$/):!!o[0].match(/^\d+.*\d$/)&&!o[0].match(s)&&!!o[1].match(/^\d+$/))))},E.loadLanguagesInNode=function(){console.warn("`loadLanguagesInNode` is deprecated since version 1.6.0. Use `loadCulturesInNode` instead"),E.loadCulturesInNode()},E.loadCulturesInNode=function(){var e=n(246);for(var t in e)t&&E.culture(t,e[t])},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,r,i=this.length>>>0,o=!1;for(1<arguments.length&&(r=t,o=!0),n=0;i>n;++n)this.hasOwnProperty(n)&&(o?r=e(r,this[n],n,this):(r=this[n],o=!0));if(!o)throw new TypeError("Reduce of empty array with no initial value");return r}),E.fn=a.prototype={clone:function(){return E(this)},format:function(e,t){return l(this,e?e:R,void 0!==t?t:Math.round)},formatCurrency:function(e,t){return f(this,e?e:L,void 0!==t?t:Math.round)},unformat:function(e){if("number"==typeof e)return e;if("string"==typeof e){var t=h(this,e);return isNaN(t)?void 0:t}},binaryByteUnits:function(){return m(this._value,C.binary.suffixes,C.binary.scale).suffix},byteUnits:function(){return m(this._value,C.general.suffixes,C.general.scale).suffix},decimalByteUnits:function(){return m(this._value,C.decimal.suffixes,C.decimal.scale).suffix},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){function t(e,t){return e+n*t}var n=_.call(null,this._value,e);return this._value=[this._value,e].reduce(t,0)/n,this},subtract:function(e){function t(e,t){return e-n*t}var n=_.call(null,this._value,e);return this._value=[e].reduce(t,this._value*n)/n,this},multiply:function(e){function t(e,t){var n=_(e,t),r=e*n;return r*=t*n,r/=n*n}return this._value=[this._value,e].reduce(t,1),this},divide:function(e){function t(e,t){var n=_(e,t);return e*n/(t*n)}return this._value=[this._value,e].reduce(t),this},difference:function(e){return Math.abs(E(this._value).subtract(e).value())}},w()&&E.loadCulturesInNode(),F?e.exports=E:("undefined"==typeof ender&&(this.numbro=E),r=[],i=function(){return E}.apply(t,r),!(void 0!==i&&(e.exports=i)))}).call("undefined"==typeof window?this:window)}).call(t,n(91))},function(e,t,n){(function(t){!function(n){function r(){}function i(e,t){return function(){e.apply(t,arguments)}}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(e,this)}function a(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):(e._handled=!0,void p(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?s:u)(t.promise,e._value);var r;try{r=n(e._value)}catch(i){return void u(t.promise,i)}s(t.promise,r)}))}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void h(i(n,t),e)}e._state=1,e._value=t,c(e)}catch(r){u(e,r)}}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&p(function(){e._handled||d(e._value)});for(var t=0,n=e._deferreds.length;n>t;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function h(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,u(t,e))})}catch(r){if(n)return;n=!0,u(t,r)}}var f=setTimeout,p="function"==typeof t&&t||function(e){f(e,0)},d=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};o.prototype["catch"]=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new l(e,t,n)),n},o.all=function(e){var t=Array.prototype.slice.call(e);return new o(function(e,n){function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){r(o,e)},n)}t[o]=a,0===--i&&e(t)}catch(u){n(u)}}if(0===t.length)return e([]);for(var i=t.length,o=0;o<t.length;o++)r(o,t[o])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var r=0,i=e.length;i>r;r++)e[r].then(t,n)})},o._setImmediateFn=function(e){p=e},o._setUnhandledRejectionFn=function(e){d=e},"undefined"!=typeof e&&e.exports?e.exports=o:n.Promise||(n.Promise=o)}(this)}).call(t,n(92).setImmediate)},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;10>n;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(o){return!1}}var i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,a,s=n(e),u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var c in r)i.call(r,c)&&(s[c]=r[c]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(r);for(var l=0;l<a.length;l++)o.call(r,a[l])&&(s[a[l]]=r[a[l]])}}return s}},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,n){"use strict";e.exports=n(117)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(277);var l=n(4),h=r(l),f=n(108),p=n(275),d=r(p),v=function(e){function t(){var e,n,r,s;o(this,t);for(var c=arguments.length,l=Array(c),f=0;c>f;f++)l[f]=arguments[f];return n=r=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.seekTo=function(e){var t=r.refs.player;t&&t.seekTo(e)},r.progress=function(){if(r.props.url&&r.refs.player){var e={},t=r.refs.player.getFractionLoaded(),n=r.refs.player.getFractionPlayed();null!==t&&t!==r.prevLoaded&&(e.loaded=r.prevLoaded=t),null!==n&&n!==r.prevPlayed&&r.props.playing&&(e.played=r.prevPlayed=n),(e.loaded||e.played)&&r.props.onProgress(e)}r.progressTimeout=setTimeout(r.progress,r.props.progressFrequency)},r.renderPlayer=function(e){var t=e.canPlay(r.props.url),n=r.props,o=n.youtubeConfig,a=n.soundcloudConfig,s=n.vimeoConfig,c=i(n,["youtubeConfig","soundcloudConfig","vimeoConfig"]),l=t?u({},c,{ref:"player"}):{};return h["default"].createElement(e,u({key:e.displayName,youtubeConfig:o,soundcloudConfig:a,vimeoConfig:s},l))},s=n,a(r,s)}return s(t,e),c(t,[{key:"componentDidMount",value:function(){this.progress()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout)}},{key:"shouldComponentUpdate",value:function(e){return this.props.url!==e.url||this.props.playing!==e.playing||this.props.volume!==e.volume}},{key:"render",value:function(){var e={width:this.props.width,height:this.props.height};return h["default"].createElement("div",{style:e,className:this.props.className},d["default"].map(this.renderPlayer))}}],[{key:"canPlay",value:function(e){return d["default"].some(function(t){return t.canPlay(e)})}}]),t}(l.Component);v.displayName="ReactPlayer",v.propTypes=f.propTypes,v.defaultProps=f.defaultProps,t["default"]=v,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function b(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:b(i,t,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},c=n(4),l=r(c),h=n(278),f=r(h),p=n(107),d=r(p),v="//api.soundcloud.com/resolve.json",m=/^https?:\/\/(soundcloud.com|snd.sc)\/([a-z0-9-_]+\/[a-z0-9-_]+)$/,g={},y=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;s>c;c++)u[c]=arguments[c];return n=r=o(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={image:null},a=n,o(r,a)}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e,n){return u(Object.getPrototypeOf(t.prototype),"shouldComponentUpdate",this).call(this,e,n)||this.state.image!==n.image}},{key:"getSongData",value:function(e){var t=this;return g[e]?Promise.resolve(g[e]):(0,f["default"])(v+"?url="+e+"&client_id="+this.props.soundcloudConfig.clientId).then(function(n){return n.ok?(g[e]=n.json(),g[e]):void t.props.onError(new Error("SoundCloud track could not be resolved"))})}},{key:"load",value:function(e){var t=this;this.stop(),this.getSongData(e).then(function(n){if(e===t.props.url){if(!n.streamable)return void t.props.onError(new Error("SoundCloud track is not streamable"));var r=n.artwork_url||n.user.avatar_url;r&&t.setState({image:r.replace("-large","-t500x500")}),t.player.src=n.stream_url+"?client_id="+t.props.soundcloudConfig.clientId}},this.props.onError)}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.controls,r={display:t?"block":"none",height:"100%",backgroundImage:this.state.image?"url("+this.state.image+")":null,backgroundSize:"cover",backgroundPosition:"center"};return l["default"].createElement("div",{style:r},l["default"].createElement("audio",{ref:"player",type:"audio/mpeg",preload:"auto",style:{width:"100%",height:"100%"},controls:n}))}}],[{key:"canPlay",value:function(e){return m.test(e)}}]),t}(d["default"]);y.displayName="SoundCloud",t["default"]=y,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function x(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:x(i,t,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=n(4),h=r(l),f=n(280),p=n(69),d=r(p),v="https://player.vimeo.com/video/",m=/https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/,g=/^https?:\/\/player.vimeo.com/,y="https://vimeo.com/127250231",b={api:1,autoplay:0,badge:0,byline:0,fullscreen:1,portrait:0,title:0},w=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;s>c;c++)u[c]=arguments[c];return n=r=o(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.onMessage=function(e){if(g.test(e.origin)){r.origin=r.origin||e.origin;var t=JSON.parse(e.data);"ready"===t.event&&(r.postMessage("getDuration"),r.postMessage("addEventListener","playProgress"),r.postMessage("addEventListener","loadProgress"),r.postMessage("addEventListener","play"),r.postMessage("addEventListener","pause"),r.postMessage("addEventListener","finish")),"playProgress"===t.event&&(r.fractionPlayed=t.data.percent),"loadProgress"===t.event&&(r.fractionLoaded=t.data.percent),"play"===t.event&&r.onPlay(),"pause"===t.event&&r.props.onPause(),"finish"===t.event&&r.onEnded(),"getDuration"===t.method&&(r.duration=t.value,r.onReady())}},r.postMessage=function(e,t){if(r.origin){var n=JSON.stringify({method:e,value:t});return r.iframe.contentWindow&&r.iframe.contentWindow.postMessage(n,r.origin)}},a=n,o(r,a)}return a(t,e),u(t,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.onMessage,!1),this.iframe=this.refs.iframe,!this.props.url&&this.props.vimeoConfig.preload&&(this.preloading=!0,this.load(y)),c(Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this)}},{key:"getIframeParams",value:function(){return s({},b,this.props.vimeoConfig.iframeParams)}},{key:"load",value:function(e){var t=e.match(m)[3];this.iframe.src=v+t+"?"+(0,f.stringify)(this.getIframeParams())}},{key:"play",value:function(){this.postMessage("play")}},{key:"pause",value:function(){this.postMessage("pause")}},{key:"stop",value:function(){this.iframe.src=""}},{key:"seekTo",value:function(e){c(Object.getPrototypeOf(t.prototype),"seekTo",this).call(this,e),this.postMessage("seekTo",this.duration*e)}},{key:"setVolume",value:function(e){this.postMessage("setVolume",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getFractionPlayed",value:function(){return this.fractionPlayed||null}},{key:"getFractionLoaded",value:function(){return this.fractionLoaded||null}},{key:"render",value:function(){var e=this.getIframeParams(),t=e.fullscreen,n={display:this.props.url?"block":"none",width:"100%",height:"100%"};return h["default"].createElement("iframe",{ref:"iframe",frameBorder:"0",style:n,allowFullScreen:t})}}],[{key:"canPlay",value:function(e){return m.test(e)}}]),t}(d["default"]);w.displayName="Vimeo",t["default"]=w,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function T(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:T(i,t,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=n(4),h=r(l),f=n(279),p=r(f),d=n(69),v=r(d),m=n(276),g="https://www.youtube.com/iframe_api",y="YT",b="onYouTubeIframeAPIReady",w=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,x="youtube-player",_="https://www.youtube.com/watch?v=GlCmAC4MHek",E={autoplay:0,playsinline:1,showinfo:0,rel:0,iv_load_policy:3},S=0,M=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;s>c;c++)u[c]=arguments[c];return n=r=o(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.playerId=x+"-"+S++,r.onStateChange=function(e){var t=e.data,n=window[y].PlayerState,i=n.PLAYING,o=n.PAUSED,a=n.BUFFERING,s=n.ENDED,u=n.CUED;t===i&&r.onPlay(),t===o&&r.props.onPause(),t===a&&r.props.onBuffer(),t===s&&r.onEnded(),t===u&&r.onReady()},a=n,o(r,a)}return a(t,e),u(t,[{key:"componentDidMount",value:function(){!this.props.url&&this.props.youtubeConfig.preload&&(this.preloading=!0,this.load(_)),c(Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this)}},{key:"getSDK",value:function(){return window[y]?Promise.resolve(window[y]):new Promise(function(e,t){var n=window[b];window[b]=function(){n&&n(),e(window[y])},(0,p["default"])(g,function(e){e&&t(e)})})}},{key:"load",value:function(e){var t=this,n=e&&e.match(w)[1];return this.isReady?void this.player.cueVideoById({videoId:n,startSeconds:(0,m.parseStartTime)(e)}):this.loadingSDK?void(this.loadOnReady=e):(this.loadingSDK=!0,void this.getSDK().then(function(r){t.player=new r.Player(t.playerId,{width:"100%",height:"100%",videoId:n,playerVars:s({},E,{controls:t.props.controls?1:0},t.props.youtubeConfig.playerVars,{start:(0,m.parseStartTime)(e),origin:window.location.origin}),events:{onReady:function(){t.loadingSDK=!1,t.onReady()},onStateChange:t.onStateChange,onError:function(e){return t.props.onError(e.data)}}})},this.props.onError))}},{key:"play",value:function(){this.isReady&&this.player.playVideo&&this.player.playVideo()}},{key:"pause",value:function(){this.isReady&&this.player.pauseVideo&&this.player.pauseVideo()}},{key:"stop",value:function(){this.isReady&&this.player.stopVideo&&this.player.stopVideo()}},{key:"seekTo",value:function(e){c(Object.getPrototypeOf(t.prototype),"seekTo",this).call(this,e),this.isReady&&this.player.seekTo&&this.player.seekTo(this.getDuration()*e)}},{key:"setVolume",value:function(e){this.isReady&&this.player.setVolume&&this.player.setVolume(100*e)}},{key:"getDuration",value:function(){return this.isReady&&this.player.getDuration?this.player.getDuration():null}},{key:"getFractionPlayed",value:function(){return this.isReady&&this.getDuration()?this.player.getCurrentTime()/this.getDuration():null}},{key:"getFractionLoaded",value:function(){return this.isReady&&this.player.getVideoLoadedFraction?this.player.getVideoLoadedFraction():null}},{key:"render",value:function(){var e={height:"100%",display:this.props.url?"block":"none"};return h["default"].createElement("div",{style:e},h["default"].createElement("div",{id:this.playerId}))}}],[{key:"canPlay",value:function(e){return w.test(e)}}]),t}(v["default"]);M.displayName="YouTube",t["default"]=M,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(274),o=r(i),a=n(272),s=r(a),u=n(273),c=r(u),l=n(107),h=r(l);t["default"]=[o["default"],s["default"],c["default"],h["default"]],e.exports=t["default"]},function(e,t){"use strict";function n(e){var t=e.match(o);if(t){var n=t[1];if(n.match(a))return r(n);if(s.test(n))return parseInt(n,10)}return 0}function r(e){for(var t=0,n=a.exec(e);null!==n;){var r=n,o=i(r,3),s=o[1],u=o[2];"h"===u&&(t+=60*parseInt(s,10)*60),"m"===u&&(t+=60*parseInt(s,10)),"s"===u&&(t+=parseInt(s,10)),n=a.exec(e)}return t}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;
if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.parseStartTime=n;var o=/[\?&#](?:start|t)=([0-9hms]+)/,a=/(\d+)(h|m|s)/g,s=/^\d+$/},function(e,t,n){var r;(function(e,i,o){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   3.2.1
	 */
(function(){"use strict";function a(e){return"function"==typeof e||"object"==typeof e&&null!==e}function s(e){return"function"==typeof e}function u(e){Y=e}function c(e){ee=e}function l(){return function(){e.nextTick(v)}}function h(){return function(){K(v)}}function f(){var e=0,t=new re(v),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function p(){var e=new MessageChannel;return e.port1.onmessage=v,function(){e.port2.postMessage(0)}}function d(){return function(){setTimeout(v,1)}}function v(){for(var e=0;Z>e;e+=2){var t=ae[e],n=ae[e+1];t(n),ae[e]=void 0,ae[e+1]=void 0}Z=0}function m(){try{var e=n(412);return K=e.runOnLoop||e.runOnContext,h()}catch(t){return d()}}function g(e,t){var n=this,r=new this.constructor(b);void 0===r[ce]&&I(r);var i=n._state;if(i){var o=arguments[i-1];ee(function(){F(i,r,o,n._result)})}else O(n,r,e,t);return r}function y(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(b);return C(n,e),n}function b(){}function w(){return new TypeError("You cannot resolve a promise with itself")}function x(){return new TypeError("A promises callback cannot return that same promise.")}function _(e){try{return e.then}catch(t){return pe.error=t,pe}}function E(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function S(e,t,n){ee(function(e){var r=!1,i=E(n,t,function(n){r||(r=!0,t!==n?C(e,n):k(e,n))},function(t){r||(r=!0,P(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,P(e,i))},e)}function M(e,t){t._state===he?k(e,t._result):t._state===fe?P(e,t._result):O(t,void 0,function(t){C(e,t)},function(t){P(e,t)})}function T(e,t,n){t.constructor===e.constructor&&n===se&&constructor.resolve===ue?M(e,t):n===pe?P(e,pe.error):void 0===n?k(e,t):s(n)?S(e,t,n):k(e,t)}function C(e,t){e===t?P(e,w()):a(t)?T(e,t,_(t)):k(e,t)}function A(e){e._onerror&&e._onerror(e._result),D(e)}function k(e,t){e._state===le&&(e._result=t,e._state=he,0!==e._subscribers.length&&ee(D,e))}function P(e,t){e._state===le&&(e._state=fe,e._result=t,ee(A,e))}function O(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+he]=n,i[o+fe]=r,0===o&&e._state&&ee(D,e)}function D(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,i,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?F(n,r,i,o):i(o);e._subscribers.length=0}}function R(){this.error=null}function L(e,t){try{return e(t)}catch(n){return de.error=n,de}}function F(e,t,n,r){var i,o,a,u,c=s(n);if(c){if(i=L(n,r),i===de?(u=!0,o=i.error,i=null):a=!0,t===i)return void P(t,x())}else i=r,a=!0;t._state!==le||(c&&a?C(t,i):u?P(t,o):e===he?k(t,i):e===fe&&P(t,i))}function j(e,t){try{t(function(t){C(e,t)},function(t){P(e,t)})}catch(n){P(e,n)}}function N(){return ve++}function I(e){e[ce]=ve++,e._state=void 0,e._result=void 0,e._subscribers=[]}function U(e){return new we(this,e).promise}function B(e){var t=this;return new t(J(e)?function(n,r){for(var i=e.length,o=0;i>o;o++)t.resolve(e[o]).then(n,r)}:function(e,t){t(new TypeError("You must pass an array to race."))})}function $(e){var t=this,n=new t(b);return P(n,e),n}function V(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function W(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function G(e){this[ce]=N(),this._result=this._state=void 0,this._subscribers=[],b!==e&&("function"!=typeof e&&V(),this instanceof G?j(this,e):W())}function H(e,t){this._instanceConstructor=e,this.promise=new e(b),this.promise[ce]||I(this.promise),J(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&k(this.promise,this._result))):P(this.promise,z())}function z(){return new Error("Array Methods must be provided an Array")}function q(){var e;if("undefined"!=typeof i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;n&&"[object Promise]"===Object.prototype.toString.call(n.resolve())&&!n.cast||(e.Promise=be)}var X;X=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var K,Y,Q,J=X,Z=0,ee=function(e,t){ae[Z]=e,ae[Z+1]=t,Z+=2,2===Z&&(Y?Y(v):Q())},te="undefined"!=typeof window?window:void 0,ne=te||{},re=ne.MutationObserver||ne.WebKitMutationObserver,ie="undefined"==typeof self&&"undefined"!=typeof e&&"[object process]"==={}.toString.call(e),oe="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ae=new Array(1e3);Q=ie?l():re?f():oe?p():void 0===te?m():d();var se=g,ue=y,ce=Math.random().toString(36).substring(16),le=void 0,he=1,fe=2,pe=new R,de=new R,ve=0,me=U,ge=B,ye=$,be=G;G.all=me,G.race=ge,G.resolve=ue,G.reject=ye,G._setScheduler=u,G._setAsap=c,G._asap=ee,G.prototype={constructor:G,then:se,"catch":function(e){return this.then(null,e)}};var we=H;H.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===le&&e>n;n++)this._eachEntry(t[n],n)},H.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===ue){var i=_(e);if(i===se&&e._state!==le)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===be){var o=new n(b);T(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){t(e)}),t)}else this._willSettleAt(r(e),t)},H.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===le&&(this._remaining--,e===fe?P(r,n):this._result[t]=n),0===this._remaining&&k(r,this._result)},H.prototype._willSettleAt=function(e,t){var n=this;O(e,void 0,function(e){n._settledAt(he,t,e)},function(e){n._settledAt(fe,t,e)})};var xe=q,_e={Promise:be,polyfill:xe};n(410).amd?(r=function(){return _e}.call(t,n,t,o),!(void 0!==r&&(o.exports=r))):"undefined"!=typeof o&&o.exports?o.exports=_e:"undefined"!=typeof this&&(this.ES6Promise=_e),xe()}).call(this)}).call(t,n(91),function(){return this}(),n(157)(e))},function(e,t,n){var r,i,o;!function(n,a){i=[t,e],r=a,o="function"==typeof r?r.apply(t,i):r,!(void 0!==o&&(e.exports=o))}(this,function(e,t){"use strict";function n(){return"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}function r(e){try{delete window[e]}catch(t){window[e]=void 0}}function i(e){var t=document.getElementById(e);document.getElementsByTagName("head")[0].removeChild(t)}var o={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null},a=function(e){var t=void 0===arguments[1]?{}:arguments[1],a=null!=t.timeout?t.timeout:o.timeout,s=null!=t.jsonpCallback?t.jsonpCallback:o.jsonpCallback,u=void 0;return new Promise(function(o,c){var l=t.jsonpCallbackFunction||n();window[l]=function(e){o({ok:!0,json:function(){return Promise.resolve(e)}}),u&&clearTimeout(u),i(s+"_"+l),r(l)},e+=-1===e.indexOf("?")?"?":"&";var h=document.createElement("script");h.setAttribute("src",e+s+"="+l),h.id=s+"_"+l,document.getElementsByTagName("head")[0].appendChild(h),u=setTimeout(function(){c(new Error("JSONP request to "+e+" timed out")),r(l),i(s+"_"+l)},a)})};t.exports=a})},function(e,t){function n(e,t){for(var n in t)e.setAttribute(n,t[n])}function r(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function i(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,o){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");"function"==typeof t&&(o=t,t={}),t=t||{},o=o||function(){},s.type=t.type||"text/javascript",s.charset=t.charset||"utf8",s.async="async"in t?!!t.async:!0,s.src=e,t.attrs&&n(s,t.attrs),t.text&&(s.text=""+t.text);var u="onload"in s?r:i;u(s,o),s.onload||r(s,o),a.appendChild(s)}},function(e,t,n){"use strict";function r(e,t){return t.encode?t.strict?i(e):encodeURIComponent(e):e}var i=n(282),o=n(281);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e){var t=Object.create(null);return"string"!=typeof e?t:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var n=e.replace(/\+/g," ").split("="),r=n.shift(),i=n.length>0?n.join("="):void 0;r=decodeURIComponent(r),i=void 0===i?null:decodeURIComponent(i),void 0===t[r]?t[r]=i:Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]}),t):t},t.stringify=function(e,t){var n={encode:!0,strict:!0};return t=o(n,t),e?Object.keys(e).sort().map(function(n){var i=e[n];if(void 0===i)return"";if(null===i)return n;if(Array.isArray(i)){var o=[];return i.slice().forEach(function(e){void 0!==e&&(null===e?o.push(r(n,t)):o.push(r(n,t)+"="+r(e,t)))}),o.join("&")}return r(n,t)+"="+r(i,t)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;10>n;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(o){return!1}}var i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,a,s=n(e),u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var c in r)i.call(r,c)&&(s[c]=r[c]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(r);for(var l=0;l<a.length;l++)o.call(r,a[l])&&(s[a[l]]=r[a[l]])}}return s}},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t["default"]=void 0;var s=n(4),u=n(109),c=r(u),l=n(110),h=(r(l),function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n,r));return a.store=n.store,a}return a(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){var e=this.props.children;return s.Children.only(e)},t}(s.Component));t["default"]=h,h.propTypes={store:c["default"].isRequired,children:s.PropTypes.element.isRequired},h.childContextTypes={store:c["default"].isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.displayName||e.name||"Component"}function u(e,t){try{return e.apply(t)}catch(n){return C.value=n,C}}function c(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],c=Boolean(e),f=e||S,d=void 0;d="function"==typeof t?t:t?(0,g["default"])(t):M;var m=n||T,y=r.pure,b=void 0===y?!0:y,w=r.withRef,_=void 0===w?!1:w,k=b&&m!==T,P=A++;return function(e){function t(e,t,n){var r=m(e,t,n);return r}var n="Connect("+s(e)+")",r=function(r){function s(e,t){i(this,s);var a=o(this,r.call(this,e,t));a.version=P,a.store=e.store||t.store,(0,E["default"])(a.store,'Could not find "store" in either the context or '+('props of "'+n+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+n+'".'));var u=a.store.getState();return a.state={storeState:u},a.clearCache(),a}return a(s,r),s.prototype.shouldComponentUpdate=function(){return!b||this.haveOwnPropsChanged||this.hasStoreStateChanged},s.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var n=e.getState(),r=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n);return r},s.prototype.configureFinalMapState=function(e,t){var n=f(e.getState(),t),r="function"==typeof n;return this.finalMapStateToProps=r?n:f,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(e,t):n},s.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var n=e.dispatch,r=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n);return r},s.prototype.configureFinalMapDispatch=function(e,t){var n=d(e.dispatch,t),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:d,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(e,t):n},s.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return this.stateProps&&(0,v["default"])(e,this.stateProps)?!1:(this.stateProps=e,!0)},s.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return this.dispatchProps&&(0,v["default"])(e,this.dispatchProps)?!1:(this.dispatchProps=e,!0)},s.prototype.updateMergedPropsIfNeeded=function(){var e=t(this.stateProps,this.dispatchProps,this.props);return this.mergedProps&&k&&(0,v["default"])(e,this.mergedProps)?!1:(this.mergedProps=e,!0)},s.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},s.prototype.trySubscribe=function(){c&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},s.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},s.prototype.componentDidMount=function(){this.trySubscribe()},s.prototype.componentWillReceiveProps=function(e){b&&(0,v["default"])(e,this.props)||(this.haveOwnPropsChanged=!0)},s.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},s.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},s.prototype.handleChange=function(){if(this.unsubscribe){var e=this.store.getState(),t=this.state.storeState;if(!b||t!==e){if(b&&!this.doStatePropsDependOnOwnProps){var n=u(this.updateStatePropsIfNeeded,this);if(!n)return;n===C&&(this.statePropsPrecalculationError=C.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:e})}}},s.prototype.getWrappedInstance=function(){return(0,E["default"])(_,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},s.prototype.render=function(){var t=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.haveStatePropsBeenPrecalculated,i=this.statePropsPrecalculationError,o=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,i)throw i;var a=!0,s=!0;b&&o&&(a=n||t&&this.doStatePropsDependOnOwnProps,s=t&&this.doDispatchPropsDependOnOwnProps);var u=!1,c=!1;r?u=!0:a&&(u=this.updateStatePropsIfNeeded()),s&&(c=this.updateDispatchPropsIfNeeded());var f=!0;return f=u||c||t?this.updateMergedPropsIfNeeded():!1,!f&&o?o:(_?this.renderedElement=(0,h.createElement)(e,l({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=(0,h.createElement)(e,this.mergedProps),this.renderedElement)},s}(h.Component);return r.displayName=n,r.WrappedComponent=e,r.contextTypes={store:p["default"]},r.propTypes={store:p["default"]},(0,x["default"])(r,e)}}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.__esModule=!0,t["default"]=c;var h=n(4),f=n(109),p=r(f),d=n(285),v=r(d),m=n(286),g=r(m),y=n(110),b=(r(y),n(292)),w=(r(b),n(287)),x=r(w),_=n(288),E=r(_),S=function(e){return{}},M=function(e){return{dispatch:e}},T=function(e,t,n){return l({},n,e,t)},C={value:null},A=0},function(e,t){"use strict";function n(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty,o=0;o<n.length;o++)if(!i.call(t,n[o])||e[n[o]]!==t[n[o]])return!1;return!0}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e){return function(t){return(0,i.bindActionCreators)(e,t)}}t.__esModule=!0,t["default"]=r;var i=n(89)},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0};e.exports=function(e,t){if("string"!=typeof t)for(var i=Object.getOwnPropertyNames(t),o=0;o<i.length;++o)if(!n[i[o]]&&!r[i[o]])try{e[i[o]]=t[i[o]]}catch(a){}return e}},function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;u=new Error(t.replace(/%s/g,function(){return c[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=r},function(e,t){function n(e){return r(Object(e))}var r=Object.getPrototypeOf;e.exports=n},function(e,t){function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}e.exports=n},function(e,t){function n(e){return!!e&&"object"==typeof e}e.exports=n},function(e,t,n){function r(e){if(!a(e)||f.call(e)!=s||o(e))return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==h}var i=n(289),o=n(290),a=n(291),s="[object Object]",u=Object.prototype,c=Function.prototype.toString,l=u.hasOwnProperty,h=c.call(Object),f=u.toString;e.exports=r},function(e,t,n){"use strict";var r=n(6),i=n(78),o=n(141),a={componentDidMount:function(){this.props.autoFocus&&o(i(this))}},s={Mixin:a,focusDOMComponent:function(){o(r.getNode(this._rootNodeID))}};e.exports=s},function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function i(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function o(e){switch(e){case A.topCompositionStart:return k.compositionStart;case A.topCompositionEnd:return k.compositionEnd;case A.topCompositionUpdate:return k.compositionUpdate}}function a(e,t){return e===A.topKeyDown&&t.keyCode===x}function s(e,t){switch(e){case A.topKeyUp:return-1!==w.indexOf(t.keyCode);case A.topKeyDown:return t.keyCode!==x;case A.topKeyPress:case A.topMouseDown:case A.topBlur:return!0;default:return!1}}function u(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function c(e,t,n,r,i){var c,l;if(_?c=o(e):O?s(e,r)&&(c=k.compositionEnd):a(e,r)&&(c=k.compositionStart),!c)return null;M&&(O||c!==k.compositionStart?c===k.compositionEnd&&O&&(l=O.getData()):O=m.getPooled(t));var h=g.getPooled(c,n,r,i);if(l)h.data=l;else{var f=u(r);null!==f&&(h.data=f)}return d.accumulateTwoPhaseDispatches(h),h}function l(e,t){switch(e){case A.topCompositionEnd:return u(t);case A.topKeyPress:var n=t.which;return n!==T?null:(P=!0,C);case A.topTextInput:var r=t.data;return r===C&&P?null:r;default:return null}}function h(e,t){if(O){if(e===A.topCompositionEnd||s(e,t)){var n=O.getData();return m.release(O),O=null,n}return null}switch(e){case A.topPaste:return null;case A.topKeyPress:return t.which&&!i(t)?String.fromCharCode(t.which):null;case A.topCompositionEnd:return M?null:t.data;default:return null}}function f(e,t,n,r,i){var o;if(o=S?l(e,r):h(e,r),!o)return null;var a=y.getPooled(k.beforeInput,n,r,i);return a.data=o,d.accumulateTwoPhaseDispatches(a),a}var p=n(17),d=n(36),v=n(5),m=n(302),g=n(332),y=n(335),b=n(22),w=[9,13,27,32],x=229,_=v.canUseDOM&&"CompositionEvent"in window,E=null;v.canUseDOM&&"documentMode"in document&&(E=document.documentMode);var S=v.canUseDOM&&"TextEvent"in window&&!E&&!r(),M=v.canUseDOM&&(!_||E&&E>8&&11>=E),T=32,C=String.fromCharCode(T),A=p.topLevelTypes,k={beforeInput:{phasedRegistrationNames:{bubbled:b({onBeforeInput:null}),captured:b({onBeforeInputCapture:null})},dependencies:[A.topCompositionEnd,A.topKeyPress,A.topTextInput,A.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:b({onCompositionEnd:null}),captured:b({onCompositionEndCapture:null})},dependencies:[A.topBlur,A.topCompositionEnd,A.topKeyDown,A.topKeyPress,A.topKeyUp,A.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:b({onCompositionStart:null}),captured:b({onCompositionStartCapture:null})},dependencies:[A.topBlur,A.topCompositionStart,A.topKeyDown,A.topKeyPress,A.topKeyUp,A.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:b({onCompositionUpdate:null}),captured:b({onCompositionUpdateCapture:null})},dependencies:[A.topBlur,A.topCompositionUpdate,A.topKeyDown,A.topKeyPress,A.topKeyUp,A.topMouseDown]}},P=!1,O=null,D={eventTypes:k,extractEvents:function(e,t,n,r,i){return[c(e,t,n,r,i),f(e,t,n,r,i)]}};e.exports=D},function(e,t,n){"use strict";var r=n(111),i=n(5),o=n(10),a=(n(349),n(340)),s=n(354),u=n(358),c=(n(3),u(function(e){return s(e)})),l=!1,h="cssFloat";if(i.canUseDOM){var f=document.createElement("div").style;try{f.font=""}catch(p){l=!0}void 0===document.documentElement.style.cssFloat&&(h="styleFloat")}var d={createMarkupForStyles:function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];null!=r&&(t+=c(n)+":",t+=a(n,r)+";")}return t||null},setValueForStyles:function(e,t){var n=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=a(i,t[i]);if("float"===i&&(i=h),o)n[i]=o;else{var s=l&&r.shorthandPropertyExpansions[i];if(s)for(var u in s)n[u]="";else n[i]=""}}}};o.measureMethods(d,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),e.exports=d},function(e,t,n){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function i(e){var t=E.getPooled(k.change,O,e,S(e));w.accumulateTwoPhaseDispatches(t),_.batchedUpdates(o,t)}function o(e){b.enqueueEvents(e),b.processEventQueue(!1)}function a(e,t){P=e,O=t,P.attachEvent("onchange",i)}function s(){P&&(P.detachEvent("onchange",i),P=null,O=null)}function u(e,t,n){return e===A.topChange?n:void 0}function c(e,t,n){e===A.topFocus?(s(),a(t,n)):e===A.topBlur&&s()}function l(e,t){P=e,O=t,D=e.value,R=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(P,"value",j),P.attachEvent("onpropertychange",f)}function h(){P&&(delete P.value,P.detachEvent("onpropertychange",f),P=null,O=null,D=null,R=null)}function f(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==D&&(D=t,i(e))}}function p(e,t,n){return e===A.topInput?n:void 0}function d(e,t,n){e===A.topFocus?(h(),l(t,n)):e===A.topBlur&&h()}function v(e,t,n){return e!==A.topSelectionChange&&e!==A.topKeyUp&&e!==A.topKeyDown||!P||P.value===D?void 0:(D=P.value,O)}function m(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function g(e,t,n){return e===A.topClick?n:void 0}var y=n(17),b=n(35),w=n(36),x=n(5),_=n(11),E=n(26),S=n(81),M=n(84),T=n(138),C=n(22),A=y.topLevelTypes,k={change:{phasedRegistrationNames:{bubbled:C({onChange:null}),captured:C({onChangeCapture:null})},dependencies:[A.topBlur,A.topChange,A.topClick,A.topFocus,A.topInput,A.topKeyDown,A.topKeyUp,A.topSelectionChange]}},P=null,O=null,D=null,R=null,L=!1;x.canUseDOM&&(L=M("change")&&(!("documentMode"in document)||document.documentMode>8));var F=!1;x.canUseDOM&&(F=M("input")&&(!("documentMode"in document)||document.documentMode>9));var j={get:function(){return R.get.call(this)},set:function(e){D=""+e,R.set.call(this,e)}},N={eventTypes:k,extractEvents:function(e,t,n,i,o){var a,s;if(r(t)?L?a=u:s=c:T(t)?F?a=p:(a=v,s=d):m(t)&&(a=g),a){var l=a(e,t,n);if(l){var h=E.getPooled(k.change,l,i,o);return h.type="change",w.accumulateTwoPhaseDispatches(h),h}}s&&s(e,t,n)}};e.exports=N},function(e,t){"use strict";var n=0,r={createReactRootIndex:function(){return n++}};e.exports=r},function(e,t,n){"use strict";function r(e){return e.substring(1,e.indexOf(" "))}var i=n(5),o=n(351),a=n(13),s=n(143),u=n(1),c=/^(<[^ \/>]+)/,l="data-danger-index",h={dangerouslyRenderMarkup:function(e){i.canUseDOM?void 0:u(!1);for(var t,n={},h=0;h<e.length;h++)e[h]?void 0:u(!1),t=r(e[h]),t=s(t)?t:"*",n[t]=n[t]||[],n[t][h]=e[h];var f=[],p=0;for(t in n)if(n.hasOwnProperty(t)){var d,v=n[t];for(d in v)if(v.hasOwnProperty(d)){var m=v[d];v[d]=m.replace(c,"$1 "+l+'="'+d+'" ')}for(var g=o(v.join(""),a),y=0;y<g.length;++y){var b=g[y];b.hasAttribute&&b.hasAttribute(l)&&(d=+b.getAttribute(l),b.removeAttribute(l),f.hasOwnProperty(d)?u(!1):void 0,f[d]=b,p+=1)}}return p!==f.length?u(!1):void 0,f.length!==e.length?u(!1):void 0,f},dangerouslyReplaceNodeWithMarkup:function(e,t){i.canUseDOM?void 0:u(!1),t?void 0:u(!1),"html"===e.tagName.toLowerCase()?u(!1):void 0;var n;n="string"==typeof t?o(t,a)[0]:t,e.parentNode.replaceChild(n,e)}};e.exports=h},function(e,t,n){"use strict";var r=n(22),i=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];e.exports=i},function(e,t,n){"use strict";var r=n(17),i=n(36),o=n(52),a=n(6),s=n(22),u=r.topLevelTypes,c=a.getFirstReactDOM,l={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}},h=[null,null],f={eventTypes:l,extractEvents:function(e,t,n,r,s){if(e===u.topMouseOver&&(r.relatedTarget||r.fromElement))return null;if(e!==u.topMouseOut&&e!==u.topMouseOver)return null;var f;if(t.window===t)f=t;else{var p=t.ownerDocument;f=p?p.defaultView||p.parentWindow:window}var d,v,m="",g="";if(e===u.topMouseOut?(d=t,m=n,v=c(r.relatedTarget||r.toElement),v?g=a.getID(v):v=f,v=v||f):(d=f,v=t,g=n),d===v)return null;var y=o.getPooled(l.mouseLeave,m,r,s);y.type="mouseleave",y.target=d,y.relatedTarget=v;var b=o.getPooled(l.mouseEnter,g,r,s);return b.type="mouseenter",b.target=v,b.relatedTarget=d,i.accumulateEnterLeaveDispatches(y,b,m,g),h[0]=y,h[1]=b,h}};e.exports=f},function(e,t,n){"use strict";function r(e){return e===m.topMouseUp||e===m.topTouchEnd||e===m.topTouchCancel}function i(e){return e===m.topMouseMove||e===m.topTouchMove}function o(e){return e===m.topMouseDown||e===m.topTouchStart}function a(e,t,n,r){var i=e.type||"unknown-event";e.currentTarget=v.Mount.getNode(r),t?p.invokeGuardedCallbackWithCatch(i,n,e,r):p.invokeGuardedCallback(i,n,e,r),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,r=e._dispatchIDs;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)a(e,t,n[i],r[i]);else n&&a(e,t,n,r);e._dispatchListeners=null,e._dispatchIDs=null}function u(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function c(e){var t=u(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function l(e){var t=e._dispatchListeners,n=e._dispatchIDs;Array.isArray(t)?d(!1):void 0;var r=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,r}function h(e){return!!e._dispatchListeners}var f=n(17),p=n(126),d=n(1),v=(n(3),{Mount:null,injectMount:function(e){v.Mount=e}}),m=f.topLevelTypes,g={isEndish:r,isMoveish:i,isStartish:o,executeDirectDispatch:l,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:c,hasDispatches:h,getNode:function(e){return v.Mount.getNode(e)},getID:function(e){return v.Mount.getID(e)},injection:v};e.exports=g},function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var i=n(21),o=n(2),a=n(137);o(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,i=this.getText(),o=i.length;for(e=0;r>e&&n[e]===i[e];e++);var a=r-e;for(t=1;a>=t&&n[r-t]===i[o-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=i.slice(e,s),this._fallbackText}}),i.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";var r,i=n(29),o=n(5),a=i.injection.MUST_USE_ATTRIBUTE,s=i.injection.MUST_USE_PROPERTY,u=i.injection.HAS_BOOLEAN_VALUE,c=i.injection.HAS_SIDE_EFFECTS,l=i.injection.HAS_NUMERIC_VALUE,h=i.injection.HAS_POSITIVE_NUMERIC_VALUE,f=i.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(o.canUseDOM){var p=document.implementation;r=p&&p.hasFeature&&p.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var d={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:a|u,allowTransparency:a,alt:null,async:u,autoComplete:null,autoPlay:u,capture:a|u,cellPadding:null,cellSpacing:null,charSet:a,challenge:a,checked:s|u,classID:a,className:r?a:s,cols:a|h,colSpan:null,content:null,contentEditable:null,contextMenu:a,controls:s|u,coords:null,crossOrigin:null,data:null,dateTime:a,"default":u,defer:u,dir:null,disabled:a|u,download:f,draggable:null,encType:null,form:a,formAction:a,formEncType:a,formMethod:a,formNoValidate:u,formTarget:a,frameBorder:a,headers:null,height:a,hidden:a|u,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:s,inputMode:a,integrity:null,is:a,keyParams:a,keyType:a,kind:null,label:null,lang:null,list:a,loop:s|u,low:null,manifest:a,marginHeight:null,marginWidth:null,max:null,maxLength:a,media:a,mediaGroup:null,method:null,min:null,minLength:a,multiple:s|u,muted:s|u,name:null,nonce:a,noValidate:u,open:u,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:s|u,rel:null,required:u,reversed:u,role:a,rows:a|h,rowSpan:null,sandbox:null,scope:null,scoped:u,scrolling:null,seamless:a|u,selected:s|u,shape:null,size:a|h,sizes:a,span:h,spellCheck:null,src:null,srcDoc:s,srcLang:null,srcSet:a,start:l,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:s|c,width:a,wmode:a,wrap:null,about:a,datatype:a,inlist:a,prefix:a,property:a,resource:a,"typeof":a,vocab:a,autoCapitalize:a,autoCorrect:a,autoSave:null,color:null,itemProp:a,itemScope:a|u,itemType:a,itemID:a,itemRef:a,results:null,security:a,unselectable:a},DOMAttributeNames:{acceptCharset:"accept-charset",
className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};e.exports=d},function(e,t,n){"use strict";var r=n(117),i=n(314),o=n(319),a=n(2),s=n(341),u={};a(u,o),a(u,{findDOMNode:s("findDOMNode","ReactDOM","react-dom",r,r.findDOMNode),render:s("render","ReactDOM","react-dom",r,r.render),unmountComponentAtNode:s("unmountComponentAtNode","ReactDOM","react-dom",r,r.unmountComponentAtNode),renderToString:s("renderToString","ReactDOMServer","react-dom/server",i,i.renderToString),renderToStaticMarkup:s("renderToStaticMarkup","ReactDOMServer","react-dom/server",i,i.renderToStaticMarkup)}),u.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r,u.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i,e.exports=u},function(e,t,n){"use strict";var r=(n(37),n(78)),i=(n(3),"_getDOMNodeDidWarn"),o={getDOMNode:function(){return this.constructor[i]=!0,r(this)}};e.exports=o},function(e,t,n){"use strict";function r(e,t,n){var r=void 0===e[n];null!=t&&r&&(e[n]=o(t,null))}var i=n(25),o=n(83),a=n(86),s=n(87),u=(n(3),{instantiateChildren:function(e,t,n){if(null==e)return null;var i={};return s(e,r,i),i},updateChildren:function(e,t,n,r){if(!t&&!e)return null;var s;for(s in t)if(t.hasOwnProperty(s)){var u=e&&e[s],c=u&&u._currentElement,l=t[s];if(null!=u&&a(c,l))i.receiveComponent(u,l,n,r),t[s]=u;else{u&&i.unmountComponent(u,s);var h=o(l,null);t[s]=h}}for(s in e)!e.hasOwnProperty(s)||t&&t.hasOwnProperty(s)||i.unmountComponent(e[s]);return t},unmountChildren:function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];i.unmountComponent(n)}}});e.exports=u},function(e,t,n){"use strict";function r(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}function i(e){}var o=n(74),a=n(18),s=n(8),u=n(37),c=n(10),l=n(51),h=(n(50),n(25)),f=n(76),p=n(2),d=n(39),v=n(1),m=n(86);n(3);i.prototype.render=function(){var e=u.get(this)._currentElement.type;return e(this.props,this.context,this.updater)};var g=1,y={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(e,t,n){this._context=n,this._mountOrder=g++,this._rootNodeID=e;var r,o,a=this._processProps(this._currentElement.props),c=this._processContext(n),l=this._currentElement.type,p="prototype"in l;p&&(r=new l(a,c,f)),p&&null!==r&&r!==!1&&!s.isValidElement(r)||(o=r,r=new i(l)),r.props=a,r.context=c,r.refs=d,r.updater=f,this._instance=r,u.set(r,this);var m=r.state;void 0===m&&(r.state=m=null),"object"!=typeof m||Array.isArray(m)?v(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,r.componentWillMount&&(r.componentWillMount(),this._pendingStateQueue&&(r.state=this._processPendingState(r.props,r.context))),void 0===o&&(o=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(o);var y=h.mountComponent(this._renderedComponent,e,t,this._processChildContext(n));return r.componentDidMount&&t.getReactMountReady().enqueue(r.componentDidMount,r),y},unmountComponent:function(){var e=this._instance;e.componentWillUnmount&&e.componentWillUnmount(),h.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,u.remove(e)},_maskContext:function(e){var t=null,n=this._currentElement.type,r=n.contextTypes;if(!r)return d;t={};for(var i in r)t[i]=e[i];return t},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t=this._currentElement.type,n=this._instance,r=n.getChildContext&&n.getChildContext();if(r){"object"!=typeof t.childContextTypes?v(!1):void 0;for(var i in r)i in t.childContextTypes?void 0:v(!1);return p({},e,r)}return e},_processProps:function(e){return e},_checkPropTypes:function(e,t,n){var i=this.getName();for(var o in e)if(e.hasOwnProperty(o)){var a;try{"function"!=typeof e[o]?v(!1):void 0,a=e[o](t,o,i,n)}catch(s){a=s}if(a instanceof Error){r(this);n===l.prop}}},receiveComponent:function(e,t,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(t,r,e,i,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&h.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(e,t,n,r,i){var o,a=this._instance,s=this._context===i?a.context:this._processContext(i);t===n?o=n.props:(o=this._processProps(n.props),a.componentWillReceiveProps&&a.componentWillReceiveProps(o,s));var u=this._processPendingState(o,s),c=this._pendingForceUpdate||!a.shouldComponentUpdate||a.shouldComponentUpdate(o,u,s);c?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,o,u,s,e,i)):(this._currentElement=n,this._context=i,a.props=o,a.state=u,a.context=s)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(i&&1===r.length)return r[0];for(var o=p({},i?r[0]:n.state),a=i?1:0;a<r.length;a++){var s=r[a];p(o,"function"==typeof s?s.call(n,o,e,t):s)}return o},_performComponentUpdate:function(e,t,n,r,i,o){var a,s,u,c=this._instance,l=Boolean(c.componentDidUpdate);l&&(a=c.props,s=c.state,u=c.context),c.componentWillUpdate&&c.componentWillUpdate(t,n,r),this._currentElement=e,this._context=o,c.props=t,c.state=n,c.context=r,this._updateRenderedComponent(i,o),l&&i.getReactMountReady().enqueue(c.componentDidUpdate.bind(c,a,s,u),c)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent();if(m(r,i))h.receiveComponent(n,i,e,this._processChildContext(t));else{var o=this._rootNodeID,a=n._rootNodeID;h.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(i);var s=h.mountComponent(this._renderedComponent,o,e,this._processChildContext(t));this._replaceNodeWithMarkupByID(a,s)}},_replaceNodeWithMarkupByID:function(e,t){o.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return t},_renderValidatedComponent:function(){var e;a.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{a.current=null}return null===e||e===!1||s.isValidElement(e)?void 0:v(!1),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?v(!1):void 0;var r=t.getPublicInstance(),i=n.refs===d?n.refs={}:n.refs;i[e]=r},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof i?null:e},_instantiateReactComponent:null};c.measureMethods(y,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var b={Mixin:y};e.exports=b},function(e,t){"use strict";var n={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},r={getNativeProps:function(e,t,r){if(!t.disabled)return t;var i={};for(var o in t)t.hasOwnProperty(o)&&!n[o]&&(i[o]=t[o]);return i}};e.exports=r},function(e,t,n){"use strict";function r(){return this}function i(){var e=this._reactInternalComponent;return!!e}function o(){}function a(e,t){var n=this._reactInternalComponent;n&&(D.enqueueSetPropsInternal(n,e),t&&D.enqueueCallbackInternal(n,t))}function s(e,t){var n=this._reactInternalComponent;n&&(D.enqueueReplacePropsInternal(n,e),t&&D.enqueueCallbackInternal(n,t))}function u(e,t){t&&(null!=t.dangerouslySetInnerHTML&&(null!=t.children?j(!1):void 0,"object"==typeof t.dangerouslySetInnerHTML&&z in t.dangerouslySetInnerHTML?void 0:j(!1)),null!=t.style&&"object"!=typeof t.style?j(!1):void 0)}function c(e,t,n,r){var i=k.findReactContainerForID(e);if(i){var o=i.nodeType===q?i.ownerDocument:i;$(t,o)}r.getReactMountReady().enqueue(l,{id:e,registrationName:t,listener:n})}function l(){var e=this;_.putListener(e.id,e.registrationName,e.listener)}function h(){var e=this;e._rootNodeID?void 0:j(!1);var t=k.getNode(e._rootNodeID);switch(t?void 0:j(!1),e._tag){case"iframe":e._wrapperState.listeners=[_.trapBubbledEvent(x.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in X)X.hasOwnProperty(n)&&e._wrapperState.listeners.push(_.trapBubbledEvent(x.topLevelTypes[n],X[n],t));break;case"img":e._wrapperState.listeners=[_.trapBubbledEvent(x.topLevelTypes.topError,"error",t),_.trapBubbledEvent(x.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[_.trapBubbledEvent(x.topLevelTypes.topReset,"reset",t),_.trapBubbledEvent(x.topLevelTypes.topSubmit,"submit",t)]}}function f(){M.mountReadyWrapper(this)}function p(){C.postUpdateWrapper(this)}function d(e){Z.call(J,e)||(Q.test(e)?void 0:j(!1),J[e]=!0)}function v(e,t){return e.indexOf("-")>=0||null!=t.is}function m(e){d(e),this._tag=e.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null}var g=n(293),y=n(295),b=n(29),w=n(71),x=n(17),_=n(49),E=n(73),S=n(308),M=n(311),T=n(312),C=n(119),A=n(315),k=n(6),P=n(320),O=n(10),D=n(76),R=n(2),L=n(54),F=n(55),j=n(1),N=(n(84),n(22)),I=n(56),U=n(85),B=(n(144),n(88),n(3),_.deleteListener),$=_.listenTo,V=_.registrationNameModules,W={string:!0,number:!0},G=N({children:null}),H=N({style:null}),z=N({__html:null}),q=1,X={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},K={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Y={listing:!0,pre:!0,textarea:!0},Q=(R({menuitem:!0},K),/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/),J={},Z={}.hasOwnProperty;m.displayName="ReactDOMComponent",m.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,n){this._rootNodeID=e;var r=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(h,this);break;case"button":r=S.getNativeProps(this,r,n);break;case"input":M.mountWrapper(this,r,n),r=M.getNativeProps(this,r,n);break;case"option":T.mountWrapper(this,r,n),r=T.getNativeProps(this,r,n);break;case"select":C.mountWrapper(this,r,n),r=C.getNativeProps(this,r,n),n=C.processChildContext(this,r,n);break;case"textarea":A.mountWrapper(this,r,n),r=A.getNativeProps(this,r,n)}u(this,r);var i;if(t.useCreateElement){var o=n[k.ownerDocumentContextKey],a=o.createElement(this._currentElement.type);w.setAttributeForID(a,this._rootNodeID),k.getID(a),this._updateDOMProperties({},r,t,a),this._createInitialChildren(t,r,n,a),i=a}else{var s=this._createOpenTagMarkupAndPutListeners(t,r),c=this._createContentMarkup(t,r,n);i=!c&&K[this._tag]?s+"/>":s+">"+c+"</"+this._currentElement.type+">"}switch(this._tag){case"input":t.getReactMountReady().enqueue(f,this);case"button":case"select":case"textarea":r.autoFocus&&t.getReactMountReady().enqueue(g.focusDOMComponent,this)}return i},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(null!=i)if(V.hasOwnProperty(r))i&&c(this._rootNodeID,r,i,e);else{r===H&&(i&&(i=this._previousStyleCopy=R({},t.style)),i=y.createMarkupForStyles(i));var o=null;null!=this._tag&&v(this._tag,t)?r!==G&&(o=w.createMarkupForCustomAttribute(r,i)):o=w.createMarkupForProperty(r,i),o&&(n+=" "+o)}}if(e.renderToStaticMarkup)return n;var a=w.createMarkupForID(this._rootNodeID);return n+" "+a},_createContentMarkup:function(e,t,n){var r="",i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(r=i.__html);else{var o=W[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)r=F(o);else if(null!=a){var s=this.mountChildren(a,e,n);r=s.join("")}}return Y[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&I(r,i.__html);else{var o=W[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)U(r,o);else if(null!=a)for(var s=this.mountChildren(a,e,n),u=0;u<s.length;u++)r.appendChild(s[u])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var i=t.props,o=this._currentElement.props;switch(this._tag){case"button":i=S.getNativeProps(this,i),o=S.getNativeProps(this,o);break;case"input":M.updateWrapper(this),i=M.getNativeProps(this,i),o=M.getNativeProps(this,o);break;case"option":i=T.getNativeProps(this,i),o=T.getNativeProps(this,o);break;case"select":i=C.getNativeProps(this,i),o=C.getNativeProps(this,o);break;case"textarea":A.updateWrapper(this),i=A.getNativeProps(this,i),o=A.getNativeProps(this,o)}u(this,o),this._updateDOMProperties(i,o,e,null),this._updateDOMChildren(i,o,e,r),!L&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=o),"select"===this._tag&&e.getReactMountReady().enqueue(p,this)},_updateDOMProperties:function(e,t,n,r){var i,o,a;for(i in e)if(!t.hasOwnProperty(i)&&e.hasOwnProperty(i))if(i===H){var s=this._previousStyleCopy;for(o in s)s.hasOwnProperty(o)&&(a=a||{},a[o]="");this._previousStyleCopy=null}else V.hasOwnProperty(i)?e[i]&&B(this._rootNodeID,i):(b.properties[i]||b.isCustomAttribute(i))&&(r||(r=k.getNode(this._rootNodeID)),w.deleteValueForProperty(r,i));for(i in t){var u=t[i],l=i===H?this._previousStyleCopy:e[i];if(t.hasOwnProperty(i)&&u!==l)if(i===H)if(u?u=this._previousStyleCopy=R({},u):this._previousStyleCopy=null,l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(a=a||{},a[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(a=a||{},a[o]=u[o])}else a=u;else V.hasOwnProperty(i)?u?c(this._rootNodeID,i,u,n):l&&B(this._rootNodeID,i):v(this._tag,t)?(r||(r=k.getNode(this._rootNodeID)),i===G&&(u=null),w.setValueForAttribute(r,i,u)):(b.properties[i]||b.isCustomAttribute(i))&&(r||(r=k.getNode(this._rootNodeID)),null!=u?w.setValueForProperty(r,i,u):w.deleteValueForProperty(r,i))}a&&(r||(r=k.getNode(this._rootNodeID)),y.setValueForStyles(r,a))},_updateDOMChildren:function(e,t,n,r){var i=W[typeof e.children]?e.children:null,o=W[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,u=null!=i?null:e.children,c=null!=o?null:t.children,l=null!=i||null!=a,h=null!=o||null!=s;null!=u&&null==c?this.updateChildren(null,n,r):l&&!h&&this.updateTextContent(""),null!=o?i!==o&&this.updateTextContent(""+o):null!=s?a!==s&&this.updateMarkup(""+s):null!=c&&this.updateChildren(c,n,r)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var e=this._wrapperState.listeners;if(e)for(var t=0;t<e.length;t++)e[t].remove();break;case"input":M.unmountWrapper(this);break;case"html":case"head":case"body":j(!1)}if(this.unmountChildren(),_.deleteAllListeners(this._rootNodeID),E.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var n=this._nodeWithLegacyProperties;n._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var e=k.getNode(this._rootNodeID);e._reactInternalComponent=this,e.getDOMNode=r,e.isMounted=i,e.setState=o,e.replaceState=o,e.forceUpdate=o,e.setProps=a,e.replaceProps=s,e.props=this._currentElement.props,this._nodeWithLegacyProperties=e}return this._nodeWithLegacyProperties}},O.measureMethods(m,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),R(m.prototype,m.Mixin,P.Mixin),e.exports=m},function(e,t,n){"use strict";function r(e){return i.createFactory(e)}var i=n(8),o=(n(123),n(357)),a=o({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);e.exports=a},function(e,t,n){"use strict";function r(){this._rootNodeID&&f.updateWrapper(this)}function i(e){var t=this._currentElement.props,n=a.executeOnChange(t,e);u.asap(r,this);var i=t.name;if("radio"===t.type&&null!=i){for(var o=s.getNode(this._rootNodeID),c=o;c.parentNode;)c=c.parentNode;for(var f=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),p=0;p<f.length;p++){var d=f[p];if(d!==o&&d.form===o.form){var v=s.getID(d);v?void 0:l(!1);var m=h[v];m?void 0:l(!1),u.asap(r,m)}}}return n}var o=n(75),a=n(72),s=n(6),u=n(11),c=n(2),l=n(1),h={},f={getNativeProps:function(e,t,n){var r=a.getValue(t),i=a.getChecked(t),o=c({},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=r?r:e._wrapperState.initialValue,checked:null!=i?i:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return o},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:t.defaultChecked||!1,initialValue:null!=n?n:null,onChange:i.bind(e)}},mountReadyWrapper:function(e){h[e._rootNodeID]=e},unmountWrapper:function(e){delete h[e._rootNodeID]},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&o.updatePropertyByID(e._rootNodeID,"checked",n||!1);var r=a.getValue(t);null!=r&&o.updatePropertyByID(e._rootNodeID,"value",""+r)}};e.exports=f},function(e,t,n){"use strict";var r=n(114),i=n(119),o=n(2),a=(n(3),i.valueContextKey),s={mountWrapper:function(e,t,n){var r=n[a],i=null;if(null!=r)if(i=!1,Array.isArray(r)){for(var o=0;o<r.length;o++)if(""+r[o]==""+t.value){i=!0;break}}else i=""+r==""+t.value;e._wrapperState={selected:i}},getNativeProps:function(e,t,n){var i=o({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(i.selected=e._wrapperState.selected);var a="";return r.forEach(t.children,function(e){null!=e&&("string"!=typeof e&&"number"!=typeof e||(a+=e))}),a&&(i.children=a),i}};e.exports=s},function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function i(e){var t=document.selection,n=t.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(e),i.setEndPoint("EndToStart",n);var o=i.text.length,a=o+r;return{start:o,end:a}}function o(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,i=t.anchorOffset,o=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(u){return null}var c=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),l=c?0:s.toString().length,h=s.cloneRange();h.selectNodeContents(e),h.setEnd(s.startContainer,s.startOffset);var f=r(h.startContainer,h.startOffset,h.endContainer,h.endOffset),p=f?0:h.toString().length,d=p+l,v=document.createRange();v.setStart(n,i),v.setEnd(o,a);var m=v.collapsed;return{start:m?d:p,end:m?p:d}}function a(e,t){var n,r,i=document.selection.createRange().duplicate();"undefined"==typeof t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),i.moveToElementText(e),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[l()].length,i=Math.min(t.start,r),o="undefined"==typeof t.end?i:Math.min(t.end,r);if(!n.extend&&i>o){var a=o;o=i,i=a}var s=c(e,i),u=c(e,o);if(s&&u){var h=document.createRange();h.setStart(s.node,s.offset),n.removeAllRanges(),i>o?(n.addRange(h),n.extend(u.node,u.offset)):(h.setEnd(u.node,u.offset),n.addRange(h))}}}var u=n(5),c=n(344),l=n(137),h=u.canUseDOM&&"selection"in document&&!("getSelection"in window),f={getOffsets:h?i:o,setOffsets:h?a:s};e.exports=f},function(e,t,n){"use strict";var r=n(122),i=n(325),o=n(77);r.inject();var a={renderToString:i.renderToString,renderToStaticMarkup:i.renderToStaticMarkup,version:o};e.exports=a},function(e,t,n){"use strict";function r(){this._rootNodeID&&l.updateWrapper(this)}function i(e){var t=this._currentElement.props,n=o.executeOnChange(t,e);return s.asap(r,this),n}var o=n(72),a=n(75),s=n(11),u=n(2),c=n(1),l=(n(3),{getNativeProps:function(e,t,n){null!=t.dangerouslySetInnerHTML?c(!1):void 0;var r=u({},t,{defaultValue:void 0,value:void 0,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return r},mountWrapper:function(e,t){var n=t.defaultValue,r=t.children;null!=r&&(null!=n?c(!1):void 0,Array.isArray(r)&&(r.length<=1?void 0:c(!1),r=r[0]),n=""+r),null==n&&(n="");var a=o.getValue(t);e._wrapperState={initialValue:""+(null!=a?a:n),onChange:i.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=o.getValue(t);null!=n&&a.updatePropertyByID(e._rootNodeID,"value",""+n)}});e.exports=l},function(e,t,n){"use strict";function r(e){i.enqueueEvents(e),i.processEventQueue(!1)}var i=n(35),o={handleTopLevel:function(e,t,n,o,a){var s=i.extractEvents(e,t,n,o,a);r(s)}};e.exports=o},function(e,t,n){"use strict";function r(e){var t=f.getID(e),n=h.getReactRootIDFromNodeID(t),r=f.findReactContainerForID(n),i=f.getFirstReactDOM(r);return i}function i(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function o(e){a(e)}function a(e){for(var t=f.getFirstReactDOM(v(e.nativeEvent))||window,n=t;n;)e.ancestors.push(n),n=r(n);for(var i=0;i<e.ancestors.length;i++){t=e.ancestors[i];var o=f.getID(t)||"";g._handleTopLevel(e.topLevelType,t,o,e.nativeEvent,v(e.nativeEvent))}}function s(e){var t=m(window);e(t)}var u=n(139),c=n(5),l=n(21),h=n(30),f=n(6),p=n(11),d=n(2),v=n(81),m=n(352);d(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),l.addPoolingTo(i,l.twoArgumentPooler);var g={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:c.canUseDOM?window:null,setHandleTopLevel:function(e){g._handleTopLevel=e},setEnabled:function(e){g._enabled=!!e},isEnabled:function(){return g._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?u.listen(r,t,g.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?u.capture(r,t,g.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=s.bind(null,e);u.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(g._enabled){var n=i.getPooled(e,t);try{p.batchedUpdates(o,n)}finally{i.release(n)}}}};e.exports=g},function(e,t,n){"use strict";var r=n(29),i=n(35),o=n(74),a=n(115),s=n(124),u=n(49),c=n(130),l=n(10),h=n(133),f=n(11),p={Component:o.injection,Class:a.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:i.injection,EventEmitter:u.injection,NativeComponent:c.injection,Perf:l.injection,RootIndex:h.injection,Updates:f.injection};e.exports=p},function(e,t,n){"use strict";var r=n(114),i=n(116),o=n(115),a=n(310),s=n(8),u=(n(123),n(132)),c=n(77),l=n(2),h=n(345),f=s.createElement,p=s.createFactory,d=s.cloneElement,v={Children:{map:r.map,forEach:r.forEach,count:r.count,toArray:r.toArray,only:h},Component:i,createElement:f,cloneElement:d,isValidElement:s.isValidElement,PropTypes:u,createClass:o.createClass,createFactory:p,createMixin:function(e){return e},DOM:a,version:c,__spread:l};e.exports=v},function(e,t,n){"use strict";function r(e,t,n){m.push({parentID:e,parentNode:null,type:h.INSERT_MARKUP,markupIndex:g.push(t)-1,content:null,fromIndex:null,toIndex:n})}function i(e,t,n){m.push({parentID:e,parentNode:null,type:h.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:t,toIndex:n})}function o(e,t){m.push({parentID:e,parentNode:null,type:h.REMOVE_NODE,markupIndex:null,content:null,fromIndex:t,toIndex:null})}function a(e,t){m.push({parentID:e,parentNode:null,type:h.SET_MARKUP,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function s(e,t){m.push({parentID:e,parentNode:null,type:h.TEXT_CONTENT,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function u(){m.length&&(l.processChildrenUpdates(m,g),c())}function c(){m.length=0,g.length=0}var l=n(74),h=n(129),f=(n(18),n(25)),p=n(306),d=n(342),v=0,m=[],g=[],y={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return p.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r){var i;return i=d(t),p.updateChildren(e,i,n,r)},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var i=[],o=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],u=this._rootNodeID+a,c=f.mountComponent(s,u,t,n);s._mountIndex=o++,i.push(c)}return i},updateTextContent:function(e){v++;var t=!0;try{var n=this._renderedChildren;p.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChild(n[r]);this.setTextContent(e),t=!1}finally{v--,v||(t?c():u())}},updateMarkup:function(e){v++;var t=!0;try{var n=this._renderedChildren;p.unmountChildren(n);for(var r in n)n.hasOwnProperty(r)&&this._unmountChildByName(n[r],r);this.setMarkup(e),t=!1}finally{v--,v||(t?c():u())}},updateChildren:function(e,t,n){v++;var r=!0;try{this._updateChildren(e,t,n),r=!1}finally{v--,v||(r?c():u())}},_updateChildren:function(e,t,n){var r=this._renderedChildren,i=this._reconcilerUpdateChildren(r,e,t,n);if(this._renderedChildren=i,i||r){var o,a=0,s=0;for(o in i)if(i.hasOwnProperty(o)){var u=r&&r[o],c=i[o];u===c?(this.moveChild(u,s,a),a=Math.max(u._mountIndex,a),u._mountIndex=s):(u&&(a=Math.max(u._mountIndex,a),this._unmountChild(u)),this._mountChildByNameAtIndex(c,o,s,t,n)),s++}for(o in r)!r.hasOwnProperty(o)||i&&i.hasOwnProperty(o)||this._unmountChild(r[o])}},unmountChildren:function(){var e=this._renderedChildren;p.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&i(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){r(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){o(this._rootNodeID,e._mountIndex)},setTextContent:function(e){s(this._rootNodeID,e)},setMarkup:function(e){a(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,r,i){var o=this._rootNodeID+t,a=f.mountComponent(e,o,r,i);e._mountIndex=n,this.createChild(e,a)},_unmountChild:function(e){this.removeChild(e),e._mountIndex=null}}};e.exports=y},function(e,t,n){"use strict";var r=n(1),i={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){i.isValidOwner(n)?void 0:r(!1),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){i.isValidOwner(n)?void 0:r(!1),n.getPublicInstance().refs[t]===e.getPublicInstance()&&n.detachRef(t)}};e.exports=i},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=!e&&s.useCreateElement}var i=n(70),o=n(21),a=n(49),s=n(118),u=n(127),c=n(53),l=n(2),h={initialize:u.getSelectionInformation,close:u.restoreSelection},f={initialize:function(){var e=a.isEnabled();return a.setEnabled(!1),e},close:function(e){a.setEnabled(e)}},p={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},d=[h,f,p],v={getTransactionWrappers:function(){return d},getReactMountReady:function(){return this.reactMountReady},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};l(r.prototype,c.Mixin,v),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):o.addComponentAsRefTo(t,e,n)}function i(e,t,n){"function"==typeof e?e(null):o.removeComponentAsRefFrom(t,e,n)}var o=n(321),a={};a.attachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null===e||e===!1,r=null===t||t===!1;return n||r||t._owner!==e._owner||t.ref!==e.ref},a.detachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&i(n,e,t._owner)}},e.exports=a},function(e,t){"use strict";var n={isBatchingUpdates:!1,batchedUpdates:function(e){}};e.exports=n},function(e,t,n){"use strict";function r(e){a.isValidElement(e)?void 0:d(!1);var t;try{h.injection.injectBatchingStrategy(c);var n=s.createReactRootID();return t=l.getPooled(!1),t.perform(function(){var r=p(e,null),i=r.mountComponent(n,t,f);return u.addChecksumToMarkup(i)},null)}finally{l.release(t),h.injection.injectBatchingStrategy(o)}}function i(e){a.isValidElement(e)?void 0:d(!1);var t;try{h.injection.injectBatchingStrategy(c);var n=s.createReactRootID();return t=l.getPooled(!0),t.perform(function(){var r=p(e,null);return r.mountComponent(n,t,f)},null)}finally{l.release(t),h.injection.injectBatchingStrategy(o)}}var o=n(121),a=n(8),s=n(30),u=n(128),c=n(324),l=n(326),h=n(11),f=n(39),p=n(83),d=n(1);e.exports={renderToString:r,renderToStaticMarkup:i}},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=o.getPooled(null),this.useCreateElement=!1}var i=n(21),o=n(70),a=n(53),s=n(2),u=n(13),c={initialize:function(){this.reactMountReady.reset()},close:u},l=[c],h={getTransactionWrappers:function(){return l},getReactMountReady:function(){return this.reactMountReady},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};s(r.prototype,a.Mixin,h),i.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";
var r=n(29),i=r.injection.MUST_USE_ATTRIBUTE,o={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},a={Properties:{clipPath:i,cx:i,cy:i,d:i,dx:i,dy:i,fill:i,fillOpacity:i,fontFamily:i,fontSize:i,fx:i,fy:i,gradientTransform:i,gradientUnits:i,markerEnd:i,markerMid:i,markerStart:i,offset:i,opacity:i,patternContentUnits:i,patternUnits:i,points:i,preserveAspectRatio:i,r:i,rx:i,ry:i,spreadMethod:i,stopColor:i,stopOpacity:i,stroke:i,strokeDasharray:i,strokeLinecap:i,strokeOpacity:i,strokeWidth:i,textAnchor:i,transform:i,version:i,viewBox:i,x1:i,x2:i,x:i,xlinkActuate:i,xlinkArcrole:i,xlinkHref:i,xlinkRole:i,xlinkShow:i,xlinkTitle:i,xlinkType:i,xmlBase:i,xmlLang:i,xmlSpace:i,y1:i,y2:i,y:i},DOMAttributeNamespaces:{xlinkActuate:o.xlink,xlinkArcrole:o.xlink,xlinkHref:o.xlink,xlinkRole:o.xlink,xlinkShow:o.xlink,xlinkTitle:o.xlink,xlinkType:o.xlink,xmlBase:o.xml,xmlLang:o.xml,xmlSpace:o.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};e.exports=a},function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&u.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(e,t){if(w||null==g||g!==l())return null;var n=r(g);if(!b||!p(b,n)){b=n;var i=c.getPooled(m.select,y,e,t);return i.type="select",i.target=g,a.accumulateTwoPhaseDispatches(i),i}return null}var o=n(17),a=n(36),s=n(5),u=n(127),c=n(26),l=n(142),h=n(138),f=n(22),p=n(144),d=o.topLevelTypes,v=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,m={select:{phasedRegistrationNames:{bubbled:f({onSelect:null}),captured:f({onSelectCapture:null})},dependencies:[d.topBlur,d.topContextMenu,d.topFocus,d.topKeyDown,d.topMouseDown,d.topMouseUp,d.topSelectionChange]}},g=null,y=null,b=null,w=!1,x=!1,_=f({onSelect:null}),E={eventTypes:m,extractEvents:function(e,t,n,r,o){if(!x)return null;switch(e){case d.topFocus:(h(t)||"true"===t.contentEditable)&&(g=t,y=n,b=null);break;case d.topBlur:g=null,y=null,b=null;break;case d.topMouseDown:w=!0;break;case d.topContextMenu:case d.topMouseUp:return w=!1,i(r,o);case d.topSelectionChange:if(v)break;case d.topKeyDown:case d.topKeyUp:return i(r,o)}return null},didPutListener:function(e,t,n){t===_&&(x=!0)}};e.exports=E},function(e,t){"use strict";var n=Math.pow(2,53),r={createReactRootIndex:function(){return Math.ceil(Math.random()*n)}};e.exports=r},function(e,t,n){"use strict";var r=n(17),i=n(139),o=n(36),a=n(6),s=n(331),u=n(26),c=n(334),l=n(336),h=n(52),f=n(333),p=n(337),d=n(38),v=n(338),m=n(13),g=n(79),y=n(1),b=n(22),w=r.topLevelTypes,x={abort:{phasedRegistrationNames:{bubbled:b({onAbort:!0}),captured:b({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:b({onBlur:!0}),captured:b({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:b({onCanPlay:!0}),captured:b({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:b({onCanPlayThrough:!0}),captured:b({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:b({onClick:!0}),captured:b({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:b({onContextMenu:!0}),captured:b({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:b({onCopy:!0}),captured:b({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:b({onCut:!0}),captured:b({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:b({onDoubleClick:!0}),captured:b({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:b({onDrag:!0}),captured:b({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:b({onDragEnd:!0}),captured:b({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:b({onDragEnter:!0}),captured:b({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:b({onDragExit:!0}),captured:b({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:b({onDragLeave:!0}),captured:b({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:b({onDragOver:!0}),captured:b({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:b({onDragStart:!0}),captured:b({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:b({onDrop:!0}),captured:b({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:b({onDurationChange:!0}),captured:b({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:b({onEmptied:!0}),captured:b({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:b({onEncrypted:!0}),captured:b({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:b({onEnded:!0}),captured:b({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:b({onError:!0}),captured:b({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:b({onFocus:!0}),captured:b({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:b({onInput:!0}),captured:b({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:b({onKeyDown:!0}),captured:b({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:b({onKeyPress:!0}),captured:b({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:b({onKeyUp:!0}),captured:b({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:b({onLoad:!0}),captured:b({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:b({onLoadedData:!0}),captured:b({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:b({onLoadedMetadata:!0}),captured:b({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:b({onLoadStart:!0}),captured:b({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:b({onMouseDown:!0}),captured:b({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:b({onMouseMove:!0}),captured:b({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:b({onMouseOut:!0}),captured:b({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:b({onMouseOver:!0}),captured:b({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:b({onMouseUp:!0}),captured:b({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:b({onPaste:!0}),captured:b({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:b({onPause:!0}),captured:b({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:b({onPlay:!0}),captured:b({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:b({onPlaying:!0}),captured:b({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:b({onProgress:!0}),captured:b({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:b({onRateChange:!0}),captured:b({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:b({onReset:!0}),captured:b({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:b({onScroll:!0}),captured:b({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:b({onSeeked:!0}),captured:b({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:b({onSeeking:!0}),captured:b({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:b({onStalled:!0}),captured:b({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:b({onSubmit:!0}),captured:b({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:b({onSuspend:!0}),captured:b({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:b({onTimeUpdate:!0}),captured:b({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:b({onTouchCancel:!0}),captured:b({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:b({onTouchEnd:!0}),captured:b({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:b({onTouchMove:!0}),captured:b({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:b({onTouchStart:!0}),captured:b({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:b({onVolumeChange:!0}),captured:b({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:b({onWaiting:!0}),captured:b({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:b({onWheel:!0}),captured:b({onWheelCapture:!0})}}},_={topAbort:x.abort,topBlur:x.blur,topCanPlay:x.canPlay,topCanPlayThrough:x.canPlayThrough,topClick:x.click,topContextMenu:x.contextMenu,topCopy:x.copy,topCut:x.cut,topDoubleClick:x.doubleClick,topDrag:x.drag,topDragEnd:x.dragEnd,topDragEnter:x.dragEnter,topDragExit:x.dragExit,topDragLeave:x.dragLeave,topDragOver:x.dragOver,topDragStart:x.dragStart,topDrop:x.drop,topDurationChange:x.durationChange,topEmptied:x.emptied,topEncrypted:x.encrypted,topEnded:x.ended,topError:x.error,topFocus:x.focus,topInput:x.input,topKeyDown:x.keyDown,topKeyPress:x.keyPress,topKeyUp:x.keyUp,topLoad:x.load,topLoadedData:x.loadedData,topLoadedMetadata:x.loadedMetadata,topLoadStart:x.loadStart,topMouseDown:x.mouseDown,topMouseMove:x.mouseMove,topMouseOut:x.mouseOut,topMouseOver:x.mouseOver,topMouseUp:x.mouseUp,topPaste:x.paste,topPause:x.pause,topPlay:x.play,topPlaying:x.playing,topProgress:x.progress,topRateChange:x.rateChange,topReset:x.reset,topScroll:x.scroll,topSeeked:x.seeked,topSeeking:x.seeking,topStalled:x.stalled,topSubmit:x.submit,topSuspend:x.suspend,topTimeUpdate:x.timeUpdate,topTouchCancel:x.touchCancel,topTouchEnd:x.touchEnd,topTouchMove:x.touchMove,topTouchStart:x.touchStart,topVolumeChange:x.volumeChange,topWaiting:x.waiting,topWheel:x.wheel};for(var E in _)_[E].dependencies=[E];var S=b({onClick:null}),M={},T={eventTypes:x,extractEvents:function(e,t,n,r,i){var a=_[e];if(!a)return null;var m;switch(e){case w.topAbort:case w.topCanPlay:case w.topCanPlayThrough:case w.topDurationChange:case w.topEmptied:case w.topEncrypted:case w.topEnded:case w.topError:case w.topInput:case w.topLoad:case w.topLoadedData:case w.topLoadedMetadata:case w.topLoadStart:case w.topPause:case w.topPlay:case w.topPlaying:case w.topProgress:case w.topRateChange:case w.topReset:case w.topSeeked:case w.topSeeking:case w.topStalled:case w.topSubmit:case w.topSuspend:case w.topTimeUpdate:case w.topVolumeChange:case w.topWaiting:m=u;break;case w.topKeyPress:if(0===g(r))return null;case w.topKeyDown:case w.topKeyUp:m=l;break;case w.topBlur:case w.topFocus:m=c;break;case w.topClick:if(2===r.button)return null;case w.topContextMenu:case w.topDoubleClick:case w.topMouseDown:case w.topMouseMove:case w.topMouseOut:case w.topMouseOver:case w.topMouseUp:m=h;break;case w.topDrag:case w.topDragEnd:case w.topDragEnter:case w.topDragExit:case w.topDragLeave:case w.topDragOver:case w.topDragStart:case w.topDrop:m=f;break;case w.topTouchCancel:case w.topTouchEnd:case w.topTouchMove:case w.topTouchStart:m=p;break;case w.topScroll:m=d;break;case w.topWheel:m=v;break;case w.topCopy:case w.topCut:case w.topPaste:m=s}m?void 0:y(!1);var b=m.getPooled(a,n,r,i);return o.accumulateTwoPhaseDispatches(b),b},didPutListener:function(e,t,n){if(t===S){var r=a.getNode(e);M[e]||(M[e]=i.listen(r,"click",m))}},willDeleteListener:function(e,t){t===S&&(M[e].remove(),delete M[e])}};e.exports=T},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(26),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(26),o={data:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(52),o={dataTransfer:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(38),o={relatedTarget:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(26),o={data:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(38),o=n(79),a=n(343),s=n(80),u={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};i.augmentClass(r,u),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(38),o=n(80),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(52),o={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(r,o),e.exports=r},function(e,t){"use strict";function n(e){for(var t=1,n=0,i=0,o=e.length,a=-4&o;a>i;){for(;i<Math.min(i+4096,a);i+=4)n+=(t+=e.charCodeAt(i))+(t+=e.charCodeAt(i+1))+(t+=e.charCodeAt(i+2))+(t+=e.charCodeAt(i+3));t%=r,n%=r}for(;o>i;i++)n+=t+=e.charCodeAt(i);return t%=r,n%=r,t|n<<16}var r=65521;e.exports=n},function(e,t,n){"use strict";function r(e,t){var n=null==t||"boolean"==typeof t||""===t;if(n)return"";var r=isNaN(t);return r||0===t||o.hasOwnProperty(e)&&o[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var i=n(111),o=i.isUnitlessNumber;e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,i){return i}n(2),n(3);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=e,i=void 0===r[n];i&&null!=t&&(r[n]=t)}function i(e){if(null==e)return e;var t={};return o(e,r,t),t}var o=n(87);n(3);e.exports=i},function(e,t,n){"use strict";function r(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=i(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var i=n(79),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=r},function(e,t){"use strict";function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,t){for(var i=n(e),o=0,a=0;i;){if(3===i.nodeType){if(a=o+i.textContent.length,t>=o&&a>=t)return{node:i,offset:t-o};o=a}i=n(r(i))}}e.exports=i},function(e,t,n){"use strict";function r(e){return i.isValidElement(e)?void 0:o(!1),e}var i=n(8),o=n(1);e.exports=r},function(e,t,n){"use strict";function r(e){return'"'+i(e)+'"'}var i=n(55);e.exports=r},function(e,t,n){"use strict";var r=n(6);e.exports=r.renderSubtreeIntoContainer},function(e,t){"use strict";function n(e){return e.replace(r,function(e,t){return t.toUpperCase()})}var r=/-(.)/g;e.exports=n},function(e,t,n){"use strict";function r(e){return i(e.replace(o,"ms-"))}var i=n(348),o=/^-ms-/;e.exports=r},function(e,t,n){"use strict";function r(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return r(e)?Array.isArray(e)?e.slice():o(e):[e]}var o=n(359);e.exports=i},function(e,t,n){"use strict";function r(e){var t=e.match(l);return t&&t[1].toLowerCase()}function i(e,t){var n=c;c?void 0:u(!1);var i=r(e),o=i&&s(i);if(o){n.innerHTML=o[1]+e+o[2];for(var l=o[0];l--;)n=n.lastChild}else n.innerHTML=e;var h=n.getElementsByTagName("script");h.length&&(t?void 0:u(!1),a(h).forEach(t));for(var f=a(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return f}var o=n(5),a=n(350),s=n(143),u=n(1),c=o.canUseDOM?document.createElement("div"):null,l=/^\s*<(\w+)/;e.exports=i},function(e,t){"use strict";function n(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=n},function(e,t){"use strict";function n(e){return e.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;e.exports=n},function(e,t,n){"use strict";function r(e){return i(e).replace(o,"-ms-")}var i=n(353),o=/^ms-/;e.exports=r},function(e,t){"use strict";function n(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=n},function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=n(355);e.exports=r},function(e,t){"use strict";function n(e,t,n){if(!e)return null;var i={};for(var o in e)r.call(e,o)&&(i[o]=t.call(n,e[o],o,e));return i}var r=Object.prototype.hasOwnProperty;e.exports=n},function(e,t){"use strict";function n(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=n},function(e,t,n){"use strict";function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?i(!1):void 0,"number"!=typeof t?i(!1):void 0,0===t||t-1 in e?void 0:i(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var r=Array(t),o=0;t>o;o++)r[o]=e[o];return r}var i=n(1);e.exports=r},function(e,t){"use strict";function n(e){return e}function r(e,t,r){var i="function"==typeof t?t:n;return function(){for(var t=arguments.length,n=Array(t),o=0;t>o;o++)n[o]=arguments[o];var a={type:e,payload:i.apply(void 0,n)};return 1===n.length&&n[0]instanceof Error&&(a.error=!0),"function"==typeof r&&(a.meta=r.apply(void 0,n)),a}}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=u["default"](e).map(function(t){return a["default"](t,e[t])});return"undefined"!=typeof t?function(e,r){return void 0===e&&(e=t),l["default"].apply(void 0,n)(e,r)}:l["default"].apply(void 0,n)}t.__esModule=!0,t["default"]=i;var o=n(145),a=r(o),s=n(362),u=r(s),c=n(368),l=r(c);e.exports=t["default"]},function(e,t){"use strict";function n(e){if("undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys)return Reflect.ownKeys(e);var t=Object.getOwnPropertyNames(e);return"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return c.indexOf(e)>-1}function o(e){return u["default"](e)&&"undefined"!=typeof e.type&&Object.keys(e).every(i)}function a(e){return e.error===!0}t.__esModule=!0,t.isFSA=o,t.isError=a;var s=n(364),u=r(s),c=["type","payload","error","meta"]},function(e,t,n){function r(e){return!!e&&"object"==typeof e}function i(e,t){return a(e,t,u)}function o(e){var t;if(!r(e)||f.call(e)!=c||s(e)||!h.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return i(e,function(e,t){n=t}),void 0===n||h.call(e,n)}var a=n(365),s=n(146),u=n(366),c="[object Object]",l=Object.prototype,h=l.hasOwnProperty,f=l.toString;e.exports=o},function(e,t){function n(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(n(o[u],u,o)===!1)break}return t}}var r=n();e.exports=r},function(e,t,n){function r(e,t){return e="number"==typeof e||c.test(e)?+e:-1,t=null==t?f:t,e>-1&&e%1==0&&t>e}function i(e){return"number"==typeof e&&e>-1&&e%1==0&&f>=e}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){if(null==e)return[];o(e)||(e=Object(e));var t=e.length;t=t&&i(t)&&(u(e)||s(e))&&t||0;for(var n=e.constructor,a=-1,c="function"==typeof n&&n.prototype===e,l=Array(t),f=t>0;++a<t;)l[a]=a+"";for(var p in e)f&&r(p,t)||"constructor"==p&&(c||!h.call(e,p))||l.push(p);return l}var s=n(146),u=n(367),c=/^\d+$/,l=Object.prototype,h=l.hasOwnProperty,f=9007199254740991;e.exports=a},function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t){var n=null==e?void 0:e[t];return s(n)?n:void 0}function i(e){return"number"==typeof e&&e>-1&&e%1==0&&g>=e}function o(e){return a(e)&&d.call(e)==c}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function s(e){return null==e?!1:o(e)?v.test(f.call(e)):n(e)&&l.test(e)}var u="[object Array]",c="[object Function]",l=/^\[object .+?Constructor\]$/,h=Object.prototype,f=Function.prototype.toString,p=h.hasOwnProperty,d=h.toString,v=RegExp("^"+f.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=r(Array,"isArray"),g=9007199254740991,y=m||function(e){return n(e)&&i(e.length)&&d.call(e)==u};e.exports=y},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e,n){return t.reduce(function(e,t){return t(e,n)},e)}}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.then}function i(e){var t=e.dispatch;return function(e){return function(n){return a.isFSA(n)?r(n.payload)?n.payload.then(function(e){return t(o({},n,{payload:e}))},function(e){return t(o({},n,{payload:e,error:!0}))}):e(n):r(n)?n.then(t):e(n)}}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var a=n(370);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return c.indexOf(e)>-1}function o(e){return u["default"](e)&&"undefined"!=typeof e.type&&Object.keys(e).every(i)}function a(e){return e.error===!0}t.__esModule=!0,t.isFSA=o,t.isError=a;var s=n(371),u=r(s),c=["type","payload","error","meta"]},function(e,t,n){function r(e){return!!e&&"object"==typeof e}function i(e,t){return a(e,t,u)}function o(e){var t;if(!r(e)||f.call(e)!=c||s(e)||!h.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return i(e,function(e,t){n=t}),void 0===n||h.call(e,n)}var a=n(372),s=n(147),u=n(373),c="[object Object]",l=Object.prototype,h=l.hasOwnProperty,f=l.toString;e.exports=o},function(e,t){function n(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(n(o[u],u,o)===!1)break}return t}}var r=n();e.exports=r},function(e,t,n){function r(e,t){return e="number"==typeof e||c.test(e)?+e:-1,t=null==t?f:t,e>-1&&e%1==0&&t>e}function i(e){return"number"==typeof e&&e>-1&&e%1==0&&f>=e}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){if(null==e)return[];o(e)||(e=Object(e));var t=e.length;t=t&&i(t)&&(u(e)||s(e))&&t||0;for(var n=e.constructor,a=-1,c="function"==typeof n&&n.prototype===e,l=Array(t),f=t>0;++a<t;)l[a]=a+"";for(var p in e)f&&r(p,t)||"constructor"==p&&(c||!h.call(e,p))||l.push(p);return l}var s=n(147),u=n(374),c=/^\d+$/,l=Object.prototype,h=l.hasOwnProperty,f=9007199254740991;e.exports=a},function(e,t){function n(e){return!!e&&"object"==typeof e}function r(e,t){var n=null==e?void 0:e[t];return s(n)?n:void 0}function i(e){return"number"==typeof e&&e>-1&&e%1==0&&g>=e}function o(e){return a(e)&&d.call(e)==c}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function s(e){return null==e?!1:o(e)?v.test(f.call(e)):n(e)&&l.test(e)}var u="[object Array]",c="[object Function]",l=/^\[object .+?Constructor\]$/,h=Object.prototype,f=Function.prototype.toString,p=h.hasOwnProperty,d=h.toString,v=RegExp("^"+f.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=r(Array,"isArray"),g=9007199254740991,y=m||function(e){return n(e)&&i(e.length)&&d.call(e)==u};e.exports=y},function(e,t){"use strict";function n(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){return"function"==typeof r?r(t,n):e(r)}}}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var a=e(n,r,i),u=a.dispatch,c=[],l={getState:a.getState,dispatch:function(e){return u(e)}};return c=t.map(function(e){return e(l)}),u=s["default"].apply(void 0,c)(a.dispatch),o({},a,{dispatch:u})}}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var a=n(148),s=r(a)},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function r(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),i={},o=0;o<r.length;o++){var a=r[o],s=e[a];"function"==typeof s&&(i[a]=n(s,t))}return i}t.__esModule=!0,t["default"]=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=t&&t.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function o(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:s.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var i="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:i}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function a(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];"function"==typeof e[a]&&(n[a]=e[a])}var s,u=Object.keys(n);try{o(n)}catch(c){s=c}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(s)throw s;for(var r=!1,o={},a=0;a<u.length;a++){var c=u[a],l=n[c],h=e[c],f=l(h,t);if("undefined"==typeof f){var p=i(c,t);throw new Error(p)}o[c]=f,r=r||f!==h}return r?o:e}}t.__esModule=!0,t["default"]=a;var s=n(149),u=n(151),c=(r(u),n(150));r(c)},function(e,t){function n(e){return r(Object(e))}var r=Object.getPrototypeOf;e.exports=n},function(e,t){function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}e.exports=n},function(e,t){function n(e){return!!e&&"object"==typeof e}e.exports=n},function(e,t,n){(function(t){"use strict";e.exports=n(383)(t||window||this)}).call(t,function(){return this}())},function(e,t){"use strict";e.exports=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}},c=n(4),l=r(c),h=n(7),f=n(9),p=n(14),d=function(e){return Object.keys(e).every(function(t){return!!e[t]})};t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.validator,n=void 0===t?d:t;return function(e){var t=function(t){function r(e){i(this,d),u(Object.getPrototypeOf(d.prototype),"constructor",this).call(this,e),this.state={email:null,password:null},this.submit=this.submit.bind(this),this.updateEmail=this.updateEmail.bind(this),this.updatePassword=this.updatePassword.bind(this)}o(r,t),s(r,null,[{key:"propTypes",value:{dispatch:c.PropTypes.func,_status:c.PropTypes.object},enumerable:!0}]),s(r,[{key:"submit",value:function(e){e.preventDefault(),this.props.dispatch((0,p.passwordLogin)(this.state.email,this.state.password))["catch"](function(){})}},{key:"updateEmail",value:function(e){var t=this.props._status.errors.login;t&&this.props.dispatch((0,p.clearLoginError)()),this.setState({email:e.target.value})}},{key:"updatePassword",value:function(e){var t=this.props._status.errors.login;t&&this.props.dispatch((0,p.clearLoginError)()),this.setState({password:e.target.value})}},{key:"render",value:function(){var t=this.props._status,r=t.errors.login,i=t.processing.login,o=t.completed.login,s={email:this.state.email,password:this.state.password,submit:this.submit,updateEmail:this.updateEmail,updatePassword:this.updatePassword,validInput:n(this.state),error:r,processing:i,completed:o};return l["default"].createElement(e,a({},this.props,s))}}]);var d=r;return r=(0,h.connect)((0,f.firebaseToProps)(["_status"]))(r)||r}(c.Component);return t}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}},u=n(4),c=r(u),l=n(7),h=n(14),f=function(e){function t(e){i(this,n),s(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.logout=this.logout.bind(this)}o(t,e),a(t,[{key:"logout",value:function(){this.props.dispatch((0,h.logout)())}},{key:"render",value:function(){return c["default"].Children.only(c["default"].cloneElement(this.props.children,{onClick:this.logout}))}}]);var n=t;return t=(0,l.connect)()(t)||t}(u.Component);t["default"]=f,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}},u=n(4),c=r(u),l=n(14),h=n(7),f=["facebook","google","twitter","github"],p=["authWithOAuthPopup","authWithOAuthRedirect"],d=function(e){function t(e){i(this,n),s(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,e),this.authenticate=this.authenticate.bind(this)}o(t,e),a(t,null,[{key:"propTypes",value:{provider:u.PropTypes.oneOf(f),flow:u.PropTypes.oneOf(p)},enumerable:!0},{key:"contextTypes",value:{firebase:u.PropTypes.object},enumerable:!0}]),a(t,[{key:"authenticate",value:function(){var e=this.props.flow||"authWithOAuthPopup";this.props.dispatch((0,l.oAuthLogin)(e,this.props.provider))["catch"](function(){})}},{key:"render",value:function(){return c["default"].Children.only(c["default"].cloneElement(this.props.children,{onClick:this.authenticate}))}}]);var n=t;return t=(0,h.connect)()(t)||t}(u.Component);t["default"]=d,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}},l=n(4),h=r(l),f=n(7),p=n(9),d=n(14),v=function(e){return Object.keys(e).every(function(t){return!!e[t]})},m=function(e,t){return e((0,d.createUser)(t))["catch"](function(){})},g=function(e){var t=this;return function(n){t.updateField(n,e)}};t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.fields,n=void 0===t?["email","password"]:t,r=e.submit,y=void 0===r?m:r,b=e.validator,w=void 0===b?v:b;return function(e){var t=function(t){function r(e){o(this,v),c(Object.getPrototypeOf(v.prototype),"constructor",this).call(this,e),this.state=n.reduce(function(e,t){return s({},e,i({},t,null))},{}),this.submit=this.submit.bind(this),this.update=g.bind(this)}a(r,t),u(r,null,[{key:"propTypes",value:{dispatch:l.PropTypes.func,_status:l.PropTypes.object},enumerable:!0}]),u(r,[{key:"submit",value:function(e){e.preventDefault(),y(this.props.dispatch,this.state)}},{key:"updateField",value:function(e,t){var n=this.props._status.errors.createUser;n&&this.props.dispatch((0,d.clearRegistrationError)()),this.setState(i({},t,e.target.value))}},{key:"render",value:function(){var t=this.props._status,n=t.errors.createUser,r=t.processing.createUser,i=t.completed.createUser,o=s({},this.state,{submit:this.submit,update:this.update,validInput:w(this.state),error:n,processing:r,completed:i});return h["default"].createElement(e,s({},this.props,o))}}]);var v=r;return r=(0,f.connect)((0,p.firebaseToProps)(["_status"]))(r)||r}(l.Component);return t}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}},c=n(4),l=r(c),h=n(7),f=n(9),p=n(14),d=function(e){return!!e};t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.validator,n=void 0===t?d:t;return function(e){var t=function(t){function r(e){i(this,d),u(Object.getPrototypeOf(d.prototype),"constructor",this).call(this,e),this.state={email:null},this.submit=this.submit.bind(this),this.updateEmail=this.updateEmail.bind(this)}o(r,t),s(r,null,[{key:"propTypes",value:{dispatch:c.PropTypes.func,_status:c.PropTypes.object},enumerable:!0}]),s(r,[{key:"submit",value:function(e){e.preventDefault(),this.props.dispatch((0,p.resetPassword)(this.state.email))}},{key:"updateEmail",value:function(e){var t=this.props._status.errors.resetPassword;t&&this.props.dispatch((0,p.clearResetPasswordError)()),this.setState({email:e.target.value})}},{key:"render",value:function(){var t=this.props._status,r=t.errors.resetPassword,i=t.processing.resetPassword,o=t.completed.resetPassword,s={email:this.state.email,submit:this.submit,updateEmail:this.updateEmail,validInput:n(this.state.email),error:r,processing:i,completed:o};return l["default"].createElement(e,a({},this.props,s))}}]);var d=r;return r=(0,h.connect)((0,f.firebaseToProps)(["_status"]))(r)||r}(c.Component);return t}},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var c=Object.getPrototypeOf(i);if(null===c)return;e=c,t=o,n=a,r=!0,s=c=void 0}},l=n(4),h=r(l),f=n(7),p=n(14),d={push:!0,set:!0,transaction:!0,update:!0};t["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.path,n=void 0===t?"":t,r=e.method;if("function"!=typeof n&&"string"!=typeof n)throw new Error("options.path must be a function or string");if("string"!=typeof r||!d[r])throw new Error("options.method must be one of: "+Object.keys(d).join(", "));return function(e){var t=function(t){function d(e){o(this,v),c(Object.getPrototypeOf(v.prototype),"constructor",this).call(this,e),this.clearErrors=this.clearErrors.bind(this),this.submit=this.submit.bind(this)}a(d,t),u(d,null,[{key:"propTypes",value:{dispatch:l.PropTypes.func,processing:l.PropTypes.array,errors:l.PropTypes.array},enumerable:!0}]),u(d,[{key:"submit",value:function(e){var t=this.props,o=(t.dispatch,t.processing,t.errors,i(t,["dispatch","processing","errors"]));return this.props.dispatch((0,p.write)({method:r,path:n,value:e,ownProps:o}))}},{key:"clearErrors",value:function(){this.props.dispatch((0,p.clearWriteErrors)(n))}},{key:"render",value:function(){var t=this.props.processing&&!!this.props.processing.length,n=this.props.errors||[],r={submit:this.submit,clearErrors:this.clearErrors,errors:n,processing:t};return h["default"].createElement(e,s({},this.props,r))}}]);var v=d;return d=(0,f.connect)(function(e,t){var r=e.firebase.writes.processing,i=e.firebase.writes.errors,o="function"==typeof n?n(e,t):n;return{processing:r[o],errors:i[o]}})(d)||d}(l.Component);return t}},e.exports=t["default"]},function(e,t){"use strict";function n(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e,t){return(t||[]).reduce(function(t,r){if("_status"===r){var i=e.firebase,o=(i.initialValuesReceived,i.stores,i.url,n(i,["initialValuesReceived","stores","url"]));t[r]=o}else t[r]=e.firebase.stores[r];return t},{})};t["default"]=function(e,t){return function(n,o){var a=i(n,e),s="function"==typeof t?t(n,o):{};return r({},s,a)}},e.exports=t["default"]},function(e,t){"use strict";function n(e,t){return function(n,r){return void 0===n&&(n=e),t[r.type]?t[r.type](n,r):n}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return(0,T["default"])(e,function(e){return e.key===t})}function s(e,t){var n=t.payload,r=n.path,s=n.value,u=n.previousChildKey,c=[].concat(i(e.stores[r].value)),l=null===u?c.length:a(c,u)+1;return c.splice(l,0,s),(0,P["default"])({stores:o({},r,{value:c})},e)}function u(e,t){var n=t.payload,r=n.path,i=n.key,o=n.value,s=e.stores[r]||{};return-1===a(s.value,i)?e:P["default"].updateIn("stores."+r+".value."+a(s.value,i),o,e)}function c(e,t){var n=t.payload,r=n.path,s=n.key,u=n.previousChildKey,c=[].concat(i(e.stores[r].value)),l=a(c,s),h=c.splice(l,1)[0],f=null===u?0:a(c,u)+1;return c.splice(f,0,h),(0,P["default"])({stores:o({},r,{value:c})},e)}function l(e,t){var n=t.payload,r=n.path,s=n.key,u=[].concat(i(e.stores[r].value));return u.splice(a(u,s),1),(0,P["default"])({stores:o({},r,{value:u})},e)}function h(e,t){var n=t.payload,r=n.path,i=n.value;return(0,P["default"])({stores:o({},r,i)},e)}function f(e,t){var n=t.payload,r=n.path,i=n.value;return S({},e,{stores:S({},e.stores,o({},r,i))})}function p(e,t){var n=t.payload.path;return(0,P["default"])({initialValuesReceived:function(e){return[].concat(i(e),[n])}},e)}function d(e){return(0,P["default"])({initialFetchDone:!0},e)}function v(e){return(0,P["default"])({connected:!0},e)}function m(e,t){return(0,P["default"])({authenticatedUser:t.payload},e)}function g(e){return(0,P["default"])({authenticatedUser:null},e)}function y(e,t){var n=t.payload.url;return(0,P["default"])({url:n},e)}function b(e,t){var n=t.payload,r=n.field,i=n.error;return(0,P["default"])({errors:o({},r,i)},e)}function w(e,t){var n=t.payload,r=n.field,i=n.value;return(0,P["default"])({processing:o({},r,i)},e)}function x(e,t){var n=t.payload,r=n.field,i=n.value;return(0,P["default"])({completed:o({},r,i)},e)}function _(e,t){var n=t.payload,r=n.path,a=n.id,s=n.value,u=e.writes.processing[r]||[],c=s?[].concat(i(u),[a]):(0,A["default"])(u,a);return(0,P["default"])({writes:{processing:o({},r,c)}},e)}function E(e,t){var n=t.payload,r=n.path,a=n.error,s=e.writes.errors[r]||[],u=a?[].concat(i(s),[a]):[];return(0,P["default"])({writes:{errors:o({},r,u)}},e)}Object.defineProperty(t,"__esModule",{value:!0});var S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M=n(181),T=r(M),C=n(185),A=r(C),k=n(401),P=r(k),O=n(391),D=r(O),R=n(14);t["default"]=function(e){var t,n=Object.keys(e).reduce(function(e,t){return e[t]=null,e},{}),r={authenticatedUser:null,connected:!1,initialFetchDone:!1,initialValuesReceived:[],stores:n,url:null,errors:{permissions:null,login:null,createUser:null,resetPassword:null},processing:{login:!1,createUser:!1,resetPassword:!1},completed:{login:!1,createUser:!1,resetPassword:!1},writes:{processing:{},errors:{}}};return(0,D["default"])(r,(t={},o(t,R.ARRAY_CHILD_ADDED,s),o(t,R.ARRAY_CHILD_CHANGED,u),o(t,R.ARRAY_CHILD_MOVED,c),o(t,R.ARRAY_CHILD_REMOVED,l),o(t,R.ARRAY_UPDATED,h),o(t,R.OBJECT_UPDATED,f),o(t,R.VALUE_REPLACED,h),o(t,R.INITIAL_VALUE_RECEIVED,p),o(t,R.INITIAL_FETCH_DONE,d),o(t,R.CONNECTED,v),o(t,R.USER_AUTHENTICATED,m),o(t,R.USER_UNAUTHENTICATED,g),o(t,R.CONFIG_UPDATED,y),o(t,R.ERROR_UPDATED,b),o(t,R.PROCESSING_UPDATED,w),o(t,R.COMPLETED_UPDATED,x),o(t,R.WRITE_PROCESSING_UPDATED,_),o(t,R.WRITE_ERRORS_UPDATED,E),t))},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.store,n=e.url,r=e.bindings,i=void 0===r?{}:r,a=e.onCancel,u=void 0===a?function(){}:a,l=e.onAuth,f=e.pathParams;if("undefined"==typeof t)throw new Error("syncFirebase: Redux store reference not found in options");if("undefined"==typeof n)throw new Error("syncFirebase: Firebase url not found in options");t.dispatch((0,d.updateConfig)({url:n}));var v=new s["default"](n),g={},b={},x={},E=(0,m["default"])({bindings:i,state:t.getState(),url:n,pathParams:f});t.subscribe(function(){var e=o({},E),r=(0,m["default"])({bindings:i,state:t.getState(),url:n,pathParams:f});if(!(0,c["default"])(E,r)){var a=Object.keys(r),s=Object.keys(E),l=(0,h["default"])(a,s),v=(0,h["default"])(s,a),_=(0,p["default"])(s,a);E=r,v.forEach(function(e){(0,w["default"])(g[e],b[e],x[e]),delete g[e],delete b[e],delete x[e],t.dispatch((0,d.replaceValue)(e,null))}),l.forEach(function(e){var n=(0,y["default"])(e,E[e],{store:t,onCancel:u}),r=n.ref,i=n.listeners,o=n.populated;g[e]=r,b[e]=i,x[e]=o}),_.forEach(function(n){if(!(0,c["default"])(E[n].path,e[n].path)||!(0,c["default"])(E[n].queryState,e[n].queryState)){(0,w["default"])(g[n],b[n],x[n]),delete g[n],delete b[n],delete x[n];var r=(0,y["default"])(n,E[n],{store:t,onCancel:u}),i=r.ref,o=r.listeners,a=r.populated;g[n]=i,b[n]=o,x[n]=a}})}}),v.child(".info/connected").on("value",function(e){e.val()===!0&&t.dispatch((0,d.connect)())},d.revokePermissions),v.onAuth(function(e){e?t.dispatch((0,d.authenticateUser)(e)):t.dispatch((0,d.unauthenticateUser)()),l&&"function"==typeof l&&l(e,v)}),Object.keys(E).forEach(function(e){var n=(0,y["default"])(e,E[e],{store:t,onCancel:u}),r=n.ref,i=n.listeners,o=n.populated;g[e]=r,b[e]=i,x[e]=o}),Object.keys(E).length||t.dispatch((0,d.completeInitialFetch)()),(0,h["default"])(Object.keys(i),Object.keys(E)).forEach(function(e){t.dispatch((0,d.receiveInitialValue)(e))});var S=new Promise(function(e){var n=t.subscribe(function(){var r=t.getState(),i=r.firebase;i.connected&&i.initialFetchDone&&(e(),n())})});return Object.defineProperties({unsubscribe:function(){return(0,_["default"])(g,b,x)}},{refs:{enumerable:!1,writable:!1,value:g},listeners:{enumerable:!1,writable:!1,value:b},populated:{enumerable:!1,writable:!1,value:x},initialized:{enumerable:!1,writable:!1,value:S}})}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var a=n(58),s=r(a),u=n(220),c=r(u),l=n(180),h=r(l),f=n(182),p=r(f),d=n(14),v=n(395),m=r(v),g=n(397),y=r(g),b=n(152),w=r(b),x=n(398),_=r(x);e.exports=t["default"]},function(e,t){"use strict";function n(){var e={};return{orderByChild:function(t){return e=r({},e,{orderByChild:t}),this},orderByKey:function(t){return e=r({},e,{orderByKey:t}),this},orderByValue:function(t){return e=r({},e,{orderByValue:t}),this},orderByPriority:function(t){return e=r({},e,{orderByPriority:t}),this},startAt:function(t){return e=r({},e,{startAt:t}),this},endAt:function(t){return e=r({},e,{endAt:t}),this},equalTo:function(t){return e=r({},e,{equalTo:t}),this},limitToFirst:function(t){return e=r({},e,{limitToFirst:t}),this},limitToLast:function(t){return e=r({},e,{limitToLast:t}),this},getState:function(){return e}}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.bindings,n=e.pathParams,r=e.state,i=e.url;return Object.keys(t).reduce(function(e,a){var u="function"==typeof n?n(r):null,l="function"==typeof t[a].path?t[a].path(r,u):t[a].path;if(l){var h="function"==typeof t[a].query?t[a].query((0,c["default"])(),r).getState():t[a].query,f=new s["default"](""+i+l),p=t[a].query?t[a].query(f,r):f,d=t[a].populate?"Array":t[a].type;e[a]=o({},t[a],{path:l,query:p,queryState:h,type:d})}return e},{})}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var a=n(58),s=r(a),u=n(394),c=r(u);e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t){return function(n,r,i){return e.dispatch((0,h.addArrayChild)(t,n,r,i))}}function i(e,t){return function(n,r){return e.dispatch((0,h.changeArrayChild)(t,n,r))}}function o(e,t){return function(n,r){return e.dispatch((0,h.moveArrayChild)(t,n,r))}}function a(e,t){return function(n){return e.dispatch((0,h.removeArrayChild)(t,n))}}function s(e,t){return function(n,r){return e.dispatch((0,h.updateArray)(t,n,r))}}function u(e,t,n){return e.dispatch((0,h.updateObject)(t,n))}function c(e,t){return e.dispatch((0,h.receiveInitialValue)(t))}function l(e,t){return e.dispatch((0,h.revokePermissions)(t))}Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchChildAdded=r,t.dispatchChildChanged=i,t.dispatchChildMoved=o,t.dispatchChildRemoved=a,t.dispatchArrayUpdated=s,t.dispatchObjectUpdated=u,t.dispatchInitialValueReceived=c,t.dispatchPermissionsRevoked=l;var h=n(14)},function(e,t,n){"use strict";function r(e,t,n){var r=t.type,a=t.query,s=t.populate,u=n.store,c=n.onCancel,l={},h={},f=function(e){(0,o.dispatchPermissionsRevoked)(u,e),c(e)};return"Array"===r?!function(){var t=!1,n=function(e){return new Promise(function(t){var n=a.ref().root().child(s(e));n.once("value",function(r){return t([e,n,r.val()])},function(r){return f(r),t([e,n,null])})})},r=function(n,r){t&&(s?!function(){var t=a.ref().root().child(s(n.key()));t.once("value",function(i){(0,o.dispatchChildAdded)(u,e)(n.key(),i.val(),r),h[n.key()]={ref:t,listener:t.on("value",function(t){(0,o.dispatchChildChanged)(u,e)(n.key(),t.val())},f)}},f)}():(0,o.dispatchChildAdded)(u,e)(n.key(),n.val(),r))},c=function(r){s?!function(){var a={};Promise.all(Object.keys(r.val()||{}).map(n)).then(function(e){var t={};return e.forEach(function(e){var n=i(e,3),r=n[0],o=n[1],s=n[2];t[r]=s,a[r]=o}),t}).then(function(n){(0,o.dispatchArrayUpdated)(u,e)(r.key(),n),(0,o.dispatchInitialValueReceived)(u,e),t=!0,Object.keys(a).forEach(function(t){var r=a[t];n[t]={ref:r,listener:r.on("value",function(n){(0,o.dispatchChildChanged)(u,e)(t,n.val())},f)}})})}():((0,o.dispatchArrayUpdated)(u,e)(r.key(),r.val()),(0,o.dispatchInitialValueReceived)(u,e),t=!0)},p=function(t){(0,o.dispatchChildChanged)(u,e)(t.key(),t.val())},d=function(t){(0,o.dispatchChildRemoved)(u,e)(t);var n=t.key();h[n]&&(h[n].ref.off("value",h[n].listener),delete h[n])};l.child_added=a.on("child_added",r,f),l.child_changed=a.on("child_changed",p,f),l.child_moved=a.on("child_moved",(0,o.dispatchChildMoved)(u,e),f),l.child_removed=a.on("child_removed",d,f),l.value=a.on("value",c,function(t){a.off("value",l.value),(0,o.dispatchInitialValueReceived)(u,e),f(t)})}():l.value=a.on("value",function(t){(0,o.dispatchObjectUpdated)(u,e,t),(0,o.dispatchInitialValueReceived)(u,e)},function(t){(0,o.dispatchInitialValueReceived)(u,e),f(t)}),{ref:a.ref(),listeners:l,populated:h}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t["default"]=r;var o=n(396);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){Object.keys(e).forEach(function(r){e.hasOwnProperty(r)&&((0,a["default"])(e[r],t[r],n[r]),delete e[r],delete t[r],delete n[r])})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(152),a=r(o);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=a["default"](e);return function(){return t}}t.__esModule=!0;var o=n(90),a=r(o);t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(153),o=r(i),a=n(31),s=r(a);t["default"]=s["default"](function(e,t,n){return o["default"](e,t,function(e){return e},n)}),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=n(399),o=r(i),a=n(90),s=r(a),u=n(402),c=r(u),l=n(400),h=r(l),f=n(153),p=r(f),d=n(154),v=r(d),m=n(403),g=r(m),y=n(404),b=r(y),w=n(41),x=r(w),_=n(405),E=r(_),S=n(406),M=r(S),T=n(31),C=x["default"];C._=T._,C.constant=o["default"],C["if"]=h["default"],C.ifElse=p["default"],C.is=c["default"],C.freeze=s["default"],C.map=v["default"],C.omit=g["default"],C.reject=b["default"],C.update=x["default"],C.updateIn=E["default"],C.withDefault=M["default"],t["default"]=C,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){for(var r=a["default"](e),i=n,o=void 0,s=r,u=Array.isArray(s),c=0,s=u?s:s[Symbol.iterator]();;){if(u){if(c>=s.length)break;o=s[c++]}else{if(c=s.next(),c.done)break;o=c.value}if("undefined"==typeof i)return!1;i=i[o]}return"function"==typeof t?t(i):t===i}t.__esModule=!0;var o=n(155),a=r(o),s=n(31),u=r(s);t["default"]=u["default"](i),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return a["default"](t,e)}t.__esModule=!0;var o=n(226),a=r(o),s=n(42),u=r(s);t["default"]=u["default"](i),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return a["default"](t,e)}t.__esModule=!0;var o=n(94),a=r(o),s=n(42),u=r(s);t["default"]=u["default"](i),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n;return t===d?function(t){var n;return Object.prototype.hasOwnProperty.call(t,d)?c["default"]((n={},n[d]=e,n),t):h["default"](e,t)}:(n={},n[t]=e,n)}function o(e,t,n){var r=p["default"](e),o=r.reduceRight(i,t);return c["default"](o,n)}t.__esModule=!0;var a=n(31),s=r(a),u=n(41),c=r(u),l=n(154),h=r(l),f=n(155),p=r(f),d="*";t["default"]=s["default"](o),e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return"undefined"==typeof n?a["default"](t,e):a["default"](t,n)}t.__esModule=!0;var o=n(41),a=r(o),s=n(31),u=r(s);t["default"]=u["default"](i),e.exports=t["default"]},function(e,t,n){var r=n(173);"string"==typeof r&&(r=[[e.id,r,""]]);n(156)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(177);"string"==typeof r&&(r=[[e.id,r,""]]);n(156)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){var r,i,o=o||{},a={REVISION:"73"};r=a,i="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==i&&(e.exports=i)),void 0!==o.requestAnimationFrame&&void 0!==o.cancelAnimationFrame||!function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!o.requestAnimationFrame;++n)o.requestAnimationFrame=o[t[n]+"RequestAnimationFrame"],o.cancelAnimationFrame=o[t[n]+"CancelAnimationFrame"]||o[t[n]+"CancelRequestAnimationFrame"];void 0===o.requestAnimationFrame&&void 0!==o.setTimeout&&(o.requestAnimationFrame=function(t){var n=Date.now(),r=Math.max(0,16-(n-e)),i=o.setTimeout(function(){t(n+r)},r);return e=n+r,i}),void 0===o.cancelAnimationFrame&&void 0!==o.clearTimeout&&(o.cancelAnimationFrame=function(e){o.clearTimeout(e)})}(),void 0===o.performance&&(o.performance={}),void 0===o.performance.now&&!function(){var e=Date.now();o.performance.now=function(){return Date.now()-e}}(),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(e){return 0>e?-1:e>0?1:+e}),void 0===Function.prototype.name&&void 0!==Object.defineProperty&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}}),a.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},a.CullFaceNone=0,a.CullFaceBack=1,a.CullFaceFront=2,a.CullFaceFrontBack=3,a.FrontFaceDirectionCW=0,a.FrontFaceDirectionCCW=1,a.BasicShadowMap=0,a.PCFShadowMap=1,a.PCFSoftShadowMap=2,a.FrontSide=0,a.BackSide=1,a.DoubleSide=2,a.FlatShading=1,a.SmoothShading=2,a.NoColors=0,a.FaceColors=1,a.VertexColors=2,a.NoBlending=0,a.NormalBlending=1,a.AdditiveBlending=2,a.SubtractiveBlending=3,a.MultiplyBlending=4,a.CustomBlending=5,a.AddEquation=100,a.SubtractEquation=101,a.ReverseSubtractEquation=102,a.MinEquation=103,a.MaxEquation=104,a.ZeroFactor=200,a.OneFactor=201,a.SrcColorFactor=202,a.OneMinusSrcColorFactor=203,a.SrcAlphaFactor=204,a.OneMinusSrcAlphaFactor=205,a.DstAlphaFactor=206,a.OneMinusDstAlphaFactor=207,a.DstColorFactor=208,a.OneMinusDstColorFactor=209,a.SrcAlphaSaturateFactor=210,a.NeverDepth=0,a.AlwaysDepth=1,a.LessDepth=2,a.LessEqualDepth=3,a.EqualDepth=4,a.GreaterEqualDepth=5,a.GreaterDepth=6,a.NotEqualDepth=7,a.MultiplyOperation=0,a.MixOperation=1,a.AddOperation=2,a.UVMapping=300,a.CubeReflectionMapping=301,a.CubeRefractionMapping=302,a.EquirectangularReflectionMapping=303,a.EquirectangularRefractionMapping=304,a.SphericalReflectionMapping=305,a.RepeatWrapping=1e3,a.ClampToEdgeWrapping=1001,a.MirroredRepeatWrapping=1002,a.NearestFilter=1003,a.NearestMipMapNearestFilter=1004,a.NearestMipMapLinearFilter=1005,a.LinearFilter=1006,a.LinearMipMapNearestFilter=1007,a.LinearMipMapLinearFilter=1008,a.UnsignedByteType=1009,a.ByteType=1010,a.ShortType=1011,a.UnsignedShortType=1012,a.IntType=1013,a.UnsignedIntType=1014,a.FloatType=1015,a.HalfFloatType=1025,a.UnsignedShort4444Type=1016,a.UnsignedShort5551Type=1017,a.UnsignedShort565Type=1018,a.AlphaFormat=1019,a.RGBFormat=1020,a.RGBAFormat=1021,a.LuminanceFormat=1022,a.LuminanceAlphaFormat=1023,a.RGBEFormat=a.RGBAFormat,a.RGB_S3TC_DXT1_Format=2001,a.RGBA_S3TC_DXT1_Format=2002,a.RGBA_S3TC_DXT3_Format=2003,a.RGBA_S3TC_DXT5_Format=2004,a.RGB_PVRTC_4BPPV1_Format=2100,a.RGB_PVRTC_2BPPV1_Format=2101,a.RGBA_PVRTC_4BPPV1_Format=2102,a.RGBA_PVRTC_2BPPV1_Format=2103,a.LoopOnce=2200,a.LoopRepeat=2201,a.LoopPingPong=2202,a.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(e,t){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},a.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElement("canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},a.Color=function(e){return 3===arguments.length?this.fromArray(arguments):this.set(e)},a.Color.prototype={constructor:a.Color,r:1,g:1,b:1,set:function(e){return e instanceof a.Color?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(e,t,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?e+6*(t-e)*n:.5>n?t:2/3>n?e+6*(t-e)*(2/3-n):e}return function(t,n,r){if(t=a.Math.euclideanModulo(t,1),
n=a.Math.clamp(n,0,1),r=a.Math.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=.5>=r?r*(1+n):r+n-r*n,o=2*r-i;this.r=e(o,i,t+1/3),this.g=e(o,i,t),this.b=e(o,i,t-1/3)}return this}}(),setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var s=parseFloat(r[1])/360,u=parseInt(r[2],10)/100,c=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(s,u,c)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var l=n[1],h=l.length;if(3===h)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===h)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}if(e&&e.length>0){var l=a.ColorKeywords[e];void 0!==l?this.setHex(l):console.warn("THREE.Color: Unknown color "+e)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(){var e=this.r,t=this.g,n=this.b;return this.r=e*e,this.g=t*t,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t,n,r=e||{h:0,s:0,l:0},i=this.r,o=this.g,a=this.b,s=Math.max(i,o,a),u=Math.min(i,o,a),c=(u+s)/2;if(u===s)t=0,n=0;else{var l=s-u;switch(n=.5>=c?l/(s+u):l/(2-s-u),s){case i:t=(o-a)/l+(a>o?6:0);break;case o:t=(a-i)/l+2;break;case a:t=(i-o)/l+4}t/=6}return r.h=t,r.s=n,r.l=c,r},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){var r=this.getHSL();return r.h+=e,r.s+=t,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},a.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},a.Quaternion=function(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1},a.Quaternion.prototype={constructor:a.Quaternion,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get w(){return this._w},set w(e){this._w=e,this.onChangeCallback()},set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(e instanceof a.Euler==!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var n=Math.cos(e._x/2),r=Math.cos(e._y/2),i=Math.cos(e._z/2),o=Math.sin(e._x/2),s=Math.sin(e._y/2),u=Math.sin(e._z/2),c=e.order;return"XYZ"===c?(this._x=o*r*i+n*s*u,this._y=n*s*i-o*r*u,this._z=n*r*u+o*s*i,this._w=n*r*i-o*s*u):"YXZ"===c?(this._x=o*r*i+n*s*u,this._y=n*s*i-o*r*u,this._z=n*r*u-o*s*i,this._w=n*r*i+o*s*u):"ZXY"===c?(this._x=o*r*i-n*s*u,this._y=n*s*i+o*r*u,this._z=n*r*u+o*s*i,this._w=n*r*i-o*s*u):"ZYX"===c?(this._x=o*r*i-n*s*u,this._y=n*s*i+o*r*u,this._z=n*r*u-o*s*i,this._w=n*r*i+o*s*u):"YZX"===c?(this._x=o*r*i+n*s*u,this._y=n*s*i+o*r*u,this._z=n*r*u-o*s*i,this._w=n*r*i-o*s*u):"XZY"===c&&(this._x=o*r*i-n*s*u,this._y=n*s*i-o*r*u,this._z=n*r*u+o*s*i,this._w=n*r*i+o*s*u),t!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],u=n[9],c=n[2],l=n[6],h=n[10],f=r+s+h;return f>0?(t=.5/Math.sqrt(f+1),this._w=.25/t,this._x=(l-u)*t,this._y=(o-c)*t,this._z=(a-i)*t):r>s&&r>h?(t=2*Math.sqrt(1+r-s-h),this._w=(l-u)/t,this._x=.25*t,this._y=(i+a)/t,this._z=(o+c)/t):s>h?(t=2*Math.sqrt(1+s-r-h),this._w=(o-c)/t,this._x=(i+a)/t,this._y=.25*t,this._z=(u+l)/t):(t=2*Math.sqrt(1+h-r-s),this._w=(a-i)/t,this._x=(o+c)/t,this._y=(u+l)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t,n=1e-6;return function(r,i){return void 0===e&&(e=new a.Vector3),t=r.dot(i)+1,n>t?(t=0,Math.abs(r.x)>Math.abs(r.z)?e.set(-r.y,r.x,0):e.set(0,-r.z,r.y)):e.crossVectors(r,i),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize(),this}}(),inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,u=t._z,c=t._w;return this._x=n*c+o*a+r*u-i*s,this._y=r*c+o*s+i*a-n*u,this._z=i*c+o*u+n*s-r*a,this._w=o*c-n*a-r*s-i*u,this.onChangeCallback(),this},multiplyVector3:function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(0>a?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=Math.acos(a),u=Math.sqrt(1-a*a);if(Math.abs(u)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var c=Math.sin((1-t)*s)/u,l=Math.sin(t*s)/u;return this._w=o*c+this._w*l,this._x=n*c+this._x*l,this._y=r*c+this._y*l,this._z=i*c+this._z*l,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}},a.Quaternion.slerp=function(e,t,n,r){return n.copy(e).slerp(t,r)},a.Vector2=function(e,t){this.x=e||0,this.y=t||0},a.Vector2.prototype={constructor:a.Vector2,get width(){return this.x},set width(e){this.x=e},get height(){return this.y},set height(e){this.y=e},set:function(e,t){return this.x=e,this.y=t,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e):(this.x=0,this.y=0),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(){var e,t;return function(n,r){return void 0===e&&(e=new a.Vector2,t=new a.Vector2),e.set(n,n),t.set(r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.multiplyScalar(Math.max(e,Math.min(t,n))/n),this},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e),this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromAttribute:function(e,t,n){return void 0===n&&(n=0),t=t*e.itemSize+n,this.x=e.array[t],this.y=e.array[t+1],this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}},a.Vector3=function(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0},a.Vector3.prototype={constructor:a.Vector3,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e;return function(t){return t instanceof a.Euler==!1&&console.error("THREE.Vector3: .applyEuler() now expects a Euler rotation rather than a Vector3 and order."),void 0===e&&(e=new a.Quaternion),this.applyQuaternion(e.setFromEuler(t)),this}}(),applyAxisAngle:function(){var e;return function(t,n){return void 0===e&&(e=new a.Quaternion),this.applyQuaternion(e.setFromAxisAngle(t,n)),this}}(),applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r+i[12],this.y=i[1]*t+i[5]*n+i[9]*r+i[13],this.z=i[2]*t+i[6]*n+i[10]*r+i[14],this},applyProjection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,u=s*t+o*r-a*n,c=s*n+a*t-i*r,l=s*r+i*n-o*t,h=-i*t-o*n-a*r;return this.x=u*s+h*-i+c*-a-l*-o,this.y=c*s+h*-o+l*-i-u*-a,this.z=l*s+h*-a+u*-o-c*-i,this},project:function(){var e;return function(t){return void 0===e&&(e=new a.Matrix4),e.multiplyMatrices(t.projectionMatrix,e.getInverse(t.matrixWorld)),this.applyProjection(e)}}(),unproject:function(){var e;return function(t){return void 0===e&&(e=new a.Matrix4),e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyProjection(e)}}(),transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize(),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e,t;return function(n,r){return void 0===e&&(e=new a.Vector3,t=new a.Vector3),e.set(n,n,n),t.set(r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.multiplyScalar(Math.max(e,Math.min(t,n))/n),this},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e),this},cross:function(e,t){if(void 0!==t)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t);var n=this.x,r=this.y,i=this.z;return this.x=r*e.z-i*e.y,this.y=i*e.x-n*e.z,this.z=n*e.y-r*e.x,this},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(){var e,t;return function(n){return void 0===e&&(e=new a.Vector3),e.copy(n).normalize(),t=this.dot(e),this.copy(e).multiplyScalar(t)}}(),projectOnPlane:function(){var e;return function(t){return void 0===e&&(e=new a.Vector3),e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e;return function(t){return void 0===e&&(e=new a.Vector3),this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/(this.length()*e.length());return Math.acos(a.Math.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},setEulerFromRotationMatrix:function(e,t){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(e,t){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},setFromMatrixPosition:function(e){return this.x=e.elements[12],this.y=e.elements[13],this.z=e.elements[14],this},setFromMatrixScale:function(e){var t=this.set(e.elements[0],e.elements[1],e.elements[2]).length(),n=this.set(e.elements[4],e.elements[5],e.elements[6]).length(),r=this.set(e.elements[8],e.elements[9],e.elements[10]).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){var n=4*e,r=t.elements;return this.x=r[n],this.y=r[n+1],this.z=r[n+2],this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromAttribute:function(e,t,n){return void 0===n&&(n=0),t=t*e.itemSize+n,this.x=e.array[t],this.y=e.array[t+1],this.z=e.array[t+2],this}},a.Vector4=function(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1},a.Vector4.prototype={constructor:a.Vector4,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e,this.w*=e):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return 1e-4>t?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,o=.01,a=.1,s=e.elements,u=s[0],c=s[4],l=s[8],h=s[1],f=s[5],p=s[9],d=s[2],v=s[6],m=s[10];if(Math.abs(c-h)<o&&Math.abs(l-d)<o&&Math.abs(p-v)<o){if(Math.abs(c+h)<a&&Math.abs(l+d)<a&&Math.abs(p+v)<a&&Math.abs(u+f+m-3)<a)return this.set(1,0,0,0),this;t=Math.PI;var g=(u+1)/2,y=(f+1)/2,b=(m+1)/2,w=(c+h)/4,x=(l+d)/4,_=(p+v)/4;return g>y&&g>b?o>g?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(g),r=w/n,i=x/n):y>b?o>y?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(y),n=w/r,i=_/r):o>b?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(b),n=x/i,r=_/i),this.set(n,r,i,t),this}var E=Math.sqrt((v-p)*(v-p)+(l-d)*(l-d)+(h-c)*(h-c));return Math.abs(E)<.001&&(E=1),this.x=(v-p)/E,this.y=(l-d)/E,this.z=(h-c)/E,this.w=Math.acos((u+f+m-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(n,r){return void 0===e&&(e=new a.Vector4,t=new a.Vector4),e.set(n,n,n,n),t.set(r,r,r,r),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e),this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromAttribute:function(e,t,n){return void 0===n&&(n=0),t=t*e.itemSize+n,this.x=e.array[t],this.y=e.array[t+1],this.z=e.array[t+2],this.w=e.array[t+3],this}},a.Euler=function(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||a.Euler.DefaultOrder},a.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],a.Euler.DefaultOrder="XYZ",a.Euler.prototype={constructor:a.Euler,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get order(){return this._order},set order(e){this._order=e,this.onChangeCallback()},set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=a.Math.clamp,i=e.elements,o=i[0],s=i[4],u=i[8],c=i[1],l=i[5],h=i[9],f=i[2],p=i[6],d=i[10];return t=t||this._order,"XYZ"===t?(this._y=Math.asin(r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-h,d),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(p,l),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(u,d),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-f,o),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-s,l)):(this._y=0,this._z=Math.atan2(c,o))):"ZYX"===t?(this._y=Math.asin(-r(f,-1,1)),Math.abs(f)<.99999?(this._x=Math.atan2(p,d),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-s,l))):"YZX"===t?(this._z=Math.asin(r(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-h,l),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(u,d))):"XZY"===t?(this._z=Math.asin(-r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(p,l),this._y=Math.atan2(u,o)):(this._x=Math.atan2(-h,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,n!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var e;return function(t,n,r){return void 0===e&&(e=new a.Matrix4),e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,r),this}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new a.Quaternion;return function(t){e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},
toVector3:function(e){return e?e.set(this._x,this._y,this._z):new a.Vector3(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}},a.Line3=function(e,t){this.start=void 0!==e?e:new a.Vector3,this.end=void 0!==t?t:new a.Vector3},a.Line3.prototype={constructor:a.Line3,set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},center:function(e){var t=e||new a.Vector3;return t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){var t=e||new a.Vector3;return t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var n=t||new a.Vector3;return this.delta(n).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new a.Vector3,t=new a.Vector3;return function(n,r){e.subVectors(n,this.start),t.subVectors(this.end,this.start);var i=t.dot(t),o=t.dot(e),s=o/i;return r&&(s=a.Math.clamp(s,0,1)),s}}(),closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t),i=n||new a.Vector3;return this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},a.Box2=function(e,t){this.min=void 0!==e?e:new a.Vector2(1/0,1/0),this.max=void 0!==t?t:new a.Vector2(-(1/0),-(1/0))},a.Box2.prototype={constructor:a.Box2,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;n>t;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new a.Vector2;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-(1/0),this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(e){var t=e||new a.Vector2;return t.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){var t=e||new a.Vector2;return t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){var n=t||new a.Vector2;return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},isIntersectionBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){var n=t||new a.Vector2;return n.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new a.Vector2;return function(t){var n=e.copy(t).clamp(this.min,this.max);return n.sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},a.Box3=function(e,t){this.min=void 0!==e?e:new a.Vector3(1/0,1/0,1/0),this.max=void 0!==t?t:new a.Vector3(-(1/0),-(1/0),-(1/0))},a.Box3.prototype={constructor:a.Box3,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;n>t;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new a.Vector3;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),setFromObject:function(){var e=new a.Vector3;return function(t){var n=this;return t.updateMatrixWorld(!0),this.makeEmpty(),t.traverse(function(t){var r=t.geometry;if(void 0!==r)if(r instanceof a.Geometry)for(var i=r.vertices,o=0,s=i.length;s>o;o++)e.copy(i[o]),e.applyMatrix4(t.matrixWorld),n.expandByPoint(e);else if(r instanceof a.BufferGeometry&&void 0!==r.attributes.position)for(var u=r.attributes.position.array,o=0,s=u.length;s>o;o+=3)e.set(u[o],u[o+1],u[o+2]),e.applyMatrix4(t.matrixWorld),n.expandByPoint(e)}),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-(1/0),this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(e){var t=e||new a.Vector3;return t.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){var t=e||new a.Vector3;return t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){var n=t||new a.Vector3;return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},clampPoint:function(e,t){var n=t||new a.Vector3;return n.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new a.Vector3;return function(t){var n=e.copy(t).clamp(this.min,this.max);return n.sub(t).length()}}(),getBoundingSphere:function(){var e=new a.Vector3;return function(t){var n=t||new a.Sphere;return n.center=this.center(),n.radius=.5*this.size(e).length(),n}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new a.Vector3,new a.Vector3,new a.Vector3,new a.Vector3,new a.Vector3,new a.Vector3,new a.Vector3,new a.Vector3];return function(t){return e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.makeEmpty(),this.setFromPoints(e),this}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},a.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")},a.Matrix3.prototype={constructor:a.Matrix3,set:function(e,t,n,r,i,o,a,s,u){var c=this.elements;return c[0]=e,c[3]=t,c[6]=n,c[1]=r,c[4]=i,c[7]=o,c[2]=a,c[5]=s,c[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8]),this},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(e){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)},applyToVector3Array:function(){var e;return function(t,n,r){void 0===e&&(e=new a.Vector3),void 0===n&&(n=0),void 0===r&&(r=t.length);for(var i=0,o=n;r>i;i+=3,o+=3)e.fromArray(t,o),e.applyMatrix3(this),e.toArray(t,o);return t}}(),applyToBuffer:function(){var e;return function(t,n,r){void 0===e&&(e=new a.Vector3),void 0===n&&(n=0),void 0===r&&(r=t.length/t.itemSize);for(var i=0,o=n;r>i;i++,o++)e.x=t.getX(o),e.y=t.getY(o),e.z=t.getZ(o),e.applyMatrix3(this),t.setXYZ(e.x,e.y,e.z);return t}}(),multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8];return t*o*c-t*a*u-n*i*c+n*a*s+r*i*u-r*o*s},getInverse:function(e,t){var n=e.elements,r=this.elements;r[0]=n[10]*n[5]-n[6]*n[9],r[1]=-n[10]*n[1]+n[2]*n[9],r[2]=n[6]*n[1]-n[2]*n[5],r[3]=-n[10]*n[4]+n[6]*n[8],r[4]=n[10]*n[0]-n[2]*n[8],r[5]=-n[6]*n[0]+n[2]*n[4],r[6]=n[9]*n[4]-n[5]*n[8],r[7]=-n[9]*n[0]+n[1]*n[8],r[8]=n[5]*n[0]-n[1]*n[4];var i=n[0]*r[0]+n[1]*r[3]+n[2]*r[6];if(0===i){var o="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(t)throw new Error(o);return console.warn(o),this.identity(),this}return this.multiplyScalar(1/i),this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},flattenToArrayOffset:function(e,t){var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e},getNormalMatrix:function(e){return this.getInverse(e).transpose(),this},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},fromArray:function(e){return this.elements.set(e),this},toArray:function(){var e=this.elements;return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}},a.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")},a.Matrix4.prototype={constructor:a.Matrix4,set:function(e,t,n,r,i,o,a,s,u,c,l,h,f,p,d,v){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=o,m[9]=a,m[13]=s,m[2]=u,m[6]=c,m[10]=l,m[14]=h,m[3]=f,m[7]=p,m[11]=d,m[15]=v,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new a.Matrix4).fromArray(this.elements)},copy:function(e){return this.elements.set(e.elements),this},extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){var r=this.elements;return e.set(r[0],r[1],r[2]),t.set(r[4],r[5],r[6]),n.set(r[8],r[9],r[10]),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e;return function(t){void 0===e&&(e=new a.Vector3);var n=this.elements,r=t.elements,i=1/e.set(r[0],r[1],r[2]).length(),o=1/e.set(r[4],r[5],r[6]).length(),s=1/e.set(r[8],r[9],r[10]).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,this}}(),makeRotationFromEuler:function(e){e instanceof a.Euler==!1&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),s=Math.sin(n),u=Math.cos(r),c=Math.sin(r),l=Math.cos(i),h=Math.sin(i);if("XYZ"===e.order){var f=o*l,p=o*h,d=s*l,v=s*h;t[0]=u*l,t[4]=-u*h,t[8]=c,t[1]=p+d*c,t[5]=f-v*c,t[9]=-s*u,t[2]=v-f*c,t[6]=d+p*c,t[10]=o*u}else if("YXZ"===e.order){var m=u*l,g=u*h,y=c*l,b=c*h;t[0]=m+b*s,t[4]=y*s-g,t[8]=o*c,t[1]=o*h,t[5]=o*l,t[9]=-s,t[2]=g*s-y,t[6]=b+m*s,t[10]=o*u}else if("ZXY"===e.order){var m=u*l,g=u*h,y=c*l,b=c*h;t[0]=m-b*s,t[4]=-o*h,t[8]=y+g*s,t[1]=g+y*s,t[5]=o*l,t[9]=b-m*s,t[2]=-o*c,t[6]=s,t[10]=o*u}else if("ZYX"===e.order){var f=o*l,p=o*h,d=s*l,v=s*h;t[0]=u*l,t[4]=d*c-p,t[8]=f*c+v,t[1]=u*h,t[5]=v*c+f,t[9]=p*c-d,t[2]=-c,t[6]=s*u,t[10]=o*u}else if("YZX"===e.order){var w=o*u,x=o*c,_=s*u,E=s*c;t[0]=u*l,t[4]=E-w*h,t[8]=_*h+x,t[1]=h,t[5]=o*l,t[9]=-s*l,t[2]=-c*l,t[6]=x*h+_,t[10]=w-E*h}else if("XZY"===e.order){var w=o*u,x=o*c,_=s*u,E=s*c;t[0]=u*l,t[4]=-h,t[8]=c*l,t[1]=w*h+E,t[5]=o*l,t[9]=x*h-_,t[2]=_*h-x,t[6]=s*l,t[10]=E*h+w}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},makeRotationFromQuaternion:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,o=e.w,a=n+n,s=r+r,u=i+i,c=n*a,l=n*s,h=n*u,f=r*s,p=r*u,d=i*u,v=o*a,m=o*s,g=o*u;return t[0]=1-(f+d),t[4]=l-g,t[8]=h+m,t[1]=l+g,t[5]=1-(c+d),t[9]=p-v,t[2]=h-m,t[6]=p+v,t[10]=1-(c+f),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e,t,n;return function(r,i,o){void 0===e&&(e=new a.Vector3),void 0===t&&(t=new a.Vector3),void 0===n&&(n=new a.Vector3);var s=this.elements;return n.subVectors(r,i).normalize(),0===n.lengthSq()&&(n.z=1),e.crossVectors(o,n).normalize(),0===e.lengthSq()&&(n.x+=1e-4,e.crossVectors(o,n).normalize()),t.crossVectors(n,e),s[0]=e.x,s[4]=t.x,s[8]=n.x,s[1]=e.y,s[5]=t.y,s[9]=n.y,s[2]=e.z,s[6]=t.z,s[10]=n.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],u=n[12],c=n[1],l=n[5],h=n[9],f=n[13],p=n[2],d=n[6],v=n[10],m=n[14],g=n[3],y=n[7],b=n[11],w=n[15],x=r[0],_=r[4],E=r[8],S=r[12],M=r[1],T=r[5],C=r[9],A=r[13],k=r[2],P=r[6],O=r[10],D=r[14],R=r[3],L=r[7],F=r[11],j=r[15];return i[0]=o*x+a*M+s*k+u*R,i[4]=o*_+a*T+s*P+u*L,i[8]=o*E+a*C+s*O+u*F,i[12]=o*S+a*A+s*D+u*j,i[1]=c*x+l*M+h*k+f*R,i[5]=c*_+l*T+h*P+f*L,i[9]=c*E+l*C+h*O+f*F,i[13]=c*S+l*A+h*D+f*j,i[2]=p*x+d*M+v*k+m*R,i[6]=p*_+d*T+v*P+m*L,i[10]=p*E+d*C+v*O+m*F,i[14]=p*S+d*A+v*D+m*j,i[3]=g*x+y*M+b*k+w*R,i[7]=g*_+y*T+b*P+w*L,i[11]=g*E+y*C+b*O+w*F,i[15]=g*S+y*A+b*D+w*j,this},multiplyToArray:function(e,t,n){var r=this.elements;return this.multiplyMatrices(e,t),n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),e.applyProjection(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(e){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)},applyToVector3Array:function(){var e;return function(t,n,r){void 0===e&&(e=new a.Vector3),void 0===n&&(n=0),void 0===r&&(r=t.length);for(var i=0,o=n;r>i;i+=3,o+=3)e.fromArray(t,o),e.applyMatrix4(this),e.toArray(t,o);return t}}(),applyToBuffer:function(){var e;return function(t,n,r){void 0===e&&(e=new a.Vector3),void 0===n&&(n=0),void 0===r&&(r=t.length/t.itemSize);for(var i=0,o=n;r>i;i++,o++)e.x=t.getX(o),e.y=t.getY(o),e.z=t.getZ(o),e.applyMatrix4(this),t.setXYZ(e.x,e.y,e.z);return t}}(),rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],u=e[13],c=e[2],l=e[6],h=e[10],f=e[14],p=e[3],d=e[7],v=e[11],m=e[15];return p*(+i*s*l-r*u*l-i*a*h+n*u*h+r*a*f-n*s*f)+d*(+t*s*f-t*u*h+i*o*h-r*o*f+r*u*c-i*s*c)+v*(+t*u*l-t*a*f-i*o*l+n*o*f+i*a*c-n*u*c)+m*(-r*a*c-t*s*l+t*a*h+r*o*l-n*o*h+n*s*c)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},flattenToArrayOffset:function(e,t){var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e},getPosition:function(){var e;return function(){void 0===e&&(e=new a.Vector3),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");var t=this.elements;return e.set(t[12],t[13],t[14])}}(),setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],o=r[4],a=r[8],s=r[12],u=r[1],c=r[5],l=r[9],h=r[13],f=r[2],p=r[6],d=r[10],v=r[14],m=r[3],g=r[7],y=r[11],b=r[15];n[0]=l*v*g-h*d*g+h*p*y-c*v*y-l*p*b+c*d*b,n[4]=s*d*g-a*v*g-s*p*y+o*v*y+a*p*b-o*d*b,n[8]=a*h*g-s*l*g+s*c*y-o*h*y-a*c*b+o*l*b,n[12]=s*l*p-a*h*p-s*c*d+o*h*d+a*c*v-o*l*v,n[1]=h*d*m-l*v*m-h*f*y+u*v*y+l*f*b-u*d*b,n[5]=a*v*m-s*d*m+s*f*y-i*v*y-a*f*b+i*d*b,n[9]=s*l*m-a*h*m-s*u*y+i*h*y+a*u*b-i*l*b,n[13]=a*h*f-s*l*f+s*u*d-i*h*d-a*u*v+i*l*v,n[2]=c*v*m-h*p*m+h*f*g-u*v*g-c*f*b+u*p*b,n[6]=s*p*m-o*v*m-s*f*g+i*v*g+o*f*b-i*p*b,n[10]=o*h*m-s*c*m+s*u*g-i*h*g-o*u*b+i*c*b,n[14]=s*c*f-o*h*f-s*u*p+i*h*p+o*u*v-i*c*v,n[3]=l*p*m-c*d*m-l*f*g+u*d*g+c*f*y-u*p*y,n[7]=o*d*m-a*p*m+a*f*g-i*d*g-o*f*y+i*p*y,n[11]=a*c*m-o*l*m-a*u*g+i*l*g+o*u*y-i*c*y,n[15]=o*l*f-a*c*f+a*u*p-i*l*p-o*u*d+i*c*d;var w=i*n[0]+u*n[4]+f*n[8]+m*n[12];if(0===w){var x="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(t)throw new Error(x);return console.warn(x),this.identity(),this}return this.multiplyScalar(1/w),this},translate:function(e){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(e){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(e){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(e){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(e,t){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,u=i*o,c=i*a;return this.set(u*o+n,u*a-r*s,u*s+r*a,0,u*a+r*s,c*a+n,c*s-r*o,0,u*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},compose:function(e,t,n){return this.makeRotationFromQuaternion(t),this.scale(n),this.setPosition(e),this},decompose:function(){var e,t;return function(n,r,i){void 0===e&&(e=new a.Vector3),void 0===t&&(t=new a.Matrix4);var o=this.elements,s=e.set(o[0],o[1],o[2]).length(),u=e.set(o[4],o[5],o[6]).length(),c=e.set(o[8],o[9],o[10]).length(),l=this.determinant();0>l&&(s=-s),n.x=o[12],n.y=o[13],n.z=o[14],t.elements.set(this.elements);var h=1/s,f=1/u,p=1/c;return t.elements[0]*=h,t.elements[1]*=h,t.elements[2]*=h,t.elements[4]*=f,t.elements[5]*=f,t.elements[6]*=f,t.elements[8]*=p,t.elements[9]*=p,t.elements[10]*=p,r.setFromRotationMatrix(t),i.x=s,i.y=u,i.z=c,this}}(),makeFrustum:function(e,t,n,r,i,o){var a=this.elements,s=2*i/(t-e),u=2*i/(r-n),c=(t+e)/(t-e),l=(r+n)/(r-n),h=-(o+i)/(o-i),f=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective:function(e,t,n,r){var i=n*Math.tan(a.Math.degToRad(.5*e)),o=-i,s=o*t,u=i*t;return this.makeFrustum(s,u,o,i,n,r)},makeOrthographic:function(e,t,n,r,i,o){var a=this.elements,s=t-e,u=n-r,c=o-i,l=(t+e)/s,h=(n+r)/u,f=(o+i)/c;return a[0]=2/s,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2/u,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2/c,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;16>r;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e){return this.elements.set(e),this},toArray:function(){var e=this.elements;return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}},a.Ray=function(e,t){this.origin=void 0!==e?e:new a.Vector3,this.direction=void 0!==t?t:new a.Vector3},a.Ray.prototype={constructor:a.Ray,set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){var n=t||new a.Vector3;return n.copy(this.direction).multiplyScalar(e).add(this.origin)},recast:function(){var e=new a.Vector3;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){var n=t||new a.Vector3;n.subVectors(e,this.origin);var r=n.dot(this.direction);return 0>r?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new a.Vector3;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return 0>n?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new a.Vector3,t=new a.Vector3,n=new a.Vector3;return function(r,i,o,a){e.copy(r).add(i).multiplyScalar(.5),t.copy(i).sub(r).normalize(),n.copy(this.origin).sub(e);var s,u,c,l,h=.5*r.distanceTo(i),f=-this.direction.dot(t),p=n.dot(this.direction),d=-n.dot(t),v=n.lengthSq(),m=Math.abs(1-f*f);if(m>0)if(s=f*d-p,u=f*p-d,l=h*m,s>=0)if(u>=-l)if(l>=u){var g=1/m;s*=g,u*=g,c=s*(s+f*u+2*p)+u*(f*s+u+2*d)+v}else u=h,s=Math.max(0,-(f*u+p)),c=-s*s+u*(u+2*d)+v;else u=-h,s=Math.max(0,-(f*u+p)),c=-s*s+u*(u+2*d)+v;else-l>=u?(s=Math.max(0,-(-f*h+p)),u=s>0?-h:Math.min(Math.max(-h,-d),h),c=-s*s+u*(u+2*d)+v):l>=u?(s=0,u=Math.min(Math.max(-h,-d),h),c=u*(u+2*d)+v):(s=Math.max(0,-(f*h+p)),u=s>0?h:Math.min(Math.max(-h,-d),h),c=-s*s+u*(u+2*d)+v);else u=f>0?-h:h,s=Math.max(0,-(f*u+p)),c=-s*s+u*(u+2*d)+v;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(t).multiplyScalar(u).add(e),c}}(),isIntersectionSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},intersectSphere:function(){var e=new a.Vector3;return function(t,n){e.subVectors(t.center,this.origin);var r=e.dot(this.direction),i=e.dot(e)-r*r,o=t.radius*t.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=r-a,u=r+a;return 0>s&&0>u?null:0>s?this.at(u,n):this.at(s,n)}}(),isIntersectionPlane:function(e){var t=e.distanceToPoint(this.origin);if(0===t)return!0;var n=e.normal.dot(this.direction);return 0>n*t},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},isIntersectionBox:function(){var e=new a.Vector3;return function(t){return null!==this.intersectBox(t,e)}}(),intersectBox:function(e,t){var n,r,i,o,a,s,u=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,h=this.origin;return u>=0?(n=(e.min.x-h.x)*u,r=(e.max.x-h.x)*u):(n=(e.max.x-h.x)*u,r=(e.min.x-h.x)*u),c>=0?(i=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(i=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),n>o||i>r?null:((i>n||n!==n)&&(n=i),(r>o||r!==r)&&(r=o),l>=0?(a=(e.min.z-h.z)*l,s=(e.max.z-h.z)*l):(a=(e.max.z-h.z)*l,s=(e.min.z-h.z)*l),n>s||a>r?null:((a>n||n!==n)&&(n=a),(r>s||r!==r)&&(r=s),0>r?null:this.at(n>=0?n:r,t)))},intersectTriangle:function(){var e=new a.Vector3,t=new a.Vector3,n=new a.Vector3,r=new a.Vector3;return function(i,o,a,s,u){t.subVectors(o,i),n.subVectors(a,i),r.crossVectors(t,n);var c,l=this.direction.dot(r);if(l>0){if(s)return null;c=1}else{if(!(0>l))return null;c=-1,l=-l}e.subVectors(this.origin,i);var h=c*this.direction.dot(n.crossVectors(e,n));if(0>h)return null;var f=c*this.direction.dot(t.cross(e));if(0>f)return null;if(h+f>l)return null;var p=-c*e.dot(r);return 0>p?null:this.at(p/l,u)}}(),applyMatrix4:function(e){return this.direction.add(this.origin).applyMatrix4(e),this.origin.applyMatrix4(e),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},a.Sphere=function(e,t){this.center=void 0!==e?e:new a.Vector3,this.radius=void 0!==t?t:0},a.Sphere.prototype={constructor:a.Sphere,set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new a.Box3;return function(t,n){var r=this.center;void 0!==n?r.copy(n):e.setFromPoints(t).center(r);for(var i=0,o=0,a=t.length;a>o;o++)i=Math.max(i,r.distanceToSquared(t[o]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},clampPoint:function(e,t){var n=this.center.distanceToSquared(e),r=t||new a.Vector3;return r.copy(e),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(e){var t=e||new a.Box3;return t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},a.Frustum=function(e,t,n,r,i,o){this.planes=[void 0!==e?e:new a.Plane,void 0!==t?t:new a.Plane,void 0!==n?n:new a.Plane,void 0!==r?r:new a.Plane,void 0!==i?i:new a.Plane,void 0!==o?o:new a.Plane]},a.Frustum.prototype={constructor:a.Frustum,set:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;6>n;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],c=n[6],l=n[7],h=n[8],f=n[9],p=n[10],d=n[11],v=n[12],m=n[13],g=n[14],y=n[15];return t[0].setComponents(a-r,l-s,d-h,y-v).normalize(),t[1].setComponents(a+r,l+s,d+h,y+v).normalize(),t[2].setComponents(a+i,l+u,d+f,y+m).normalize(),t[3].setComponents(a-i,l-u,d-f,y-m).normalize(),t[4].setComponents(a-o,l-c,d-p,y-g).normalize(),t[5].setComponents(a+o,l+c,d+p,y+g).normalize(),this},intersectsObject:function(){var e=new a.Sphere;return function(t){var n=t.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),e.copy(n.boundingSphere),e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;6>i;i++){var o=t[i].distanceToPoint(n);if(r>o)return!1}return!0},intersectsBox:function(){var e=new a.Vector3,t=new a.Vector3;return function(n){for(var r=this.planes,i=0;6>i;i++){var o=r[i];e.x=o.normal.x>0?n.min.x:n.max.x,t.x=o.normal.x>0?n.max.x:n.min.x,e.y=o.normal.y>0?n.min.y:n.max.y,t.y=o.normal.y>0?n.max.y:n.min.y,e.z=o.normal.z>0?n.min.z:n.max.z,t.z=o.normal.z>0?n.max.z:n.min.z;var a=o.distanceToPoint(e),s=o.distanceToPoint(t);if(0>a&&0>s)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,n=0;6>n;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},a.Plane=function(e,t){this.normal=void 0!==e?e:new a.Vector3(1,0,0),this.constant=void 0!==t?t:0},a.Plane.prototype={constructor:a.Plane,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new a.Vector3,t=new a.Vector3;return function(n,r,i){var o=e.subVectors(i,r).cross(t.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return this.orthoPoint(e,t).sub(e).negate()},orthoPoint:function(e,t){var n=this.distanceToPoint(e),r=t||new a.Vector3;return r.copy(this.normal).multiplyScalar(n)},isIntersectionLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return 0>t&&n>0||0>n&&t>0},intersectLine:function(){var e=new a.Vector3;return function(t,n){var r=n||new a.Vector3,i=t.delta(e),o=this.normal.dot(i);if(0!==o){var s=-(t.start.dot(this.normal)+this.constant)/o;if(!(0>s||s>1))return r.copy(i).multiplyScalar(s).add(t.start)}else if(0===this.distanceToPoint(t.start))return r.copy(t.start)}}(),coplanarPoint:function(e){var t=e||new a.Vector3;return t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new a.Vector3,t=new a.Vector3,n=new a.Matrix3;return function(r,i){var o=i||n.getNormalMatrix(r),a=e.copy(this.normal).applyMatrix3(o),s=this.coplanarPoint(t);return s.applyMatrix4(r),this.setFromNormalAndCoplanarPoint(a,s),this}}(),translate:function(e){return this.constant=this.constant-e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},a.Math={generateUUID:function(){var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=new Array(36),r=0;return function(){for(var i=0;36>i;i++)8===i||13===i||18===i||23===i?n[i]="-":14===i?n[i]="4":(2>=r&&(r=33554432+16777216*Math.random()|0),
e=15&r,r>>=4,n[i]=t[19===i?3&e|8:e]);return n.join("")}}(),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},smoothstep:function(e,t,n){return t>=e?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))},smootherstep:function(e,t,n){return t>=e?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(6*e-15)+10))},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(){var e=Math.PI/180;return function(t){return t*e}}(),radToDeg:function(){var e=180/Math.PI;return function(t){return t*e}}(),isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},nearestPowerOfTwo:function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))},nextPowerOfTwo:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e}},a.Spline=function(e){function t(e,t,n,r,i,o,a){var s=.5*(n-e),u=.5*(r-t);return(2*(t-n)+s+u)*a+(-3*(t-n)-2*s-u)*o+s*i+t}this.points=e;var n,r,i,o,s,u,c,l,h,f=[],p={x:0,y:0,z:0};this.initFromArray=function(e){this.points=[];for(var t=0;t<e.length;t++)this.points[t]={x:e[t][0],y:e[t][1],z:e[t][2]}},this.getPoint=function(e){return n=(this.points.length-1)*e,r=Math.floor(n),i=n-r,f[0]=0===r?r:r-1,f[1]=r,f[2]=r>this.points.length-2?this.points.length-1:r+1,f[3]=r>this.points.length-3?this.points.length-1:r+2,u=this.points[f[0]],c=this.points[f[1]],l=this.points[f[2]],h=this.points[f[3]],o=i*i,s=i*o,p.x=t(u.x,c.x,l.x,h.x,i,o,s),p.y=t(u.y,c.y,l.y,h.y,i,o,s),p.z=t(u.z,c.z,l.z,h.z,i,o,s),p},this.getControlPointsArray=function(){var e,t,n=this.points.length,r=[];for(e=0;n>e;e++)t=this.points[e],r[e]=[t.x,t.y,t.z];return r},this.getLength=function(e){var t,n,r,i,o=0,s=0,u=0,c=new a.Vector3,l=new a.Vector3,h=[],f=0;for(h[0]=0,e||(e=100),r=this.points.length*e,c.copy(this.points[0]),t=1;r>t;t++)n=t/r,i=this.getPoint(n),l.copy(i),f+=l.distanceTo(c),c.copy(i),o=(this.points.length-1)*n,s=Math.floor(o),s!==u&&(h[s]=f,u=s);return h[h.length]=f,{chunks:h,total:f}},this.reparametrizeByArcLength=function(e){var t,n,r,i,o,s,u,c,l=[],h=new a.Vector3,f=this.getLength();for(l.push(h.copy(this.points[0]).clone()),t=1;t<this.points.length;t++){for(s=f.chunks[t]-f.chunks[t-1],u=Math.ceil(e*s/f.total),i=(t-1)/(this.points.length-1),o=t/(this.points.length-1),n=1;u-1>n;n++)r=i+n*(1/u)*(o-i),c=this.getPoint(r),l.push(h.copy(c).clone());l.push(h.copy(this.points[t]).clone())}this.points=l}},a.Triangle=function(e,t,n){this.a=void 0!==e?e:new a.Vector3,this.b=void 0!==t?t:new a.Vector3,this.c=void 0!==n?n:new a.Vector3},a.Triangle.normal=function(){var e=new a.Vector3;return function(t,n,r,i){var o=i||new a.Vector3;o.subVectors(r,n),e.subVectors(t,n),o.cross(e);var s=o.lengthSq();return s>0?o.multiplyScalar(1/Math.sqrt(s)):o.set(0,0,0)}}(),a.Triangle.barycoordFromPoint=function(){var e=new a.Vector3,t=new a.Vector3,n=new a.Vector3;return function(r,i,o,s,u){e.subVectors(s,i),t.subVectors(o,i),n.subVectors(r,i);var c=e.dot(e),l=e.dot(t),h=e.dot(n),f=t.dot(t),p=t.dot(n),d=c*f-l*l,v=u||new a.Vector3;if(0===d)return v.set(-2,-1,-1);var m=1/d,g=(f*h-l*p)*m,y=(c*p-l*h)*m;return v.set(1-g-y,y,g)}}(),a.Triangle.containsPoint=function(){var e=new a.Vector3;return function(t,n,r,i){var o=a.Triangle.barycoordFromPoint(t,n,r,i,e);return o.x>=0&&o.y>=0&&o.x+o.y<=1}}(),a.Triangle.prototype={constructor:a.Triangle,set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new a.Vector3,t=new a.Vector3;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),midpoint:function(e){var t=e||new a.Vector3;return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return a.Triangle.normal(this.a,this.b,this.c,e)},plane:function(e){var t=e||new a.Plane;return t.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return a.Triangle.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return a.Triangle.containsPoint(e,this.a,this.b,this.c)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},a.Channels=function(){this.mask=1},a.Channels.prototype={constructor:a.Channels,set:function(e){this.mask=1<<e},enable:function(e){this.mask|=1<<e},toggle:function(e){this.mask^=1<<e},disable:function(e){this.mask&=~(1<<e)}},a.Clock=function(e){this.autoStart=void 0!==e?e:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1},a.Clock.prototype={constructor:a.Clock,start:function(){this.startTime=o.performance.now(),this.oldTime=this.startTime,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running&&this.start(),this.running){var t=o.performance.now();e=.001*(t-this.oldTime),this.oldTime=t,this.elapsedTime+=e}return e}},a.EventDispatcher=function(){},a.EventDispatcher.prototype={constructor:a.EventDispatcher,apply:function(e){e.addEventListener=a.EventDispatcher.prototype.addEventListener,e.hasEventListener=a.EventDispatcher.prototype.hasEventListener,e.removeEventListener=a.EventDispatcher.prototype.removeEventListener,e.dispatchEvent=a.EventDispatcher.prototype.dispatchEvent},addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners,r=n[e];if(void 0!==r){var i=r.indexOf(t);-1!==i&&r.splice(i,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners,n=t[e.type];if(void 0!==n){e.target=this;for(var r=[],i=n.length,o=0;i>o;o++)r[o]=n[o];for(var o=0;i>o;o++)r[o].call(this,e)}}}},function(e){function t(e,t){return e.distance-t.distance}function n(e,t,r,i){if(e.visible!==!1&&(e.raycast(t,r),i===!0))for(var o=e.children,a=0,s=o.length;s>a;a++)n(o[a],t,r,!0)}e.Raycaster=function(t,n,r,i){this.ray=new e.Ray(t,n),this.near=r||0,this.far=i||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})},e.Raycaster.prototype={constructor:e.Raycaster,linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(t,n){n instanceof e.PerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(n).sub(this.ray.origin).normalize()):n instanceof e.OrthographicCamera?(this.ray.origin.set(t.x,t.y,-1).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,r){var i=[];return n(e,this,i,r),i.sort(t),i},intersectObjects:function(e,r){var i=[];if(Array.isArray(e)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var o=0,a=e.length;a>o;o++)n(e[o],this,i,r);return i.sort(t),i}}}(a),a.Object3D=function(){function e(){i.setFromEuler(r,!1)}function t(){r.setFromQuaternion(i,void 0,!1)}Object.defineProperty(this,"id",{value:a.Object3DIdCount++}),this.uuid=a.Math.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.channels=new a.Channels,this.children=[],this.up=a.Object3D.DefaultUp.clone();var n=new a.Vector3,r=new a.Euler,i=new a.Quaternion,o=new a.Vector3(1,1,1);r.onChange(e),i.onChange(t),Object.defineProperties(this,{position:{enumerable:!0,value:n},rotation:{enumerable:!0,value:r},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:o},modelViewMatrix:{value:new a.Matrix4},normalMatrix:{value:new a.Matrix3}}),this.rotationAutoUpdate=!0,this.matrix=new a.Matrix4,this.matrixWorld=new a.Matrix4,this.matrixAutoUpdate=a.Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}},a.Object3D.DefaultUp=new a.Vector3(0,1,0),a.Object3D.DefaultMatrixAutoUpdate=!0,a.Object3D.prototype={constructor:a.Object3D,get eulerOrder(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set eulerOrder(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e},get useQuaternion(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set useQuaternion(e){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set renderDepth(e){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new a.Quaternion;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.multiply(e),this}}(),rotateX:function(){var e=new a.Vector3(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new a.Vector3(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new a.Vector3(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new a.Vector3;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},translateX:function(){var e=new a.Vector3(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new a.Vector3(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new a.Vector3(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new a.Matrix4;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new a.Matrix4;return function(t){e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e instanceof a.Object3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1)for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);var n=this.children.indexOf(e);-1!==n&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(n,1))},getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;r>n;n++){var i=this.children[n],o=i.getObjectByProperty(e,t);if(void 0!==o)return o}},getWorldPosition:function(e){var t=e||new a.Vector3;return this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new a.Vector3,t=new a.Vector3;return function(n){var r=n||new a.Quaternion;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,r,t),r}}(),getWorldRotation:function(){var e=new a.Quaternion;return function(t){var n=t||new a.Euler;return this.getWorldQuaternion(e),n.setFromQuaternion(e,this.rotation.order,!1)}}(),getWorldScale:function(){var e=new a.Vector3,t=new a.Quaternion;return function(n){var r=n||new a.Vector3;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,r),r}}(),getWorldDirection:function(){var e=new a.Quaternion;return function(t){var n=t||new a.Vector3;return this.getWorldQuaternion(e),n.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;r>n;n++)t[n].traverse(e)},traverseVisible:function(e){if(this.visible!==!1){e(this);for(var t=this.children,n=0,r=t.length;r>n;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate===!0&&this.updateMatrix(),this.matrixWorldNeedsUpdate!==!0&&e!==!0||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=0,n=this.children.length;n>t;t++)this.children[t].updateMatrixWorld(e)},toJSON:function(e){function t(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}var n=void 0===e,r={};n&&(e={geometries:{},materials:{},textures:{},images:{}},r.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var i={};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),i.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===e.geometries[this.geometry.uuid]&&(e.geometries[this.geometry.uuid]=this.geometry.toJSON(e)),i.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===e.materials[this.material.uuid]&&(e.materials[this.material.uuid]=this.material.toJSON(e)),i.material=this.material.uuid),this.children.length>0){i.children=[];for(var o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(n){var a=t(e.geometries),s=t(e.materials),u=t(e.textures),c=t(e.images);a.length>0&&(r.geometries=a),s.length>0&&(r.materials=s),u.length>0&&(r.textures=u),c.length>0&&(r.images=c)}return r.object=i,r},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.rotationAutoUpdate=e.rotationAutoUpdate,this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}},a.EventDispatcher.prototype.apply(a.Object3D.prototype),a.Object3DIdCount=0,a.Face3=function(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.normal=r instanceof a.Vector3?r:new a.Vector3,this.vertexNormals=Array.isArray(r)?r:[],this.color=i instanceof a.Color?i:new a.Color,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0},a.Face3.prototype={constructor:a.Face3,clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;n>t;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var t=0,n=e.vertexColors.length;n>t;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}},a.Face4=function(e,t,n,r,i,o,s){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new a.Face3(e,t,n,i,o,s)},a.BufferAttribute=function(e,t){this.uuid=a.Math.generateUUID(),this.array=e,this.itemSize=t,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0},a.BufferAttribute.prototype={constructor:a.BufferAttribute,get length(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),this.array.length},get count(){return this.array.length/this.itemSize},set needsUpdate(e){e===!0&&this.version++},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;i>r;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;i>r;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new a.Color),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyIndicesArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;i>r;r++){var o=e[r];t[n++]=o.a,t[n++]=o.b,t[n++]=o.c}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;i>r;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new a.Vector2),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;i>r;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new a.Vector3),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;i>r;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new a.Vector4),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},clone:function(){return(new this.constructor).copy(this)}},a.Int8Attribute=function(e,t){return new a.BufferAttribute(new Int8Array(e),t)},a.Uint8Attribute=function(e,t){return new a.BufferAttribute(new Uint8Array(e),t)},a.Uint8ClampedAttribute=function(e,t){return new a.BufferAttribute(new Uint8ClampedArray(e),t)},a.Int16Attribute=function(e,t){return new a.BufferAttribute(new Int16Array(e),t)},a.Uint16Attribute=function(e,t){return new a.BufferAttribute(new Uint16Array(e),t)},a.Int32Attribute=function(e,t){return new a.BufferAttribute(new Int32Array(e),t)},a.Uint32Attribute=function(e,t){return new a.BufferAttribute(new Uint32Array(e),t)},a.Float32Attribute=function(e,t){return new a.BufferAttribute(new Float32Array(e),t)},a.Float64Attribute=function(e,t){return new a.BufferAttribute(new Float64Array(e),t)},a.DynamicBufferAttribute=function(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new a.BufferAttribute(e,t).setDynamic(!0)},a.InstancedBufferAttribute=function(e,t,n){a.BufferAttribute.call(this,e,t),this.meshPerAttribute=n||1},a.InstancedBufferAttribute.prototype=Object.create(a.BufferAttribute.prototype),a.InstancedBufferAttribute.prototype.constructor=a.InstancedBufferAttribute,a.InstancedBufferAttribute.prototype.copy=function(e){return a.BufferAttribute.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},a.InterleavedBuffer=function(e,t){this.uuid=a.Math.generateUUID(),this.array=e,this.stride=t,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0},a.InterleavedBuffer.prototype={constructor:a.InterleavedBuffer,get length(){return this.array.length},get count(){return this.array.length/this.stride},set needsUpdate(e){e===!0&&this.version++},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){this.array=new e.array.constructor(e.array),this.stride=e.stride,this.dynamic=e.dynamic},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;i>r;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)}},a.InstancedInterleavedBuffer=function(e,t,n){a.InterleavedBuffer.call(this,e,t),this.meshPerAttribute=n||1},a.InstancedInterleavedBuffer.prototype=Object.create(a.InterleavedBuffer.prototype),a.InstancedInterleavedBuffer.prototype.constructor=a.InstancedInterleavedBuffer,a.InstancedInterleavedBuffer.prototype.copy=function(e){return a.InterleavedBuffer.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},a.InterleavedBufferAttribute=function(e,t,n){this.uuid=a.Math.generateUUID(),this.data=e,this.itemSize=t,this.offset=n},a.InterleavedBufferAttribute.prototype={constructor:a.InterleavedBufferAttribute,get length(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),this.array.length},get count(){return this.data.array.length/this.data.stride},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},a.Geometry=function(){Object.defineProperty(this,"id",{value:a.GeometryIdCount++}),this.uuid=a.Math.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1},a.Geometry.prototype={constructor:a.Geometry,applyMatrix:function(e){for(var t=(new a.Matrix3).getNormalMatrix(e),n=0,r=this.vertices.length;r>n;n++){var i=this.vertices[n];i.applyMatrix4(e)}for(var n=0,r=this.faces.length;r>n;n++){var o=this.faces[n];o.normal.applyMatrix3(t).normalize();for(var s=0,u=o.vertexNormals.length;u>s;s++)o.vertexNormals[s].applyMatrix3(t).normalize()}null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0},rotateX:function(){var e;return function(t){return void 0===e&&(e=new a.Matrix4),e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e;return function(t){return void 0===e&&(e=new a.Matrix4),e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e;return function(t){return void 0===e&&(e=new a.Matrix4),e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e;return function(t,n,r){return void 0===e&&(e=new a.Matrix4),e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e;return function(t,n,r){return void 0===e&&(e=new a.Matrix4),e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e;return function(t){void 0===e&&(e=new a.Object3D),e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){function t(e,t,r){var i=void 0!==s?[h[e].clone(),h[t].clone(),h[r].clone()]:[],o=void 0!==u?[n.colors[e].clone(),n.colors[t].clone(),n.colors[r].clone()]:[],d=new a.Face3(e,t,r,i,o);n.faces.push(d),void 0!==c&&n.faceVertexUvs[0].push([f[e].clone(),f[t].clone(),f[r].clone()]),void 0!==l&&n.faceVertexUvs[1].push([p[e].clone(),p[t].clone(),p[r].clone()])}var n=this,r=null!==e.index?e.index.array:void 0,i=e.attributes,o=i.position.array,s=void 0!==i.normal?i.normal.array:void 0,u=void 0!==i.color?i.color.array:void 0,c=void 0!==i.uv?i.uv.array:void 0,l=void 0!==i.uv2?i.uv2.array:void 0;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var h=[],f=[],p=[],d=0,v=0,m=0;d<o.length;d+=3,v+=2,m+=4)n.vertices.push(new a.Vector3(o[d],o[d+1],o[d+2])),void 0!==s&&h.push(new a.Vector3(s[d],s[d+1],s[d+2])),void 0!==u&&n.colors.push(new a.Color(u[d],u[d+1],u[d+2])),void 0!==c&&f.push(new a.Vector2(c[v],c[v+1])),void 0!==l&&p.push(new a.Vector2(l[v],l[v+1]));if(void 0!==r){var g=e.groups;if(g.length>0)for(var d=0;d<g.length;d++)for(var y=g[d],b=y.start,w=y.count,v=b,x=b+w;x>v;v+=3)t(r[v],r[v+1],r[v+2]);else for(var d=0;d<r.length;d+=3)t(r[d],r[d+1],r[d+2])}else for(var d=0;d<o.length/3;d+=3)t(d,d+1,d+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=this.boundingBox.center().negate();return this.translate(e.x,e.y,e.z),e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new a.Matrix4;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new a.Vector3,t=new a.Vector3,n=0,r=this.faces.length;r>n;n++){var i=this.faces[n],o=this.vertices[i.a],s=this.vertices[i.b],u=this.vertices[i.c];e.subVectors(u,s),t.subVectors(o,s),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t,n,r,i,o,s;for(s=new Array(this.vertices.length),t=0,n=this.vertices.length;n>t;t++)s[t]=new a.Vector3;if(e){var u,c,l,h=new a.Vector3,f=new a.Vector3;for(r=0,i=this.faces.length;i>r;r++)o=this.faces[r],u=this.vertices[o.a],c=this.vertices[o.b],l=this.vertices[o.c],h.subVectors(l,c),f.subVectors(u,c),h.cross(f),s[o.a].add(h),s[o.b].add(h),s[o.c].add(h)}else for(r=0,i=this.faces.length;i>r;r++)o=this.faces[r],s[o.a].add(o.normal),s[o.b].add(o.normal),s[o.c].add(o.normal);for(t=0,n=this.vertices.length;n>t;t++)s[t].normalize();for(r=0,i=this.faces.length;i>r;r++){o=this.faces[r];var p=o.vertexNormals;3===p.length?(p[0].copy(s[o.a]),p[1].copy(s[o.b]),p[2].copy(s[o.c])):(p[0]=s[o.a].clone(),p[1]=s[o.b].clone(),p[2]=s[o.c].clone())}},computeMorphNormals:function(){var e,t,n,r,i;for(n=0,r=this.faces.length;r>n;n++)for(i=this.faces[n],i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;t>e;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var o=new a.Geometry;for(o.faces=this.faces,e=0,t=this.morphTargets.length;t>e;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var s,u,c=this.morphNormals[e].faceNormals,l=this.morphNormals[e].vertexNormals;for(n=0,r=this.faces.length;r>n;n++)s=new a.Vector3,u={a:new a.Vector3,b:new a.Vector3,c:new a.Vector3},c.push(s),l.push(u)}var h=this.morphNormals[e];o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals();var s,u;for(n=0,r=this.faces.length;r>n;n++)i=this.faces[n],s=h.faceNormals[n],u=h.vertexNormals[n],s.copy(i.normal),u.a.copy(i.vertexNormals[0]),u.b.copy(i.vertexNormals[1]),u.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;r>n;n++)i=this.faces[n],i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeTangents:function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){for(var e=0,t=this.vertices,n=0,r=t.length;r>n;n++)n>0&&(e+=t[n].distanceTo(t[n-1])),this.lineDistances[n]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new a.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new a.Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e instanceof a.Geometry==!1)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);var r,i=this.vertices.length,o=this.vertices,s=e.vertices,u=this.faces,c=e.faces,l=this.faceVertexUvs[0],h=e.faceVertexUvs[0];void 0===n&&(n=0),void 0!==t&&(r=(new a.Matrix3).getNormalMatrix(t));for(var f=0,p=s.length;p>f;f++){var d=s[f],v=d.clone();void 0!==t&&v.applyMatrix4(t),o.push(v)}for(f=0,p=c.length;p>f;f++){var m,g,y,b=c[f],w=b.vertexNormals,x=b.vertexColors;m=new a.Face3(b.a+i,b.b+i,b.c+i),m.normal.copy(b.normal),void 0!==r&&m.normal.applyMatrix3(r).normalize();for(var _=0,E=w.length;E>_;_++)g=w[_].clone(),void 0!==r&&g.applyMatrix3(r).normalize(),m.vertexNormals.push(g);m.color.copy(b.color);for(var _=0,E=x.length;E>_;_++)y=x[_],m.vertexColors.push(y.clone());m.materialIndex=b.materialIndex+n,u.push(m)}for(f=0,p=h.length;p>f;f++){var S=h[f],M=[];if(void 0!==S){for(var _=0,E=S.length;E>_;_++)M.push(S[_].clone());l.push(M)}}},mergeMesh:function(e){return e instanceof a.Mesh==!1?void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e):(e.matrixAutoUpdate&&e.updateMatrix(),void this.merge(e.geometry,e.matrix))},mergeVertices:function(){var e,t,n,r,i,o,a,s,u={},c=[],l=[],h=4,f=Math.pow(10,h);for(n=0,r=this.vertices.length;r>n;n++)e=this.vertices[n],t=Math.round(e.x*f)+"_"+Math.round(e.y*f)+"_"+Math.round(e.z*f),void 0===u[t]?(u[t]=n,c.push(this.vertices[n]),l[n]=c.length-1):l[n]=l[u[t]];var p=[];for(n=0,r=this.faces.length;r>n;n++){i=this.faces[n],i.a=l[i.a],i.b=l[i.b],i.c=l[i.c],o=[i.a,i.b,i.c];for(var d=-1,v=0;3>v;v++)if(o[v]===o[(v+1)%3]){d=v,p.push(n);break}}for(n=p.length-1;n>=0;n--){var m=p[n];for(this.faces.splice(m,1),a=0,s=this.faceVertexUvs.length;s>a;a++)this.faceVertexUvs[a].splice(m,1)}var g=this.vertices.length-c.length;
return this.vertices=c,g},sortFacesByMaterialIndex:function(){function e(e,t){return e.materialIndex-t.materialIndex}for(var t=this.faces,n=t.length,r=0;n>r;r++)t[r]._id=r;t.sort(e);var i,o,a=this.faceVertexUvs[0],s=this.faceVertexUvs[1];a&&a.length===n&&(i=[]),s&&s.length===n&&(o=[]);for(var r=0;n>r;r++){var u=t[r]._id;i&&i.push(a[u]),o&&o.push(s[u])}i&&(this.faceVertexUvs[0]=i),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){function e(e,t,n){return n?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==f[t]?f[t]:(f[t]=h.length/3,h.push(e.x,e.y,e.z),f[t])}function n(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==d[t]?d[t]:(d[t]=p.length,p.push(e.getHex()),d[t])}function r(e){var t=e.x.toString()+e.y.toString();return void 0!==m[t]?m[t]:(m[t]=v.length/2,v.push(e.x,e.y),m[t])}var i={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(i[a]=o[a]);return i}for(var s=[],u=0;u<this.vertices.length;u++){var c=this.vertices[u];s.push(c.x,c.y,c.z)}for(var l=[],h=[],f={},p=[],d={},v=[],m={},u=0;u<this.faces.length;u++){var g=this.faces[u],y=!1,b=!1,w=void 0!==this.faceVertexUvs[0][u],x=g.normal.length()>0,_=g.vertexNormals.length>0,E=1!==g.color.r||1!==g.color.g||1!==g.color.b,S=g.vertexColors.length>0,M=0;if(M=e(M,0,0),M=e(M,1,y),M=e(M,2,b),M=e(M,3,w),M=e(M,4,x),M=e(M,5,_),M=e(M,6,E),M=e(M,7,S),l.push(M),l.push(g.a,g.b,g.c),w){var T=this.faceVertexUvs[0][u];l.push(r(T[0]),r(T[1]),r(T[2]))}if(x&&l.push(t(g.normal)),_){var C=g.vertexNormals;l.push(t(C[0]),t(C[1]),t(C[2]))}if(E&&l.push(n(g.color)),S){var A=g.vertexColors;l.push(n(A[0]),n(A[1]),n(A[2]))}}return i.data={},i.data.vertices=s,i.data.normals=h,p.length>0&&(i.data.colors=p),v.length>0&&(i.data.uvs=[v]),i.data.faces=l,i},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]];for(var t=e.vertices,n=0,r=t.length;r>n;n++)this.vertices.push(t[n].clone());for(var i=e.faces,n=0,r=i.length;r>n;n++)this.faces.push(i[n].clone());for(var n=0,r=e.faceVertexUvs.length;r>n;n++){var o=e.faceVertexUvs[n];void 0===this.faceVertexUvs[n]&&(this.faceVertexUvs[n]=[]);for(var a=0,s=o.length;s>a;a++){for(var u=o[a],c=[],l=0,h=u.length;h>l;l++){var f=u[l];c.push(f.clone())}this.faceVertexUvs[n].push(c)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}},a.EventDispatcher.prototype.apply(a.Geometry.prototype),a.GeometryIdCount=0,a.DirectGeometry=function(){Object.defineProperty(this,"id",{value:a.GeometryIdCount++}),this.uuid=a.Math.generateUUID(),this.name="",this.type="DirectGeometry",this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1},a.DirectGeometry.prototype={constructor:a.DirectGeometry,computeBoundingBox:a.Geometry.prototype.computeBoundingBox,computeBoundingSphere:a.Geometry.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")},computeVertexNormals:function(){console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")},computeGroups:function(e){for(var t,n,r=[],i=e.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==n&&(n=a.materialIndex,void 0!==t&&(t.count=3*o-t.start,r.push(t)),t={start:3*o,materialIndex:n})}void 0!==t&&(t.count=3*o-t.start,r.push(t)),this.groups=r},fromGeometry:function(e){var t=e.faces,n=e.vertices,r=e.faceVertexUvs,i=r[0]&&r[0].length>0,o=r[1]&&r[1].length>0,s=e.morphTargets,u=s.length;if(u>0){for(var c=[],l=0;u>l;l++)c[l]=[];this.morphTargets.position=c}var h=e.morphNormals,f=h.length;if(f>0){for(var p=[],l=0;f>l;l++)p[l]=[];this.morphTargets.normal=p}for(var d=e.skinIndices,v=e.skinWeights,m=d.length===n.length,g=v.length===n.length,l=0;l<t.length;l++){var y=t[l];this.vertices.push(n[y.a],n[y.b],n[y.c]);var b=y.vertexNormals;if(3===b.length)this.normals.push(b[0],b[1],b[2]);else{var w=y.normal;this.normals.push(w,w,w)}var x=y.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var _=y.color;this.colors.push(_,_,_)}if(i===!0){var E=r[0][l];void 0!==E?this.uvs.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new a.Vector2,new a.Vector2,new a.Vector2))}if(o===!0){var E=r[1][l];void 0!==E?this.uvs2.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new a.Vector2,new a.Vector2,new a.Vector2))}for(var S=0;u>S;S++){var M=s[S].vertices;c[S].push(M[y.a],M[y.b],M[y.c])}for(var S=0;f>S;S++){var T=h[S].vertexNormals[l];p[S].push(T.a,T.b,T.c)}m&&this.skinIndices.push(d[y.a],d[y.b],d[y.c]),g&&this.skinWeights.push(v[y.a],v[y.b],v[y.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},a.EventDispatcher.prototype.apply(a.DirectGeometry.prototype),a.BufferGeometry=function(){Object.defineProperty(this,"id",{value:a.GeometryIdCount++}),this.uuid=a.Math.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}},a.BufferGeometry.prototype={constructor:a.BufferGeometry,addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},getIndex:function(){return this.index},setIndex:function(e){this.index=e},addAttribute:function(e,t){return t instanceof a.BufferAttribute==!1&&t instanceof a.InterleavedBufferAttribute==!1?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(e,new a.BufferAttribute(arguments[1],arguments[2]))):"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(t)):void(this.attributes[e]=t)},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){delete this.attributes[e]},get drawcalls(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups},get offsets(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToVector3Array(t.array),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new a.Matrix3).getNormalMatrix(e);r.applyToVector3Array(n.array),n.needsUpdate=!0}null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere()},rotateX:function(){var e;return function(t){return void 0===e&&(e=new a.Matrix4),e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e;return function(t){return void 0===e&&(e=new a.Matrix4),e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e;return function(t){return void 0===e&&(e=new a.Matrix4),e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e;return function(t,n,r){return void 0===e&&(e=new a.Matrix4),e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e;return function(t,n,r){return void 0===e&&(e=new a.Matrix4),e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e;return function(t){void 0===e&&(e=new a.Object3D),e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){this.computeBoundingBox();var e=this.boundingBox.center().negate();return this.translate(e.x,e.y,e.z),e},setFromObject:function(e){var t=e.geometry;if(e instanceof a.Points||e instanceof a.Line){var n=new a.Float32Attribute(3*t.vertices.length,3),r=new a.Float32Attribute(3*t.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(t.vertices)),this.addAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new a.Float32Attribute(t.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e instanceof a.Mesh&&t instanceof a.Geometry&&this.fromGeometry(t);return this},updateFromObject:function(e){var t=e.geometry;if(e instanceof a.Mesh){var n=t.__directGeometry;if(void 0===n)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}if(t.verticesNeedUpdate===!0){var r=this.attributes.position;void 0!==r&&(r.copyVector3sArray(t.vertices),r.needsUpdate=!0),t.verticesNeedUpdate=!1}if(t.normalsNeedUpdate===!0){var r=this.attributes.normal;void 0!==r&&(r.copyVector3sArray(t.normals),r.needsUpdate=!0),t.normalsNeedUpdate=!1}if(t.colorsNeedUpdate===!0){var r=this.attributes.color;void 0!==r&&(r.copyColorsArray(t.colors),r.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){var r=this.attributes.uv;void 0!==r&&(r.copyVector2sArray(t.uvs),r.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){var r=this.attributes.lineDistance;void 0!==r&&(r.copyArray(t.lineDistances),r.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new a.DirectGeometry).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new a.BufferAttribute(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.addAttribute("normal",new a.BufferAttribute(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.addAttribute("color",new a.BufferAttribute(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new a.BufferAttribute(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new a.BufferAttribute(o,2).copyVector2sArray(e.uvs2))}if(e.indices.length>0){var s=e.vertices.length>65535?Uint32Array:Uint16Array,u=new s(3*e.indices.length);this.setIndex(new a.BufferAttribute(u,1).copyIndicesArray(e.indices))}this.groups=e.groups;for(var c in e.morphTargets){for(var l=[],h=e.morphTargets[c],f=0,p=h.length;p>f;f++){var d=h[f],v=new a.Float32Attribute(3*d.length,3);l.push(v.copyVector3sArray(d))}this.morphAttributes[c]=l}if(e.skinIndices.length>0){var m=new a.Float32Attribute(4*e.skinIndices.length,4);this.addAttribute("skinIndex",m.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var g=new a.Float32Attribute(4*e.skinWeights.length,4);this.addAttribute("skinWeight",g.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){var e=new a.Vector3;return function(){null===this.boundingBox&&(this.boundingBox=new a.Box3);var t=this.attributes.position.array;if(t){var n=this.boundingBox;n.makeEmpty();for(var r=0,i=t.length;i>r;r+=3)e.fromArray(t,r),n.expandByPoint(e)}void 0!==t&&0!==t.length||(this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0)),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}(),computeBoundingSphere:function(){var e=new a.Box3,t=new a.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new a.Sphere);var n=this.attributes.position.array;if(n){e.makeEmpty();for(var r=this.boundingSphere.center,i=0,o=n.length;o>i;i+=3)t.fromArray(n,i),e.expandByPoint(t);e.center(r);for(var s=0,i=0,o=n.length;o>i;i+=3)t.fromArray(n,i),s=Math.max(s,r.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes,n=this.groups;if(t.position){var r=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new a.BufferAttribute(new Float32Array(r.length),3));else for(var i=t.normal.array,o=0,s=i.length;s>o;o++)i[o]=0;var u,c,l,i=t.normal.array,h=new a.Vector3,f=new a.Vector3,p=new a.Vector3,d=new a.Vector3,v=new a.Vector3;if(e){var m=e.array;0===n.length&&this.addGroup(0,m.length);for(var g=0,y=n.length;y>g;++g)for(var b=n[g],w=b.start,x=b.count,o=w,s=w+x;s>o;o+=3)u=3*m[o+0],c=3*m[o+1],l=3*m[o+2],h.fromArray(r,u),f.fromArray(r,c),p.fromArray(r,l),d.subVectors(p,f),v.subVectors(h,f),d.cross(v),i[u]+=d.x,i[u+1]+=d.y,i[u+2]+=d.z,i[c]+=d.x,i[c+1]+=d.y,i[c+2]+=d.z,i[l]+=d.x,i[l+1]+=d.y,i[l+2]+=d.z}else for(var o=0,s=r.length;s>o;o+=9)h.fromArray(r,o),f.fromArray(r,o+3),p.fromArray(r,o+6),d.subVectors(p,f),v.subVectors(h,f),d.cross(v),i[o]=d.x,i[o+1]=d.y,i[o+2]=d.z,i[o+3]=d.x,i[o+4]=d.y,i[o+5]=d.z,i[o+6]=d.x,i[o+7]=d.y,i[o+8]=d.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(e){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},merge:function(e,t){if(e instanceof a.BufferGeometry==!1)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0);var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r],o=i.array,s=e.attributes[r],u=s.array,c=s.itemSize,l=0,h=c*t;l<u.length;l++,h++)o[h]=u[l];return this},normalizeNormals:function(){for(var e,t,n,r,i=this.attributes.normal.array,o=0,a=i.length;a>o;o+=3)e=i[o],t=i[o+1],n=i[o+2],r=1/Math.sqrt(e*e+t*t+n*n),i[o]*=r,i[o+1]*=r,i[o+2]*=r},toJSON:function(){var e={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);e.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n],i=Array.prototype.slice.call(a.array);e.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i}}var s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));var u=this.boundingSphere;return null!==u&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e},clone:function(){return(new this.constructor).copy(this)},copy:function(e){var t=e.index;null!==t&&this.setIndex(t.clone());var n=e.attributes;for(var r in n){var i=n[r];this.addAttribute(r,i.clone())}for(var o=e.groups,a=0,s=o.length;s>a;a++){var u=o[a];this.addGroup(u.start,u.count)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}},a.EventDispatcher.prototype.apply(a.BufferGeometry.prototype),a.BufferGeometry.MaxIndex=65535,a.InstancedBufferGeometry=function(){a.BufferGeometry.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0},a.InstancedBufferGeometry.prototype=Object.create(a.BufferGeometry.prototype),a.InstancedBufferGeometry.prototype.constructor=a.InstancedBufferGeometry,a.InstancedBufferGeometry.prototype.addGroup=function(e,t,n){this.groups.push({start:e,count:t,instances:n})},a.InstancedBufferGeometry.prototype.copy=function(e){var t=e.index;null!==t&&this.setIndex(t.clone());var n=e.attributes;for(var r in n){var i=n[r];this.addAttribute(r,i.clone())}for(var o=e.groups,a=0,s=o.length;s>a;a++){var u=o[a];this.addGroup(u.start,u.count,u.instances)}return this},a.EventDispatcher.prototype.apply(a.InstancedBufferGeometry.prototype),a.AnimationAction=function(e,t,n,r,i){if(void 0===e)throw new Error("clip is null");this.clip=e,this.localRoot=null,this.startTime=t||0,this.timeScale=n||1,this.weight=r||1,this.loop=i||a.LoopRepeat,this.loopCount=0,this.enabled=!0,this.actionTime=-this.startTime,this.clipTime=0,this.propertyBindings=[]},a.AnimationAction.prototype={constructor:a.AnimationAction,setLocalRoot:function(e){return this.localRoot=e,this},updateTime:function(e){var t=this.clipTime,n=this.loopCount,r=(this.actionTime,this.clip.duration);if(this.actionTime=this.actionTime+e,this.loop===a.LoopOnce)return this.loopCount=0,this.clipTime=Math.min(Math.max(this.actionTime,0),r),this.clipTime!==t&&(this.clipTime===r?this.mixer.dispatchEvent({type:"finished",action:this,direction:1}):0===this.clipTime&&this.mixer.dispatchEvent({type:"finished",action:this,direction:-1})),this.clipTime;this.loopCount=Math.floor(this.actionTime/r);var i=this.actionTime-this.loopCount*r;return i%=r,this.loop==a.LoopPingPong&&1===Math.abs(this.loopCount%2)&&(i=r-i),this.clipTime=i,this.loopCount!==n&&this.mixer.dispatchEvent({type:"loop",action:this,loopDelta:this.loopCount-this.loopCount}),this.clipTime},syncWith:function(e){return this.actionTime=e.actionTime,this.timeScale=e.timeScale,this},warpToDuration:function(e){return this.timeScale=this.clip.duration/e,this},init:function(e){return this.clipTime=e-this.startTime,this},update:function(e){this.updateTime(e);var t=this.clip.getAt(this.clipTime);return t},getTimeScaleAt:function(e){return this.timeScale.getAt?this.timeScale.getAt(e):this.timeScale},getWeightAt:function(e){return this.weight.getAt?this.weight.getAt(e):this.weight}},a.AnimationClip=function(e,t,n){if(this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.duration<0)for(var r=0;r<this.tracks.length;r++){var i=this.tracks[r];this.duration=Math.max(i.keys[i.keys.length-1].time)}this.trim(),this.optimize(),this.results=[]},a.AnimationClip.prototype={constructor:a.AnimationClip,getAt:function(e){e=Math.max(0,Math.min(e,this.duration));for(var t=0;t<this.tracks.length;t++){var n=this.tracks[t];this.results[t]=n.getAt(e)}return this.results},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},a.AnimationClip.CreateFromMorphTargetSequence=function(e,t,n){for(var r=t.length,i=[],o=0;r>o;o++){var s=[];s.push({time:(o+r-1)%r,value:0}),s.push({time:o,value:1}),s.push({time:(o+1)%r,value:0}),s.sort(a.KeyframeTrack.keyComparer),0===s[0].time&&s.push({time:r,value:s[0].value}),i.push(new a.NumberKeyframeTrack(".morphTargetInfluences["+t[o].name+"]",s).scale(1/n))}return new a.AnimationClip(e,-1,i)},a.AnimationClip.findByName=function(e,t){for(var n=0;n<e.length;n++)if(e[n].name===t)return e[n];return null},a.AnimationClip.CreateClipsFromMorphTargetSequences=function(e,t){for(var n={},r=/^([\w-]*?)([\d]+)$/,i=0,o=e.length;o>i;i++){var s=e[i],u=s.name.match(r);if(u&&u.length>1){var c=u[1],l=n[c];l||(n[c]=l=[]),l.push(s)}}var h=[];for(var c in n)h.push(a.AnimationClip.CreateFromMorphTargetSequence(c,n[c],t));return h},a.AnimationClip.parse=function(e){for(var t=[],n=0;n<e.tracks.length;n++)t.push(a.KeyframeTrack.parse(e.tracks[n]).scale(1/e.fps));return new a.AnimationClip(e.name,e.duration,t)},a.AnimationClip.parseAnimation=function(e,t,n){if(!e)return console.error("  no animation in JSONLoader data"),null;for(var r=function(e,t,n,r,i){for(var o=[],a=0;a<t.length;a++){var s=t[a];void 0!==s[n]&&o.push({time:s.time,value:i(s)})}return o.length>0?new r(e,o):null},i=[],o=e.name||"default",s=e.length||-1,u=e.fps||30,c=e.hierarchy||[],l=0;l<c.length;l++){var h=c[l].keys;if(h&&0!=h.length)if(h[0].morphTargets){for(var f={},p=0;p<h.length;p++)if(h[p].morphTargets)for(var d=0;d<h[p].morphTargets.length;d++)f[h[p].morphTargets[d]]=-1;for(var v in f){for(var m=[],d=0;d<h[p].morphTargets.length;d++){var g=h[p];m.push({time:g.time,value:g.morphTarget===v?1:0})}i.push(new a.NumberKeyframeTrack(n+".morphTargetInfluence["+v+"]",m))}s=f.length*(u||1)}else{var y=n+".bones["+t[l].name+"]",b=r(y+".position",h,"pos",a.VectorKeyframeTrack,function(e){return(new a.Vector3).fromArray(e.pos)});b&&i.push(b);var w=r(y+".quaternion",h,"rot",a.QuaternionKeyframeTrack,function(e){return e.rot.slerp?e.rot.clone():(new a.Quaternion).fromArray(e.rot)});w&&i.push(w);var x=r(y+".scale",h,"scl",a.VectorKeyframeTrack,function(e){return(new a.Vector3).fromArray(e.scl)});x&&i.push(x)}}if(0===i.length)return null;var _=new a.AnimationClip(o,s,i);return _},a.AnimationMixer=function(e){this.root=e,this.time=0,this.timeScale=1,this.actions=[],this.propertyBindingMap={}},a.AnimationMixer.prototype={constructor:a.AnimationMixer,addAction:function(e){this.actions.push(e),e.init(this.time),e.mixer=this;for(var t=e.clip.tracks,n=e.localRoot||this.root,r=0;r<t.length;r++){var i=t[r],o=n.uuid+"-"+i.name,s=this.propertyBindingMap[o];void 0===s&&(s=new a.PropertyBinding(n,i.name),this.propertyBindingMap[o]=s),e.propertyBindings.push(s),s.referenceCount+=1}},removeAllActions:function(){for(var e=0;e<this.actions.length;e++)this.actions[e].mixer=null;for(var t in this.propertyBindingMap)this.propertyBindingMap[t].unbind();return this.actions=[],this.propertyBindingMap={},this},removeAction:function(e){var t=this.actions.indexOf(e);-1!==t&&(this.actions.splice(t,1),e.mixer=null);for(var n=e.localRoot||this.root,r=e.clip.tracks,i=0;i<r.length;i++){var o=r[i],a=n.uuid+"-"+o.name,s=this.propertyBindingMap[a];s.referenceCount-=1,s.referenceCount<=0&&(s.unbind(),delete this.propertyBindingMap[a])}return this},findActionByName:function(e){for(var t=0;t<this.actions.length;t++)if(this.actions[t].name===e)return this.actions[t];return null},play:function(e,t){return e.startTime=this.time,this.addAction(e),this},fadeOut:function(e,t){var n=[];return n.push({time:this.time,value:1}),n.push({time:this.time+t,value:0}),e.weight=new a.NumberKeyframeTrack("weight",n),this},fadeIn:function(e,t){var n=[];return n.push({time:this.time,value:0}),n.push({time:this.time+t,value:1}),e.weight=new a.NumberKeyframeTrack("weight",n),this},warp:function(e,t,n,r){var i=[];return i.push({time:this.time,value:t}),i.push({time:this.time+r,value:n}),e.timeScale=new a.NumberKeyframeTrack("timeScale",i),this},crossFade:function(e,t,n,r){if(this.fadeOut(e,n),this.fadeIn(t,n),r){var i=e.clip.duration/t.clip.duration,o=1/i;this.warp(e,1,i,n),this.warp(t,o,1,n)}return this},update:function(e){var t=e*this.timeScale;this.time+=t;for(var n=0;n<this.actions.length;n++){var r=this.actions[n],i=r.getWeightAt(this.time),o=r.getTimeScaleAt(this.time),a=t*o,s=r.update(a);if(!(r.weight<=0)&&r.enabled)for(var u=0;u<s.length;u++){r.clip.tracks[u].name;r.propertyBindings[u].accumulate(s[u],i)}}for(var c in this.propertyBindingMap)this.propertyBindingMap[c].apply();return this}},a.EventDispatcher.prototype.apply(a.AnimationMixer.prototype),a.AnimationUtils={getEqualsFunc:function(e){return e.equals?function(e,t){return e.equals(t)}:function(e,t){return e===t}},clone:function(e){var t=typeof e;if("object"===t){if(e.clone)return e.clone();console.error("can not figure out how to copy exemplarValue",e)}return e},lerp:function(e,t,n,r){var i=a.AnimationUtils.getLerpFunc(e,r);return i(e,t,n)},lerp_object:function(e,t,n){return e.lerp(t,n)},slerp_object:function(e,t,n){return e.slerp(t,n)},lerp_number:function(e,t,n){return e*(1-n)+t*n},lerp_boolean:function(e,t,n){return.5>n?e:t},lerp_boolean_immediate:function(e,t,n){return e},lerp_string:function(e,t,n){return.5>n?e:t},lerp_string_immediate:function(e,t,n){return e},getLerpFunc:function(e,t){if(void 0===e||null===e)throw new Error("examplarValue is null");var n=typeof e;switch(n){case"object":if(e.lerp)return a.AnimationUtils.lerp_object;if(e.slerp)return a.AnimationUtils.slerp_object;break;case"number":return a.AnimationUtils.lerp_number;case"boolean":return t?a.AnimationUtils.lerp_boolean:a.AnimationUtils.lerp_boolean_immediate;case"string":return t?a.AnimationUtils.lerp_string:a.AnimationUtils.lerp_string_immediate}}},a.KeyframeTrack=function(e,t){if(void 0===e)throw new Error("track name is undefined");if(void 0===t||0===t.length)throw new Error("no keys in track named "+e);this.name=e,this.keys=t,this.lastIndex=0,this.validate(),this.optimize()},a.KeyframeTrack.prototype={constructor:a.KeyframeTrack,getAt:function(e){for(;this.lastIndex<this.keys.length&&e>=this.keys[this.lastIndex].time;)this.lastIndex++;for(;this.lastIndex>0&&e<this.keys[this.lastIndex-1].time;)this.lastIndex--;if(this.lastIndex>=this.keys.length)return this.setResult(this.keys[this.keys.length-1].value),this.result;if(0===this.lastIndex)return this.setResult(this.keys[0].value),this.result;var t=this.keys[this.lastIndex-1];if(this.setResult(t.value),t.constantToNext)return this.result;var n=this.keys[this.lastIndex],r=(e-t.time)/(n.time-t.time);return this.result=this.lerpValues(this.result,n.value,r),this.result},shift:function(e){if(0!==e)for(var t=0;t<this.keys.length;t++)this.keys[t].time+=e;return this},scale:function(e){if(1!==e)for(var t=0;t<this.keys.length;t++)this.keys[t].time*=e;return this},trim:function(e,t){for(var n=0,r=1;r<this.keys.length;r++)this.keys[r]<=e&&n++;for(var i=0,r=this.keys.length-2;r>0&&this.keys[r]>=t;r++)i++;return n+i>0&&(this.keys=this.keys.splice(n,this.keys.length-i-n)),this},validate:function(){var e=null;if(0===this.keys.length)return void console.error("  track is empty, no keys",this);for(var t=0;t<this.keys.length;t++){var n=this.keys[t];if(!n)return void console.error("  key is null in track",this,t);if("number"!=typeof n.time||isNaN(n.time))return void console.error("  key.time is not a valid number",this,t,n);if(void 0===n.value||null===n.value)return void console.error("  key.value is null in track",this,t,n);if(e&&e.time>n.time)return void console.error("  key.time is less than previous key time, out of order keys",this,t,n,e);e=n}return this},optimize:function(){var e=[],t=this.keys[0];e.push(t);for(var n=(a.AnimationUtils.getEqualsFunc(t.value),1);n<this.keys.length-1;n++){var r=this.keys[n],i=this.keys[n+1];t.time!==r.time&&(this.compareValues(t.value,r.value)&&this.compareValues(r.value,i.value)||(t.constantToNext=this.compareValues(t.value,r.value),e.push(r),t=r))}return e.push(this.keys[this.keys.length-1]),this.keys=e,this}},a.KeyframeTrack.keyComparer=function(e,t){return e.time-t.time},a.KeyframeTrack.parse=function(e){if(void 0===e.type)throw new Error("track type undefined, can not parse");var t=a.KeyframeTrack.GetTrackTypeForTypeName(e.type);return t.parse(e)},a.KeyframeTrack.GetTrackTypeForTypeName=function(e){switch(e.toLowerCase()){case"vector":case"vector2":case"vector3":case"vector4":return a.VectorKeyframeTrack;case"quaternion":return a.QuaternionKeyframeTrack;case"integer":case"scalar":case"double":case"float":case"number":return a.NumberKeyframeTrack;case"bool":case"boolean":return a.BooleanKeyframeTrack;case"string":return a.StringKeyframeTrack}throw new Error("Unsupported typeName: "+e)},a.PropertyBinding=function(e,t){this.rootNode=e,this.trackName=t,this.referenceCount=0,this.originalValue=null;var n=a.PropertyBinding.parseTrackName(t);this.directoryName=n.directoryName,this.nodeName=n.nodeName,this.objectName=n.objectName,this.objectIndex=n.objectIndex,this.propertyName=n.propertyName,this.propertyIndex=n.propertyIndex,this.node=a.PropertyBinding.findNode(e,this.nodeName)||e,this.cumulativeValue=null,this.cumulativeWeight=0},a.PropertyBinding.prototype={constructor:a.PropertyBinding,reset:function(){this.cumulativeValue=null,this.cumulativeWeight=0},accumulate:function(e,t){if(this.isBound||this.bind(),0===this.cumulativeWeight)t>0&&(null===this.cumulativeValue&&(this.cumulativeValue=a.AnimationUtils.clone(e)),this.cumulativeWeight=t);else{var n=t/(this.cumulativeWeight+t);this.cumulativeValue=this.lerpValue(this.cumulativeValue,e,n),this.cumulativeWeight+=t}},unbind:function(){this.isBound&&(this.setValue(this.originalValue),this.setValue=null,this.getValue=null,this.lerpValue=null,this.equalsValue=null,this.triggerDirty=null,this.isBound=!1)},bind:function(){if(!this.isBound){var e=this.node;if(!e)return void console.error("  trying to update node for track: "+this.trackName+" but it wasn't found.");if(this.objectName){if("materials"===this.objectName){if(!e.material)return void console.error("  can not bind to material as node does not have a material",this);if(!e.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);e=e.material.materials}else if("bones"===this.objectName){if(!e.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);e=e.skeleton.bones;for(var t=0;t<e.length;t++)if(e[t].name===this.objectIndex){this.objectIndex=t;break}}else{if(void 0===e[this.objectName])return void console.error("  can not bind to objectName of node, undefined",this);e=e[this.objectName]}if(void 0!==this.objectIndex){if(void 0===e[this.objectIndex])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,e);e=e[this.objectIndex]}}var n=e[this.propertyName];if(!n)return void console.error("  trying to update property for track: "+this.nodeName+"."+this.propertyName+" but it wasn't found.",e);if(void 0!==this.propertyIndex){if("morphTargetInfluences"===this.propertyName){e.geometry||console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this),e.geometry.morphTargets||console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(var t=0;t<this.node.geometry.morphTargets.length;t++)if(e.geometry.morphTargets[t].name===this.propertyIndex){this.propertyIndex=t;break}}this.setValue=function(e){return this.equalsValue(n[this.propertyIndex],e)?!1:(n[this.propertyIndex]=e,!0)},this.getValue=function(){return n[this.propertyIndex]}}else n.copy?(this.setValue=function(e){return this.equalsValue(n,e)?!1:(n.copy(e),!0)},this.getValue=function(){return n}):(this.setValue=function(t){return this.equalsValue(e[this.propertyName],t)?!1:(e[this.propertyName]=t,!0)},this.getValue=function(){return e[this.propertyName]});void 0!==e.needsUpdate?this.triggerDirty=function(){this.node.needsUpdate=!0}:void 0!==e.matrixWorldNeedsUpdate&&(this.triggerDirty=function(){e.matrixWorldNeedsUpdate=!0}),this.originalValue=this.getValue(),this.equalsValue=a.AnimationUtils.getEqualsFunc(this.originalValue),
this.lerpValue=a.AnimationUtils.getLerpFunc(this.originalValue,!0),this.isBound=!0}},apply:function(){if(this.isBound||this.bind(),this.cumulativeWeight>0){if(this.cumulativeWeight<1){var e=1-this.cumulativeWeight,t=e/(this.cumulativeWeight+e);this.cumulativeValue=this.lerpValue(this.cumulativeValue,this.originalValue,t)}var n=this.setValue(this.cumulativeValue);n&&this.triggerDirty&&this.triggerDirty(),this.cumulativeValue=null,this.cumulativeWeight=0}}},a.PropertyBinding.parseTrackName=function(e){var t=/^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\_. ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\_. ]+)\])?)$/,n=t.exec(e);if(!n)throw new Error("cannot parse trackName at all: "+e);n.index===t.lastIndex&&t.lastIndex++;var r={directoryName:n[1],nodeName:n[3],objectName:n[5],objectIndex:n[7],propertyName:n[9],propertyIndex:n[11]};if(null===r.propertyName||0===r.propertyName.length)throw new Error("can not parse propertyName from trackName: "+e);return r},a.PropertyBinding.findNode=function(e,t){function n(e){for(var n=0;n<e.bones.length;n++){var r=e.bones[n];if(r.name===t)return r}return null}function r(e){for(var n=0;n<e.length;n++){var i=e[n];if(i.name===t||i.uuid===t)return i;var o=r(i.children);if(o)return o}return null}if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var i=n(e.skeleton);if(i)return i}if(e.children){var o=r(e.children);if(o)return o}return null},a.VectorKeyframeTrack=function(e,t){a.KeyframeTrack.call(this,e,t),this.result=this.keys[0].value.clone()},a.VectorKeyframeTrack.prototype=Object.create(a.KeyframeTrack.prototype),a.VectorKeyframeTrack.prototype.constructor=a.VectorKeyframeTrack,a.VectorKeyframeTrack.prototype.setResult=function(e){this.result.copy(e)},a.VectorKeyframeTrack.prototype.lerpValues=function(e,t,n){return e.lerp(t,n)},a.VectorKeyframeTrack.prototype.compareValues=function(e,t){return e.equals(t)},a.VectorKeyframeTrack.prototype.clone=function(){for(var e=[],t=0;t<this.keys.length;t++){var n=this.keys[t];e.push({time:n.time,value:n.value.clone()})}return new a.VectorKeyframeTrack(this.name,e)},a.VectorKeyframeTrack.parse=function(e){for(var t=e.keys[0].value.length,n=a["Vector"+t],r=[],i=0;i<e.keys.length;i++){var o=e.keys[i];r.push({value:(new n).fromArray(o.value),time:o.time})}return new a.VectorKeyframeTrack(e.name,r)},a.QuaternionKeyframeTrack=function(e,t){a.KeyframeTrack.call(this,e,t),this.result=this.keys[0].value.clone()},a.QuaternionKeyframeTrack.prototype=Object.create(a.KeyframeTrack.prototype),a.QuaternionKeyframeTrack.prototype.constructor=a.QuaternionKeyframeTrack,a.QuaternionKeyframeTrack.prototype.setResult=function(e){this.result.copy(e)},a.QuaternionKeyframeTrack.prototype.lerpValues=function(e,t,n){return e.slerp(t,n)},a.QuaternionKeyframeTrack.prototype.compareValues=function(e,t){return e.equals(t)},a.QuaternionKeyframeTrack.prototype.multiply=function(e){for(var t=0;t<this.keys.length;t++)this.keys[t].value.multiply(e);return this},a.QuaternionKeyframeTrack.prototype.clone=function(){for(var e=[],t=0;t<this.keys.length;t++){var n=this.keys[t];e.push({time:n.time,value:n.value.clone()})}return new a.QuaternionKeyframeTrack(this.name,e)},a.QuaternionKeyframeTrack.parse=function(e){for(var t=[],n=0;n<e.keys.length;n++){var r=e.keys[n];t.push({value:(new a.Quaternion).fromArray(r.value),time:r.time})}return new a.QuaternionKeyframeTrack(e.name,t)},a.StringKeyframeTrack=function(e,t){a.KeyframeTrack.call(this,e,t),this.result=this.keys[0].value},a.StringKeyframeTrack.prototype=Object.create(a.KeyframeTrack.prototype),a.StringKeyframeTrack.prototype.constructor=a.StringKeyframeTrack,a.StringKeyframeTrack.prototype.setResult=function(e){this.result=e},a.StringKeyframeTrack.prototype.lerpValues=function(e,t,n){return 1>n?e:t},a.StringKeyframeTrack.prototype.compareValues=function(e,t){return e===t},a.StringKeyframeTrack.prototype.clone=function(){for(var e=[],t=0;t<this.keys.length;t++){var n=this.keys[t];e.push({time:n.time,value:n.value})}return new a.StringKeyframeTrack(this.name,e)},a.StringKeyframeTrack.parse=function(e){return new a.StringKeyframeTrack(e.name,e.keys)},a.BooleanKeyframeTrack=function(e,t){a.KeyframeTrack.call(this,e,t),this.result=this.keys[0].value},a.BooleanKeyframeTrack.prototype=Object.create(a.KeyframeTrack.prototype),a.BooleanKeyframeTrack.prototype.constructor=a.BooleanKeyframeTrack,a.BooleanKeyframeTrack.prototype.setResult=function(e){this.result=e},a.BooleanKeyframeTrack.prototype.lerpValues=function(e,t,n){return 1>n?e:t},a.BooleanKeyframeTrack.prototype.compareValues=function(e,t){return e===t},a.BooleanKeyframeTrack.prototype.clone=function(){for(var e=[],t=0;t<this.keys.length;t++){var n=this.keys[t];e.push({time:n.time,value:n.value})}return new a.BooleanKeyframeTrack(this.name,e)},a.BooleanKeyframeTrack.parse=function(e){return new a.BooleanKeyframeTrack(e.name,e.keys)},a.NumberKeyframeTrack=function(e,t){a.KeyframeTrack.call(this,e,t),this.result=this.keys[0].value},a.NumberKeyframeTrack.prototype=Object.create(a.KeyframeTrack.prototype),a.NumberKeyframeTrack.prototype.constructor=a.NumberKeyframeTrack,a.NumberKeyframeTrack.prototype.setResult=function(e){this.result=e},a.NumberKeyframeTrack.prototype.lerpValues=function(e,t,n){return e*(1-n)+t*n},a.NumberKeyframeTrack.prototype.compareValues=function(e,t){return e===t},a.NumberKeyframeTrack.prototype.clone=function(){for(var e=[],t=0;t<this.keys.length;t++){var n=this.keys[t];e.push({time:n.time,value:n.value})}return new a.NumberKeyframeTrack(this.name,e)},a.NumberKeyframeTrack.parse=function(e){return new a.NumberKeyframeTrack(e.name,e.keys)},a.Camera=function(){a.Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new a.Matrix4,this.projectionMatrix=new a.Matrix4},a.Camera.prototype=Object.create(a.Object3D.prototype),a.Camera.prototype.constructor=a.Camera,a.Camera.prototype.getWorldDirection=function(){var e=new a.Quaternion;return function(t){var n=t||new a.Vector3;return this.getWorldQuaternion(e),n.set(0,0,-1).applyQuaternion(e)}}(),a.Camera.prototype.lookAt=function(){var e=new a.Matrix4;return function(t){e.lookAt(this.position,t,this.up),this.quaternion.setFromRotationMatrix(e)}}(),a.Camera.prototype.clone=function(){return(new this.constructor).copy(this)},a.Camera.prototype.copy=function(e){return a.Object3D.prototype.copy.call(this,e),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this},a.CubeCamera=function(e,t,n){a.Object3D.call(this),this.type="CubeCamera";var r=90,i=1,o=new a.PerspectiveCamera(r,i,e,t);o.up.set(0,-1,0),o.lookAt(new a.Vector3(1,0,0)),this.add(o);var s=new a.PerspectiveCamera(r,i,e,t);s.up.set(0,-1,0),s.lookAt(new a.Vector3(-1,0,0)),this.add(s);var u=new a.PerspectiveCamera(r,i,e,t);u.up.set(0,0,1),u.lookAt(new a.Vector3(0,1,0)),this.add(u);var c=new a.PerspectiveCamera(r,i,e,t);c.up.set(0,0,-1),c.lookAt(new a.Vector3(0,-1,0)),this.add(c);var l=new a.PerspectiveCamera(r,i,e,t);l.up.set(0,-1,0),l.lookAt(new a.Vector3(0,0,1)),this.add(l);var h=new a.PerspectiveCamera(r,i,e,t);h.up.set(0,-1,0),h.lookAt(new a.Vector3(0,0,-1)),this.add(h),this.renderTarget=new a.WebGLRenderTargetCube(n,n,{format:a.RGBFormat,magFilter:a.LinearFilter,minFilter:a.LinearFilter}),this.updateCubeMap=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,e.render(t,o,n),n.activeCubeFace=1,e.render(t,s,n),n.activeCubeFace=2,e.render(t,u,n),n.activeCubeFace=3,e.render(t,c,n),n.activeCubeFace=4,e.render(t,l,n),n.texture.generateMipmaps=r,n.activeCubeFace=5,e.render(t,h,n),e.setRenderTarget(null)}},a.CubeCamera.prototype=Object.create(a.Object3D.prototype),a.CubeCamera.prototype.constructor=a.CubeCamera,a.OrthographicCamera=function(e,t,n,r,i,o){a.Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()},a.OrthographicCamera.prototype=Object.create(a.Camera.prototype),a.OrthographicCamera.prototype.constructor=a.OrthographicCamera,a.OrthographicCamera.prototype.updateProjectionMatrix=function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;this.projectionMatrix.makeOrthographic(n-e,n+e,r+t,r-t,this.near,this.far)},a.OrthographicCamera.prototype.copy=function(e){return a.Camera.prototype.copy.call(this,e),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this},a.OrthographicCamera.prototype.toJSON=function(e){var t=a.Object3D.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,t},a.PerspectiveCamera=function(e,t,n,r){a.Camera.call(this),this.type="PerspectiveCamera",this.zoom=1,this.fov=void 0!==e?e:50,this.aspect=void 0!==t?t:1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.updateProjectionMatrix()},a.PerspectiveCamera.prototype=Object.create(a.Camera.prototype),a.PerspectiveCamera.prototype.constructor=a.PerspectiveCamera,a.PerspectiveCamera.prototype.setLens=function(e,t){void 0===t&&(t=24),this.fov=2*a.Math.radToDeg(Math.atan(t/(2*e))),this.updateProjectionMatrix()},a.PerspectiveCamera.prototype.setViewOffset=function(e,t,n,r,i,o){this.fullWidth=e,this.fullHeight=t,this.x=n,this.y=r,this.width=i,this.height=o,this.updateProjectionMatrix()},a.PerspectiveCamera.prototype.updateProjectionMatrix=function(){var e=a.Math.radToDeg(2*Math.atan(Math.tan(.5*a.Math.degToRad(this.fov))/this.zoom));if(this.fullWidth){var t=this.fullWidth/this.fullHeight,n=Math.tan(a.Math.degToRad(.5*e))*this.near,r=-n,i=t*r,o=t*n,s=Math.abs(o-i),u=Math.abs(n-r);this.projectionMatrix.makeFrustum(i+this.x*s/this.fullWidth,i+(this.x+this.width)*s/this.fullWidth,n-(this.y+this.height)*u/this.fullHeight,n-this.y*u/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(e,this.aspect,this.near,this.far)},a.PerspectiveCamera.prototype.copy=function(e){return a.Camera.prototype.copy.call(this,e),this.fov=e.fov,this.aspect=e.aspect,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this},a.PerspectiveCamera.prototype.toJSON=function(e){var t=a.Object3D.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.fov=this.fov,t.object.aspect=this.aspect,t.object.near=this.near,t.object.far=this.far,t},a.Light=function(e){a.Object3D.call(this),this.type="Light",this.color=new a.Color(e),this.receiveShadow=void 0},a.Light.prototype=Object.create(a.Object3D.prototype),a.Light.prototype.constructor=a.Light,Object.defineProperties(a.Light.prototype,{onlyShadow:{set:function(e){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){this.shadow.camera.far=e}},shadowCameraVisible:{set:function(e){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow ) instead.")}},shadowBias:{set:function(e){this.shadow.bias=e}},shadowDarkness:{set:function(e){this.shadow.darkness=e}},shadowMapWidth:{set:function(e){this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){this.shadow.mapSize.height=e}}}),a.Light.prototype.copy=function(e){return a.Object3D.prototype.copy.call(this,e),this.color.copy(e.color),this},a.Light.prototype.toJSON=function(e){var t=a.Object3D.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.intensity&&(t.object.intensity=this.intensity),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.exponent&&(t.object.exponent=this.exponent),t},a.LightShadow=function(e){this.camera=e,this.bias=0,this.darkness=1,this.mapSize=new a.Vector2(512,512),this.map=null,this.matrix=null},a.LightShadow.prototype={constructor:a.LightShadow,copy:function(e){this.camera=e.camera.clone(),this.bias=e.bias,this.darkness=e.darkness,this.mapSize.copy(e.mapSize)},clone:function(){return(new this.constructor).copy(this)}},a.AmbientLight=function(e){a.Light.call(this,e),this.type="AmbientLight",this.castShadow=void 0},a.AmbientLight.prototype=Object.create(a.Light.prototype),a.AmbientLight.prototype.constructor=a.AmbientLight,a.DirectionalLight=function(e,t){a.Light.call(this,e),this.type="DirectionalLight",this.position.set(0,1,0),this.updateMatrix(),this.target=new a.Object3D,this.intensity=void 0!==t?t:1,this.shadow=new a.LightShadow(new a.OrthographicCamera(-500,500,500,-500,50,5e3))},a.DirectionalLight.prototype=Object.create(a.Light.prototype),a.DirectionalLight.prototype.constructor=a.DirectionalLight,a.DirectionalLight.prototype.copy=function(e){return a.Light.prototype.copy.call(this,e),this.intensity=e.intensity,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this},a.HemisphereLight=function(e,t,n){a.Light.call(this,e),this.type="HemisphereLight",this.castShadow=void 0,this.position.set(0,1,0),this.updateMatrix(),this.groundColor=new a.Color(t),this.intensity=void 0!==n?n:1},a.HemisphereLight.prototype=Object.create(a.Light.prototype),a.HemisphereLight.prototype.constructor=a.HemisphereLight,a.HemisphereLight.prototype.copy=function(e){return a.Light.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this.intensity=e.intensity,this},a.PointLight=function(e,t,n,r){a.Light.call(this,e),this.type="PointLight",this.intensity=void 0!==t?t:1,this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new a.LightShadow(new a.PerspectiveCamera(90,1,1,500))},a.PointLight.prototype=Object.create(a.Light.prototype),a.PointLight.prototype.constructor=a.PointLight,a.PointLight.prototype.copy=function(e){return a.Light.prototype.copy.call(this,e),this.intensity=e.intensity,this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this},a.SpotLight=function(e,t,n,r,i,o){a.Light.call(this,e),this.type="SpotLight",this.position.set(0,1,0),this.updateMatrix(),this.target=new a.Object3D,this.intensity=void 0!==t?t:1,this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.exponent=void 0!==i?i:10,this.decay=void 0!==o?o:1,this.shadow=new a.LightShadow(new a.PerspectiveCamera(50,1,50,5e3))},a.SpotLight.prototype=Object.create(a.Light.prototype),a.SpotLight.prototype.constructor=a.SpotLight,a.SpotLight.prototype.copy=function(e){return a.Light.prototype.copy.call(this,e),this.intensity=e.intensity,this.distance=e.distance,this.angle=e.angle,this.exponent=e.exponent,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this},a.Cache={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){return this.enabled!==!1?this.files[e]:void 0},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},a.Loader=function(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},a.Loader.prototype={constructor:a.Loader,crossOrigin:void 0,extractUrlBase:function(e){var t=e.split("/");return 1===t.length?"./":(t.pop(),t.join("/")+"/")},initMaterials:function(e,t,n){for(var r=[],i=0;i<e.length;++i)r[i]=this.createMaterial(e[i],t,n);return r},createMaterial:function(){var e,t,n;return function(r,i,o){function s(e,n,r,s,c){var l,h=i+e,f=a.Loader.Handlers.get(h);null!==f?l=f.load(h):(t.setCrossOrigin(o),l=t.load(h)),void 0!==n&&(l.repeat.fromArray(n),1!==n[0]&&(l.wrapS=a.RepeatWrapping),1!==n[1]&&(l.wrapT=a.RepeatWrapping)),void 0!==r&&l.offset.fromArray(r),void 0!==s&&("repeat"===s[0]&&(l.wrapS=a.RepeatWrapping),"mirror"===s[0]&&(l.wrapS=a.MirroredRepeatWrapping),"repeat"===s[1]&&(l.wrapT=a.RepeatWrapping),"mirror"===s[1]&&(l.wrapT=a.MirroredRepeatWrapping)),void 0!==c&&(l.anisotropy=c);var p=a.Math.generateUUID();return u[p]=l,p}void 0===e&&(e=new a.Color),void 0===t&&(t=new a.TextureLoader),void 0===n&&(n=new a.MaterialLoader);var u={},c={uuid:a.Math.generateUUID(),type:"MeshLambertMaterial"};for(var l in r){var h=r[l];switch(l){case"DbgColor":c.color=h;break;case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":c.name=h;break;case"blending":c.blending=a[h];break;case"colorDiffuse":c.color=e.fromArray(h).getHex();break;case"colorSpecular":c.specular=e.fromArray(h).getHex();break;case"colorEmissive":c.emissive=e.fromArray(h).getHex();break;case"specularCoef":c.shininess=h;break;case"shading":"basic"===h.toLowerCase()&&(c.type="MeshBasicMaterial"),"phong"===h.toLowerCase()&&(c.type="MeshPhongMaterial");break;case"mapDiffuse":c.map=s(h,r.mapDiffuseRepeat,r.mapDiffuseOffset,r.mapDiffuseWrap,r.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapLight":c.lightMap=s(h,r.mapLightRepeat,r.mapLightOffset,r.mapLightWrap,r.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":c.aoMap=s(h,r.mapAORepeat,r.mapAOOffset,r.mapAOWrap,r.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":c.bumpMap=s(h,r.mapBumpRepeat,r.mapBumpOffset,r.mapBumpWrap,r.mapBumpAnisotropy);break;case"mapBumpScale":c.bumpScale=h;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":c.normalMap=s(h,r.mapNormalRepeat,r.mapNormalOffset,r.mapNormalWrap,r.mapNormalAnisotropy);break;case"mapNormalFactor":c.normalScale=[h,h];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":c.specularMap=s(h,r.mapSpecularRepeat,r.mapSpecularOffset,r.mapSpecularWrap,r.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapAlpha":c.alphaMap=s(h,r.mapAlphaRepeat,r.mapAlphaOffset,r.mapAlphaWrap,r.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":c.side=a.BackSide;break;case"doubleSided":c.side=a.DoubleSide;break;case"transparency":console.warn("THREE.Loader: transparency has been renamed to opacity"),c.opacity=h;break;case"opacity":case"transparent":case"depthTest":case"depthWrite":case"transparent":case"visible":case"wireframe":c[l]=h;break;case"vertexColors":h===!0&&(c.vertexColors=a.VertexColors),"face"===h&&(c.vertexColors=a.FaceColors);break;default:console.error("Loader.createMaterial: Unsupported",l,h)}}return"MeshPhongMaterial"!==c.type&&delete c.specular,c.opacity<1&&(c.transparent=!0),n.setTextures(u),n.parse(c)}}()},a.Loader.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,r=t.length;r>n;n+=2){var i=t[n],o=t[n+1];if(i.test(e))return o}return null}},a.XHRLoader=function(e){this.manager=void 0!==e?e:a.DefaultLoadingManager},a.XHRLoader.prototype={constructor:a.XHRLoader,load:function(e,t,n,r){var i=this,o=a.Cache.get(e);if(void 0!==o)return t&&setTimeout(function(){t(o)},0),o;var s=new XMLHttpRequest;return s.open("GET",e,!0),s.addEventListener("load",function(n){var r=n.target.response;a.Cache.add(e,r),t&&t(r),i.manager.itemEnd(e)},!1),void 0!==n&&s.addEventListener("progress",function(e){n(e)},!1),s.addEventListener("error",function(t){r&&r(t),i.manager.itemError(e)},!1),void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),void 0!==this.responseType&&(s.responseType=this.responseType),void 0!==this.withCredentials&&(s.withCredentials=this.withCredentials),s.send(null),i.manager.itemStart(e),s},setResponseType:function(e){this.responseType=e},setCrossOrigin:function(e){this.crossOrigin=e},setWithCredentials:function(e){this.withCredentials=e}},a.ImageLoader=function(e){this.manager=void 0!==e?e:a.DefaultLoadingManager},a.ImageLoader.prototype={constructor:a.ImageLoader,load:function(e,t,n,r){var i=this,o=a.Cache.get(e);if(void 0!==o)return i.manager.itemStart(e),t?setTimeout(function(){t(o),i.manager.itemEnd(e)},0):i.manager.itemEnd(e),o;var s=document.createElement("img");return s.addEventListener("load",function(n){a.Cache.add(e,this),t&&t(this),i.manager.itemEnd(e)},!1),void 0!==n&&s.addEventListener("progress",function(e){n(e)},!1),s.addEventListener("error",function(t){r&&r(t),i.manager.itemError(e)},!1),void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),i.manager.itemStart(e),s.src=e,s},setCrossOrigin:function(e){this.crossOrigin=e}},a.JSONLoader=function(e){"boolean"==typeof e&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),e=void 0),this.manager=void 0!==e?e:a.DefaultLoadingManager,this.withCredentials=!1},a.JSONLoader.prototype={constructor:a.JSONLoader,get statusDomElement(){return void 0===this._statusDomElement&&(this._statusDomElement=document.createElement("div")),console.warn("THREE.JSONLoader: .statusDomElement has been removed."),this._statusDomElement},load:function(e,t,n,r){var i=this,o=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:a.Loader.prototype.extractUrlBase(e),s=new a.XHRLoader(this.manager);s.setCrossOrigin(this.crossOrigin),s.setWithCredentials(this.withCredentials),s.load(e,function(n){var r=JSON.parse(n),a=r.metadata;if(void 0!==a){if("object"===a.type)return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.ObjectLoader instead.");if("scene"===a.type)return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.SceneLoader instead.")}var s=i.parse(r,o);t(s.geometry,s.materials)})},setCrossOrigin:function(e){this.crossOrigin=e},setTexturePath:function(e){this.texturePath=e},parse:function(e,t){function n(t){function n(e,t){return e&1<<t}var r,i,o,u,c,l,h,f,p,d,v,m,g,y,b,w,x,_,E,S,M,T,C,A,k,P,O,D=e.faces,R=e.vertices,L=e.normals,F=e.colors,j=0;if(void 0!==e.uvs){for(r=0;r<e.uvs.length;r++)e.uvs[r].length&&j++;for(r=0;j>r;r++)s.faceVertexUvs[r]=[]}for(u=0,c=R.length;c>u;)_=new a.Vector3,_.x=R[u++]*t,_.y=R[u++]*t,_.z=R[u++]*t,s.vertices.push(_);for(u=0,c=D.length;c>u;)if(d=D[u++],v=n(d,0),m=n(d,1),g=n(d,3),y=n(d,4),b=n(d,5),w=n(d,6),x=n(d,7),v){if(S=new a.Face3,S.a=D[u],S.b=D[u+1],S.c=D[u+3],M=new a.Face3,M.a=D[u+1],M.b=D[u+2],M.c=D[u+3],u+=4,m&&(p=D[u++],S.materialIndex=p,M.materialIndex=p),o=s.faces.length,g)for(r=0;j>r;r++)for(A=e.uvs[r],s.faceVertexUvs[r][o]=[],s.faceVertexUvs[r][o+1]=[],i=0;4>i;i++)f=D[u++],P=A[2*f],O=A[2*f+1],k=new a.Vector2(P,O),2!==i&&s.faceVertexUvs[r][o].push(k),0!==i&&s.faceVertexUvs[r][o+1].push(k);if(y&&(h=3*D[u++],S.normal.set(L[h++],L[h++],L[h]),M.normal.copy(S.normal)),b)for(r=0;4>r;r++)h=3*D[u++],C=new a.Vector3(L[h++],L[h++],L[h]),2!==r&&S.vertexNormals.push(C),0!==r&&M.vertexNormals.push(C);if(w&&(l=D[u++],T=F[l],S.color.setHex(T),M.color.setHex(T)),x)for(r=0;4>r;r++)l=D[u++],T=F[l],2!==r&&S.vertexColors.push(new a.Color(T)),0!==r&&M.vertexColors.push(new a.Color(T));s.faces.push(S),s.faces.push(M)}else{if(E=new a.Face3,E.a=D[u++],E.b=D[u++],E.c=D[u++],m&&(p=D[u++],E.materialIndex=p),o=s.faces.length,g)for(r=0;j>r;r++)for(A=e.uvs[r],s.faceVertexUvs[r][o]=[],i=0;3>i;i++)f=D[u++],P=A[2*f],O=A[2*f+1],k=new a.Vector2(P,O),s.faceVertexUvs[r][o].push(k);if(y&&(h=3*D[u++],E.normal.set(L[h++],L[h++],L[h])),b)for(r=0;3>r;r++)h=3*D[u++],C=new a.Vector3(L[h++],L[h++],L[h]),E.vertexNormals.push(C);if(w&&(l=D[u++],E.color.setHex(F[l])),x)for(r=0;3>r;r++)l=D[u++],E.vertexColors.push(new a.Color(F[l]));s.faces.push(E)}}function r(){var t=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(var n=0,r=e.skinWeights.length;r>n;n+=t){var i=e.skinWeights[n],o=t>1?e.skinWeights[n+1]:0,u=t>2?e.skinWeights[n+2]:0,c=t>3?e.skinWeights[n+3]:0;s.skinWeights.push(new a.Vector4(i,o,u,c))}if(e.skinIndices)for(var n=0,r=e.skinIndices.length;r>n;n+=t){var l=e.skinIndices[n],h=t>1?e.skinIndices[n+1]:0,f=t>2?e.skinIndices[n+2]:0,p=t>3?e.skinIndices[n+3]:0;s.skinIndices.push(new a.Vector4(l,h,f,p))}s.bones=e.bones,s.bones&&s.bones.length>0&&(s.skinWeights.length!==s.skinIndices.length||s.skinIndices.length!==s.vertices.length)&&console.warn("When skinning, number of vertices ("+s.vertices.length+"), skinIndices ("+s.skinIndices.length+"), and skinWeights ("+s.skinWeights.length+") should match.")}function i(t){if(void 0!==e.morphTargets)for(var n=0,r=e.morphTargets.length;r>n;n++){s.morphTargets[n]={},s.morphTargets[n].name=e.morphTargets[n].name,s.morphTargets[n].vertices=[];for(var i=s.morphTargets[n].vertices,o=e.morphTargets[n].vertices,u=0,c=o.length;c>u;u+=3){var l=new a.Vector3;l.x=o[u]*t,l.y=o[u+1]*t,l.z=o[u+2]*t,i.push(l)}}if(void 0!==e.morphColors&&e.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var h=s.faces,f=e.morphColors[0].colors,n=0,r=h.length;r>n;n++)h[n].color.fromArray(f,3*n)}}function o(){var t=[],n=[];void 0!==e.animation&&n.push(e.animation),void 0!==e.animations&&(e.animations.length?n=n.concat(e.animations):n.push(e.animations));for(var r=0;r<n.length;r++){var i=a.AnimationClip.parseAnimation(n[r],s.bones);i&&t.push(i)}if(s.morphTargets){var o=a.AnimationClip.CreateClipsFromMorphTargetSequences(s.morphTargets,10);t=t.concat(o)}t.length>0&&(s.animations=t)}var s=new a.Geometry,u=void 0!==e.scale?1/e.scale:1;if(n(u),r(),i(u),o(),s.computeFaceNormals(),s.computeBoundingSphere(),void 0===e.materials||0===e.materials.length)return{geometry:s};var c=a.Loader.prototype.initMaterials(e.materials,t,this.crossOrigin);return{geometry:s,materials:c}}},a.LoadingManager=function(e,t,n){var r=this,i=!1,o=0,a=0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,i===!1&&void 0!==r.onStart&&r.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)}},a.DefaultLoadingManager=new a.LoadingManager,a.BufferGeometryLoader=function(e){this.manager=void 0!==e?e:a.DefaultLoadingManager},a.BufferGeometryLoader.prototype={constructor:a.BufferGeometryLoader,load:function(e,t,n,r){var i=this,o=new a.XHRLoader(i.manager);o.setCrossOrigin(this.crossOrigin),o.load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e){var t=new a.BufferGeometry,n=e.data.index;if(void 0!==n){var r=new o[n.type](n.array);t.setIndex(new a.BufferAttribute(r,1))}var i=e.data.attributes;for(var s in i){var u=i[s],r=new o[u.type](u.array);t.addAttribute(s,new a.BufferAttribute(r,u.itemSize))}var c=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==c)for(var l=0,h=c.length;l!==h;++l){var f=c[l];t.addGroup(f.start,f.count)}var p=e.data.boundingSphere;if(void 0!==p){var d=new a.Vector3;void 0!==p.center&&d.fromArray(p.center),t.boundingSphere=new a.Sphere(d,p.radius)}return t}},a.MaterialLoader=function(e){this.manager=void 0!==e?e:a.DefaultLoadingManager,this.textures={}},a.MaterialLoader.prototype={constructor:a.MaterialLoader,load:function(e,t,n,r){var i=this,o=new a.XHRLoader(i.manager);o.setCrossOrigin(this.crossOrigin),o.load(e,function(e){t(i.parse(JSON.parse(e)))},n,r)},setCrossOrigin:function(e){this.crossOrigin=e},setTextures:function(e){this.textures=e},getTexture:function(e){var t=this.textures;return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]},parse:function(e){var t=new a[e.type];if(t.uuid=e.uuid,void 0!==e.name&&(t.name=e.name),void 0!==e.color&&t.color.setHex(e.color),void 0!==e.emissive&&t.emissive.setHex(e.emissive),void 0!==e.specular&&t.specular.setHex(e.specular),void 0!==e.shininess&&(t.shininess=e.shininess),void 0!==e.uniforms&&(t.uniforms=e.uniforms),void 0!==e.vertexShader&&(t.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(t.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(t.vertexColors=e.vertexColors),void 0!==e.shading&&(t.shading=e.shading),void 0!==e.blending&&(t.blending=e.blending),void 0!==e.side&&(t.side=e.side),void 0!==e.opacity&&(t.opacity=e.opacity),void 0!==e.transparent&&(t.transparent=e.transparent),void 0!==e.alphaTest&&(t.alphaTest=e.alphaTest),void 0!==e.depthTest&&(t.depthTest=e.depthTest),void 0!==e.depthWrite&&(t.depthWrite=e.depthWrite),void 0!==e.wireframe&&(t.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(t.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.size&&(t.size=e.size),void 0!==e.sizeAttenuation&&(t.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(t.map=this.getTexture(e.map)),void 0!==e.alphaMap&&(t.alphaMap=this.getTexture(e.alphaMap),t.transparent=!0),void 0!==e.bumpMap&&(t.bumpMap=this.getTexture(e.bumpMap)),void 0!==e.bumpScale&&(t.bumpScale=e.bumpScale),void 0!==e.normalMap&&(t.normalMap=this.getTexture(e.normalMap)),e.normalScale&&(t.normalScale=new a.Vector2(e.normalScale,e.normalScale)),void 0!==e.displacementMap&&(t.displacementMap=this.getTexture(e.displacementMap)),void 0!==e.displacementScale&&(t.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(t.displacementBias=e.displacementBias),void 0!==e.specularMap&&(t.specularMap=this.getTexture(e.specularMap)),void 0!==e.envMap&&(t.envMap=this.getTexture(e.envMap),t.combine=a.MultiplyOperation),e.reflectivity&&(t.reflectivity=e.reflectivity),void 0!==e.lightMap&&(t.lightMap=this.getTexture(e.lightMap)),void 0!==e.lightMapIntensity&&(t.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(t.aoMap=this.getTexture(e.aoMap)),void 0!==e.aoMapIntensity&&(t.aoMapIntensity=e.aoMapIntensity),void 0!==e.materials)for(var n=0,r=e.materials.length;r>n;n++)t.materials.push(this.parse(e.materials[n]));return t}},a.ObjectLoader=function(e){this.manager=void 0!==e?e:a.DefaultLoadingManager,this.texturePath=""},a.ObjectLoader.prototype={constructor:a.ObjectLoader,load:function(e,t,n,r){""===this.texturePath&&(this.texturePath=e.substring(0,e.lastIndexOf("/")+1));var i=this,o=new a.XHRLoader(i.manager);o.setCrossOrigin(this.crossOrigin),o.load(e,function(e){i.parse(JSON.parse(e),t)},n,r)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var n=this.parseGeometries(e.geometries),r=this.parseImages(e.images,function(){void 0!==t&&t(a)}),i=this.parseTextures(e.textures,r),o=this.parseMaterials(e.materials,i),a=this.parseObject(e.object,n,o);return e.animations&&(a.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(a),a},parseGeometries:function(e){var t={};if(void 0!==e)for(var n=new a.JSONLoader,r=new a.BufferGeometryLoader,i=0,o=e.length;o>i;i++){var s,u=e[i];switch(u.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new a[u.type](u.width,u.height,u.widthSegments,u.heightSegments);break;case"BoxGeometry":case"CubeGeometry":s=new a.BoxGeometry(u.width,u.height,u.depth,u.widthSegments,u.heightSegments,u.depthSegments);break;case"CircleBufferGeometry":s=new a.CircleBufferGeometry(u.radius,u.segments,u.thetaStart,u.thetaLength);break;case"CircleGeometry":s=new a.CircleGeometry(u.radius,u.segments,u.thetaStart,u.thetaLength);break;case"CylinderGeometry":s=new a.CylinderGeometry(u.radiusTop,u.radiusBottom,u.height,u.radialSegments,u.heightSegments,u.openEnded,u.thetaStart,u.thetaLength);break;case"SphereGeometry":s=new a.SphereGeometry(u.radius,u.widthSegments,u.heightSegments,u.phiStart,u.phiLength,u.thetaStart,u.thetaLength);
break;case"SphereBufferGeometry":s=new a.SphereBufferGeometry(u.radius,u.widthSegments,u.heightSegments,u.phiStart,u.phiLength,u.thetaStart,u.thetaLength);break;case"DodecahedronGeometry":s=new a.DodecahedronGeometry(u.radius,u.detail);break;case"IcosahedronGeometry":s=new a.IcosahedronGeometry(u.radius,u.detail);break;case"OctahedronGeometry":s=new a.OctahedronGeometry(u.radius,u.detail);break;case"TetrahedronGeometry":s=new a.TetrahedronGeometry(u.radius,u.detail);break;case"RingGeometry":s=new a.RingGeometry(u.innerRadius,u.outerRadius,u.thetaSegments,u.phiSegments,u.thetaStart,u.thetaLength);break;case"TorusGeometry":s=new a.TorusGeometry(u.radius,u.tube,u.radialSegments,u.tubularSegments,u.arc);break;case"TorusKnotGeometry":s=new a.TorusKnotGeometry(u.radius,u.tube,u.radialSegments,u.tubularSegments,u.p,u.q,u.heightScale);break;case"BufferGeometry":s=r.parse(u);break;case"Geometry":s=n.parse(u.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+u.type+'"');continue}s.uuid=u.uuid,void 0!==u.name&&(s.name=u.name),t[u.uuid]=s}return t},parseMaterials:function(e,t){var n={};if(void 0!==e){var r=new a.MaterialLoader;r.setTextures(t);for(var i=0,o=e.length;o>i;i++){var s=r.parse(e[i]);n[s.uuid]=s}}return n},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=a.AnimationClip.parse(e[n]);t.push(r)}return t},parseImages:function(e,t){function n(e){return r.manager.itemStart(e),s.load(e,function(){r.manager.itemEnd(e)})}var r=this,i={};if(void 0!==e&&e.length>0){var o=new a.LoadingManager(t),s=new a.ImageLoader(o);s.setCrossOrigin(this.crossOrigin);for(var u=0,c=e.length;c>u;u++){var l=e[u],h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:r.texturePath+l.url;i[l.uuid]=n(h)}}return i},parseTextures:function(e,t){function n(e){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),a[e])}var r={};if(void 0!==e)for(var i=0,o=e.length;o>i;i++){var s=e[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===t[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image);var u=new a.Texture(t[s.image]);u.needsUpdate=!0,u.uuid=s.uuid,void 0!==s.name&&(u.name=s.name),void 0!==s.mapping&&(u.mapping=n(s.mapping)),void 0!==s.offset&&(u.offset=new a.Vector2(s.offset[0],s.offset[1])),void 0!==s.repeat&&(u.repeat=new a.Vector2(s.repeat[0],s.repeat[1])),void 0!==s.minFilter&&(u.minFilter=n(s.minFilter)),void 0!==s.magFilter&&(u.magFilter=n(s.magFilter)),void 0!==s.anisotropy&&(u.anisotropy=s.anisotropy),Array.isArray(s.wrap)&&(u.wrapS=n(s.wrap[0]),u.wrapT=n(s.wrap[1])),r[s.uuid]=u}return r},parseObject:function(){var e=new a.Matrix4;return function(t,n,r){function i(e){return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),n[e]}function o(e){return void 0!==e?(void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),r[e]):void 0}var s;switch(t.type){case"Scene":s=new a.Scene;break;case"PerspectiveCamera":s=new a.PerspectiveCamera(t.fov,t.aspect,t.near,t.far);break;case"OrthographicCamera":s=new a.OrthographicCamera(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":s=new a.AmbientLight(t.color);break;case"DirectionalLight":s=new a.DirectionalLight(t.color,t.intensity);break;case"PointLight":s=new a.PointLight(t.color,t.intensity,t.distance,t.decay);break;case"SpotLight":s=new a.SpotLight(t.color,t.intensity,t.distance,t.angle,t.exponent,t.decay);break;case"HemisphereLight":s=new a.HemisphereLight(t.color,t.groundColor,t.intensity);break;case"Mesh":s=new a.Mesh(i(t.geometry),o(t.material));break;case"LOD":s=new a.LOD;break;case"Line":s=new a.Line(i(t.geometry),o(t.material),t.mode);break;case"PointCloud":case"Points":s=new a.Points(i(t.geometry),o(t.material));break;case"Sprite":s=new a.Sprite(o(t.material));break;case"Group":s=new a.Group;break;default:s=new a.Object3D}if(s.uuid=t.uuid,void 0!==t.name&&(s.name=t.name),void 0!==t.matrix?(e.fromArray(t.matrix),e.decompose(s.position,s.quaternion,s.scale)):(void 0!==t.position&&s.position.fromArray(t.position),void 0!==t.rotation&&s.rotation.fromArray(t.rotation),void 0!==t.scale&&s.scale.fromArray(t.scale)),void 0!==t.castShadow&&(s.castShadow=t.castShadow),void 0!==t.receiveShadow&&(s.receiveShadow=t.receiveShadow),void 0!==t.visible&&(s.visible=t.visible),void 0!==t.userData&&(s.userData=t.userData),void 0!==t.children)for(var u in t.children)s.add(this.parseObject(t.children[u],n,r));if("LOD"===t.type)for(var c=t.levels,l=0;l<c.length;l++){var h=c[l],u=s.getObjectByProperty("uuid",h.object);void 0!==u&&s.addLevel(u,h.distance)}return s}}()},a.TextureLoader=function(e){this.manager=void 0!==e?e:a.DefaultLoadingManager},a.TextureLoader.prototype={constructor:a.TextureLoader,load:function(e,t,n,r){var i=new a.Texture,o=new a.ImageLoader(this.manager);return o.setCrossOrigin(this.crossOrigin),o.load(e,function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)},n,r),i},setCrossOrigin:function(e){this.crossOrigin=e}},a.CubeTextureLoader=function(e){this.manager=void 0!==e?e:a.DefaultLoadingManager},a.CubeTextureLoader.prototype={constructor:a.CubeTextureLoader,load:function(e,t,n,r){function i(n){s.load(e[n],function(e){o.images[n]=e,u++,6===u&&(o.needsUpdate=!0,t&&t(o))},void 0,r)}var o=new a.CubeTexture([]),s=new a.ImageLoader;s.setCrossOrigin(this.crossOrigin);for(var u=0,c=0;c<e.length;++c)i(c);return o},setCrossOrigin:function(e){this.crossOrigin=e}},a.DataTextureLoader=a.BinaryTextureLoader=function(e){this.manager=void 0!==e?e:a.DefaultLoadingManager,this._parser=null},a.BinaryTextureLoader.prototype={constructor:a.BinaryTextureLoader,load:function(e,t,n,r){var i=this,o=new a.DataTexture,s=new a.XHRLoader(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setResponseType("arraybuffer"),s.load(e,function(e){var n=i._parser(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:a.ClampToEdgeWrapping,o.wrapT=void 0!==n.wrapT?n.wrapT:a.ClampToEdgeWrapping,o.magFilter=void 0!==n.magFilter?n.magFilter:a.LinearFilter,o.minFilter=void 0!==n.minFilter?n.minFilter:a.LinearMipMapLinearFilter,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=a.LinearFilter),o.needsUpdate=!0,t&&t(o,n))},n,r),o},setCrossOrigin:function(e){this.crossOrigin=e}},a.CompressedTextureLoader=function(e){this.manager=void 0!==e?e:a.DefaultLoadingManager,this._parser=null},a.CompressedTextureLoader.prototype={constructor:a.CompressedTextureLoader,load:function(e,t,n,r){var i=this,o=[],s=new a.CompressedTexture;s.image=o;var u=new a.XHRLoader(this.manager);if(u.setCrossOrigin(this.crossOrigin),u.setResponseType("arraybuffer"),Array.isArray(e))for(var c=0,l=function(l){u.load(e[l],function(e){var n=i._parser(e,!0);o[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},c+=1,6===c&&(1===n.mipmapCount&&(s.minFilter=a.LinearFilter),s.format=n.format,s.needsUpdate=!0,t&&t(s))},n,r)},h=0,f=e.length;f>h;++h)l(h);else u.load(e,function(e){var n=i._parser(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,u=0;r>u;u++){o[u]={mipmaps:[]};for(var c=0;c<n.mipmapCount;c++)o[u].mipmaps.push(n.mipmaps[u*n.mipmapCount+c]),o[u].format=n.format,o[u].width=n.width,o[u].height=n.height}else s.image.width=n.width,s.image.height=n.height,s.mipmaps=n.mipmaps;1===n.mipmapCount&&(s.minFilter=a.LinearFilter),s.format=n.format,s.needsUpdate=!0,t&&t(s)},n,r);return s},setCrossOrigin:function(e){this.crossOrigin=e}},a.Material=function(){Object.defineProperty(this,"id",{value:a.MaterialIdCount++}),this.uuid=a.Math.generateUUID(),this.name="",this.type="Material",this.side=a.FrontSide,this.opacity=1,this.transparent=!1,this.blending=a.NormalBlending,this.blendSrc=a.SrcAlphaFactor,this.blendDst=a.OneMinusSrcAlphaFactor,this.blendEquation=a.AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=a.LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.overdraw=0,this.visible=!0,this._needsUpdate=!0},a.Material.prototype={constructor:a.Material,get needsUpdate(){return this._needsUpdate},set needsUpdate(e){e===!0&&this.update(),this._needsUpdate=e},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var r=this[t];void 0!==r?r instanceof a.Color?r.set(n):r instanceof a.Vector3&&n instanceof a.Vector3?r.copy(n):"overdraw"===t?this[t]=Number(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};return t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),this.color instanceof a.Color&&(t.color=this.color.getHex()),this.emissive instanceof a.Color&&(t.emissive=this.emissive.getHex()),this.specular instanceof a.Color&&(t.specular=this.specular.getHex()),void 0!==this.shininess&&(t.shininess=this.shininess),this.map instanceof a.Texture&&(t.map=this.map.toJSON(e).uuid),this.alphaMap instanceof a.Texture&&(t.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap instanceof a.Texture&&(t.lightMap=this.lightMap.toJSON(e).uuid),this.bumpMap instanceof a.Texture&&(t.bumpMap=this.bumpMap.toJSON(e).uuid,t.bumpScale=this.bumpScale),this.normalMap instanceof a.Texture&&(t.normalMap=this.normalMap.toJSON(e).uuid,t.normalScale=this.normalScale),this.displacementMap instanceof a.Texture&&(t.displacementMap=this.displacementMap.toJSON(e).uuid,t.displacementScale=this.displacementScale,t.displacementBias=this.displacementBias),this.specularMap instanceof a.Texture&&(t.specularMap=this.specularMap.toJSON(e).uuid),this.envMap instanceof a.Texture&&(t.envMap=this.envMap.toJSON(e).uuid,t.reflectivity=this.reflectivity),void 0!==this.size&&(t.size=this.size),void 0!==this.sizeAttenuation&&(t.sizeAttenuation=this.sizeAttenuation),void 0!==this.vertexColors&&this.vertexColors!==a.NoColors&&(t.vertexColors=this.vertexColors),void 0!==this.shading&&this.shading!==a.SmoothShading&&(t.shading=this.shading),void 0!==this.blending&&this.blending!==a.NormalBlending&&(t.blending=this.blending),void 0!==this.side&&this.side!==a.FrontSide&&(t.side=this.side),this.opacity<1&&(t.opacity=this.opacity),this.transparent===!0&&(t.transparent=this.transparent),this.alphaTest>0&&(t.alphaTest=this.alphaTest),this.wireframe===!0&&(t.wireframe=this.wireframe),this.wireframeLinewidth>1&&(t.wireframeLinewidth=this.wireframeLinewidth),t},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.side=e.side,this.opacity=e.opacity,this.transparent=e.transparent,this.blending=e.blending,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.alphaTest=e.alphaTest,this.overdraw=e.overdraw,this.visible=e.visible,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})},get wrapAround(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set wrapAround(e){console.warn("THREE."+this.type+": .wrapAround has been removed.")},get wrapRGB(){return console.warn("THREE."+this.type+": .wrapRGB has been removed."),new a.Color}},a.EventDispatcher.prototype.apply(a.Material.prototype),a.MaterialIdCount=0,a.LineBasicMaterial=function(e){a.Material.call(this),this.type="LineBasicMaterial",this.color=new a.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=a.NoColors,this.fog=!0,this.setValues(e)},a.LineBasicMaterial.prototype=Object.create(a.Material.prototype),a.LineBasicMaterial.prototype.constructor=a.LineBasicMaterial,a.LineBasicMaterial.prototype.copy=function(e){return a.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.vertexColors=e.vertexColors,this.fog=e.fog,this},a.LineDashedMaterial=function(e){a.Material.call(this),this.type="LineDashedMaterial",this.color=new a.Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.vertexColors=!1,this.fog=!0,this.setValues(e)},a.LineDashedMaterial.prototype=Object.create(a.Material.prototype),a.LineDashedMaterial.prototype.constructor=a.LineDashedMaterial,a.LineDashedMaterial.prototype.copy=function(e){return a.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this.vertexColors=e.vertexColors,this.fog=e.fog,this},a.MeshBasicMaterial=function(e){a.Material.call(this),this.type="MeshBasicMaterial",this.color=new a.Color(16777215),this.map=null,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=a.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=a.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=a.NoColors,this.skinning=!1,this.morphTargets=!1,this.setValues(e)},a.MeshBasicMaterial.prototype=Object.create(a.Material.prototype),a.MeshBasicMaterial.prototype.constructor=a.MeshBasicMaterial,a.MeshBasicMaterial.prototype.copy=function(e){return a.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.fog=e.fog,this.shading=e.shading,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.vertexColors=e.vertexColors,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},a.MeshLambertMaterial=function(e){a.Material.call(this),this.type="MeshLambertMaterial",this.color=new a.Color(16777215),this.emissive=new a.Color(0),this.map=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=a.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=a.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},a.MeshLambertMaterial.prototype=Object.create(a.Material.prototype),a.MeshLambertMaterial.prototype.constructor=a.MeshLambertMaterial,a.MeshLambertMaterial.prototype.copy=function(e){return a.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.emissive.copy(e.emissive),this.map=e.map,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.fog=e.fog,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.vertexColors=e.vertexColors,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},a.MeshPhongMaterial=function(e){a.Material.call(this),this.type="MeshPhongMaterial",this.color=new a.Color(16777215),this.emissive=new a.Color(0),this.specular=new a.Color(1118481),this.shininess=30,this.metal=!1,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new a.Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=a.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=a.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=a.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},a.MeshPhongMaterial.prototype=Object.create(a.Material.prototype),a.MeshPhongMaterial.prototype.constructor=a.MeshPhongMaterial,a.MeshPhongMaterial.prototype.copy=function(e){return a.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.emissive.copy(e.emissive),this.specular.copy(e.specular),this.shininess=e.shininess,this.metal=e.metal,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissiveMap=e.emissiveMap,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.fog=e.fog,this.shading=e.shading,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.vertexColors=e.vertexColors,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},a.MeshDepthMaterial=function(e){a.Material.call(this),this.type="MeshDepthMaterial",this.morphTargets=!1,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)},a.MeshDepthMaterial.prototype=Object.create(a.Material.prototype),a.MeshDepthMaterial.prototype.constructor=a.MeshDepthMaterial,a.MeshDepthMaterial.prototype.copy=function(e){return a.Material.prototype.copy.call(this,e),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},a.MeshNormalMaterial=function(e){a.Material.call(this,e),this.type="MeshNormalMaterial",this.wireframe=!1,this.wireframeLinewidth=1,this.morphTargets=!1,this.setValues(e)},a.MeshNormalMaterial.prototype=Object.create(a.Material.prototype),a.MeshNormalMaterial.prototype.constructor=a.MeshNormalMaterial,a.MeshNormalMaterial.prototype.copy=function(e){return a.Material.prototype.copy.call(this,e),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},a.MultiMaterial=function(e){this.uuid=a.Math.generateUUID(),this.type="MultiMaterial",this.materials=e instanceof Array?e:[],this.visible=!0},a.MultiMaterial.prototype={constructor:a.MultiMaterial,toJSON:function(){for(var e={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},t=0,n=this.materials.length;n>t;t++)e.materials.push(this.materials[t].toJSON());return e.visible=this.visible,e},clone:function(){for(var e=new this.constructor,t=0;t<this.materials.length;t++)e.materials.push(this.materials[t].clone());return e.visible=this.visible,e}},a.MeshFaceMaterial=a.MultiMaterial,a.PointsMaterial=function(e){a.Material.call(this),this.type="PointsMaterial",this.color=new a.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.vertexColors=a.NoColors,this.fog=!0,this.setValues(e)},a.PointsMaterial.prototype=Object.create(a.Material.prototype),a.PointsMaterial.prototype.constructor=a.PointsMaterial,a.PointsMaterial.prototype.copy=function(e){return a.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.vertexColors=e.vertexColors,this.fog=e.fog,this},a.PointCloudMaterial=function(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new a.PointsMaterial(e)},a.ParticleBasicMaterial=function(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new a.PointsMaterial(e)},a.ParticleSystemMaterial=function(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new a.PointsMaterial(e)},a.ShaderMaterial=function(e){a.Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.shading=a.SmoothShading,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.vertexColors=a.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.derivatives=!1,this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))},a.ShaderMaterial.prototype=Object.create(a.Material.prototype),a.ShaderMaterial.prototype.constructor=a.ShaderMaterial,a.ShaderMaterial.prototype.copy=function(e){return a.Material.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=a.UniformsUtils.clone(e.uniforms),this.attributes=e.attributes,this.defines=e.defines,this.shading=e.shading,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.vertexColors=e.vertexColors,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.derivatives=e.derivatives,this},a.ShaderMaterial.prototype.toJSON=function(e){var t=a.Material.prototype.toJSON.call(this,e);return t.uniforms=this.uniforms,t.attributes=this.attributes,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},a.RawShaderMaterial=function(e){a.ShaderMaterial.call(this,e),this.type="RawShaderMaterial"},a.RawShaderMaterial.prototype=Object.create(a.ShaderMaterial.prototype),a.RawShaderMaterial.prototype.constructor=a.RawShaderMaterial,a.SpriteMaterial=function(e){a.Material.call(this),this.type="SpriteMaterial",this.color=new a.Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.setValues(e)},a.SpriteMaterial.prototype=Object.create(a.Material.prototype),a.SpriteMaterial.prototype.constructor=a.SpriteMaterial,a.SpriteMaterial.prototype.copy=function(e){return a.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.fog=e.fog,this},a.Texture=function(e,t,n,r,i,o,s,u,c){Object.defineProperty(this,"id",{value:a.TextureIdCount++}),this.uuid=a.Math.generateUUID(),this.name="",this.sourceFile="",this.image=void 0!==e?e:a.Texture.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:a.Texture.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:a.ClampToEdgeWrapping,this.wrapT=void 0!==r?r:a.ClampToEdgeWrapping,this.magFilter=void 0!==i?i:a.LinearFilter,this.minFilter=void 0!==o?o:a.LinearMipMapLinearFilter,this.anisotropy=void 0!==c?c:1,this.format=void 0!==s?s:a.RGBAFormat,this.type=void 0!==u?u:a.UnsignedByteType,this.offset=new a.Vector2(0,0),this.repeat=new a.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.version=0,this.onUpdate=null},a.Texture.DEFAULT_IMAGE=void 0,a.Texture.DEFAULT_MAPPING=a.UVMapping,a.Texture.prototype={constructor:a.Texture,set needsUpdate(e){e===!0&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this},toJSON:function(e){function t(e){var t;return void 0!==e.toDataURL?t=e:(t=document.createElement("canvas"),t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0,e.width,e.height)),t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}if(void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy};if(void 0!==this.image){var r=this.image;void 0===r.uuid&&(r.uuid=a.Math.generateUUID()),void 0===e.images[r.uuid]&&(e.images[r.uuid]={uuid:r.uuid,url:t(r)}),n.image=r.uuid}return e.textures[this.uuid]=n,n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping===a.UVMapping){if(e.multiply(this.repeat),e.add(this.offset),e.x<0||e.x>1)switch(this.wrapS){case a.RepeatWrapping:e.x=e.x-Math.floor(e.x);break;case a.ClampToEdgeWrapping:e.x=e.x<0?0:1;break;case a.MirroredRepeatWrapping:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case a.RepeatWrapping:e.y=e.y-Math.floor(e.y);break;case a.ClampToEdgeWrapping:e.y=e.y<0?0:1;break;case a.MirroredRepeatWrapping:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}}},a.EventDispatcher.prototype.apply(a.Texture.prototype),a.TextureIdCount=0,a.CanvasTexture=function(e,t,n,r,i,o,s,u,c){a.Texture.call(this,e,t,n,r,i,o,s,u,c),this.needsUpdate=!0},a.CanvasTexture.prototype=Object.create(a.Texture.prototype),a.CanvasTexture.prototype.constructor=a.CanvasTexture,a.CubeTexture=function(e,t,n,r,i,o,s,u,c){t=void 0!==t?t:a.CubeReflectionMapping,a.Texture.call(this,e,t,n,r,i,o,s,u,c),this.images=e,this.flipY=!1},a.CubeTexture.prototype=Object.create(a.Texture.prototype),a.CubeTexture.prototype.constructor=a.CubeTexture,a.CubeTexture.prototype.copy=function(e){return a.Texture.prototype.copy.call(this,e),this.images=e.images,this},a.CompressedTexture=function(e,t,n,r,i,o,s,u,c,l,h){a.Texture.call(this,null,o,s,u,c,l,r,i,h),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1},a.CompressedTexture.prototype=Object.create(a.Texture.prototype),a.CompressedTexture.prototype.constructor=a.CompressedTexture,a.DataTexture=function(e,t,n,r,i,o,s,u,c,l,h){a.Texture.call(this,null,o,s,u,c,l,r,i,h),this.image={data:e,width:t,height:n},this.magFilter=void 0!==c?c:a.NearestFilter,this.minFilter=void 0!==l?l:a.NearestFilter,this.flipY=!1,this.generateMipmaps=!1},a.DataTexture.prototype=Object.create(a.Texture.prototype),a.DataTexture.prototype.constructor=a.DataTexture,a.VideoTexture=function(e,t,n,r,i,o,s,u,c){function l(){requestAnimationFrame(l),e.readyState===e.HAVE_ENOUGH_DATA&&(h.needsUpdate=!0)}a.Texture.call(this,e,t,n,r,i,o,s,u,c),this.generateMipmaps=!1;var h=this;l()},a.VideoTexture.prototype=Object.create(a.Texture.prototype),a.VideoTexture.prototype.constructor=a.VideoTexture,a.Group=function(){a.Object3D.call(this),this.type="Group"},a.Group.prototype=Object.create(a.Object3D.prototype),a.Group.prototype.constructor=a.Group,a.Points=function(e,t){a.Object3D.call(this),this.type="Points",this.geometry=void 0!==e?e:new a.Geometry,this.material=void 0!==t?t:new a.PointsMaterial({color:16777215*Math.random()})},a.Points.prototype=Object.create(a.Object3D.prototype),a.Points.prototype.constructor=a.Points,a.Points.prototype.raycast=function(){var e=new a.Matrix4,t=new a.Ray;return function(n,r){function i(e,i){var a=t.distanceSqToPoint(e);if(l>a){var s=t.closestPointToPoint(e);s.applyMatrix4(o.matrixWorld);var u=n.ray.origin.distanceTo(s);if(u<n.near||u>n.far)return;r.push({distance:u,distanceToRay:Math.sqrt(a),point:s.clone(),index:i,face:null,object:o})}}var o=this,s=o.geometry,u=n.params.Points.threshold;if(e.getInverse(this.matrixWorld),t.copy(n.ray).applyMatrix4(e),null===s.boundingBox||t.isIntersectionBox(s.boundingBox)!==!1){var c=u/((this.scale.x+this.scale.y+this.scale.z)/3),l=c*c,h=new a.Vector3;if(s instanceof a.BufferGeometry){var f=s.index,p=s.attributes,d=p.position.array;if(null!==f)for(var v=f.array,m=0,g=v.length;g>m;m++){var y=v[m];h.fromArray(d,3*y),i(h,y)}else for(var m=0,b=d.length/3;b>m;m++)h.fromArray(d,3*m),i(h,m)}else for(var w=s.vertices,m=0,b=w.length;b>m;m++)i(w[m],m)}}}(),a.Points.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},a.PointCloud=function(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new a.Points(e,t)},a.ParticleSystem=function(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new a.Points(e,t)},a.Line=function(e,t,n){return 1===n?(console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new a.LineSegments(e,t)):(a.Object3D.call(this),this.type="Line",this.geometry=void 0!==e?e:new a.Geometry,void(this.material=void 0!==t?t:new a.LineBasicMaterial({color:16777215*Math.random()})))},a.Line.prototype=Object.create(a.Object3D.prototype),a.Line.prototype.constructor=a.Line,a.Line.prototype.raycast=function(){var e=new a.Matrix4,t=new a.Ray,n=new a.Sphere;return function(r,i){var o=r.linePrecision,s=o*o,u=this.geometry;if(null===u.boundingSphere&&u.computeBoundingSphere(),n.copy(u.boundingSphere),n.applyMatrix4(this.matrixWorld),r.ray.isIntersectionSphere(n)!==!1){e.getInverse(this.matrixWorld),t.copy(r.ray).applyMatrix4(e);var c=new a.Vector3,l=new a.Vector3,h=new a.Vector3,f=new a.Vector3,p=this instanceof a.LineSegments?2:1;if(u instanceof a.BufferGeometry){var d=u.index,v=u.attributes;if(null!==d)for(var m=d.array,g=v.position.array,y=0,b=m.length-1;b>y;y+=p){var w=m[y],x=m[y+1];c.fromArray(g,3*w),l.fromArray(g,3*x);var _=t.distanceSqToSegment(c,l,f,h);if(!(_>s)){f.applyMatrix4(this.matrixWorld);var E=r.ray.origin.distanceTo(f);E<r.near||E>r.far||i.push({distance:E,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else for(var g=v.position.array,y=0,b=g.length/3-1;b>y;y+=p){c.fromArray(g,3*y),l.fromArray(g,3*y+3);var _=t.distanceSqToSegment(c,l,f,h);if(!(_>s)){f.applyMatrix4(this.matrixWorld);var E=r.ray.origin.distanceTo(f);E<r.near||E>r.far||i.push({distance:E,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}else if(u instanceof a.Geometry)for(var S=u.vertices,M=S.length,y=0;M-1>y;y+=p){var _=t.distanceSqToSegment(S[y],S[y+1],f,h);if(!(_>s)){f.applyMatrix4(this.matrixWorld);var E=r.ray.origin.distanceTo(f);E<r.near||E>r.far||i.push({distance:E,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}}}(),a.Line.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},a.LineStrip=0,a.LinePieces=1,a.LineSegments=function(e,t){a.Line.call(this,e,t),this.type="LineSegments"},a.LineSegments.prototype=Object.create(a.Line.prototype),a.LineSegments.prototype.constructor=a.LineSegments,a.Mesh=function(e,t){a.Object3D.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new a.Geometry,this.material=void 0!==t?t:new a.MeshBasicMaterial({color:16777215*Math.random()}),this.updateMorphTargets()},a.Mesh.prototype=Object.create(a.Object3D.prototype),a.Mesh.prototype.constructor=a.Mesh,
a.Mesh.prototype.updateMorphTargets=function(){if(void 0!==this.geometry.morphTargets&&this.geometry.morphTargets.length>0){this.morphTargetBase=-1,this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,t=this.geometry.morphTargets.length;t>e;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[e].name]=e}},a.Mesh.prototype.getMorphTargetIndexByName=function(e){return void 0!==this.morphTargetDictionary[e]?this.morphTargetDictionary[e]:(console.warn("THREE.Mesh.getMorphTargetIndexByName: morph target "+e+" does not exist. Returning 0."),0)},a.Mesh.prototype.raycast=function(){function e(e,t,n,r,i,o,s){return a.Triangle.barycoordFromPoint(e,t,n,r,m),i.multiplyScalar(m.x),o.multiplyScalar(m.y),s.multiplyScalar(m.z),i.add(o).add(s),i.clone()}function t(e,t,n,r,i,o,s){var u,c=e.material;if(u=c.side===a.BackSide?n.intersectTriangle(o,i,r,!0,s):n.intersectTriangle(r,i,o,c.side!==a.DoubleSide,s),null===u)return null;y.copy(s),y.applyMatrix4(e.matrixWorld);var l=t.ray.origin.distanceTo(y);return l<t.near||l>t.far?null:{distance:l,point:y.clone(),object:e}}function n(n,r,i,o,l,h,f,m){s.fromArray(o,3*h),u.fromArray(o,3*f),c.fromArray(o,3*m);var y=t(n,r,i,s,u,c,g);return y&&(l&&(p.fromArray(l,2*h),d.fromArray(l,2*f),v.fromArray(l,2*m),y.uv=e(g,s,u,c,p,d,v)),y.face=new a.Face3(h,f,m,a.Triangle.normal(s,u,c)),y.faceIndex=h),y}var r=new a.Matrix4,i=new a.Ray,o=new a.Sphere,s=new a.Vector3,u=new a.Vector3,c=new a.Vector3,l=new a.Vector3,h=new a.Vector3,f=new a.Vector3,p=new a.Vector2,d=new a.Vector2,v=new a.Vector2,m=new a.Vector3,g=new a.Vector3,y=new a.Vector3;return function(m,y){var b=this.geometry,w=this.material;if(void 0!==w){null===b.boundingSphere&&b.computeBoundingSphere();var x=this.matrixWorld;if(o.copy(b.boundingSphere),o.applyMatrix4(x),m.ray.isIntersectionSphere(o)!==!1&&(r.getInverse(x),i.copy(m.ray).applyMatrix4(r),null===b.boundingBox||i.isIntersectionBox(b.boundingBox)!==!1)){var _,E;if(b instanceof a.BufferGeometry){var S,M,T,C=b.index,A=b.attributes,k=A.position.array;if(void 0!==A.uv&&(_=A.uv.array),null!==C)for(var P=C.array,O=0,D=P.length;D>O;O+=3)S=P[O],M=P[O+1],T=P[O+2],E=n(this,m,i,k,_,S,M,T),E&&(E.faceIndex=Math.floor(O/3),y.push(E));else for(var O=0,D=k.length;D>O;O+=9)S=O/3,M=S+1,T=S+2,E=n(this,m,i,k,_,S,M,T),E&&(E.index=S,y.push(E))}else if(b instanceof a.Geometry){var R,L,F,j=w instanceof a.MeshFaceMaterial,N=j===!0?w.materials:null,I=b.vertices,U=b.faces,B=b.faceVertexUvs[0];B.length>0&&(_=B);for(var $=0,V=U.length;V>$;$++){var W=U[$],G=j===!0?N[W.materialIndex]:w;if(void 0!==G){if(R=I[W.a],L=I[W.b],F=I[W.c],G.morphTargets===!0){var H=b.morphTargets,z=this.morphTargetInfluences;s.set(0,0,0),u.set(0,0,0),c.set(0,0,0);for(var q=0,X=H.length;X>q;q++){var K=z[q];if(0!==K){var Y=H[q].vertices;s.addScaledVector(l.subVectors(Y[W.a],R),K),u.addScaledVector(h.subVectors(Y[W.b],L),K),c.addScaledVector(f.subVectors(Y[W.c],F),K)}}s.add(R),u.add(L),c.add(F),R=s,L=u,F=c}if(E=t(this,m,i,R,L,F,g)){if(_){var Q=_[$];p.copy(Q[0]),d.copy(Q[1]),v.copy(Q[2]),E.uv=e(g,R,L,F,p,d,v)}E.face=W,E.faceIndex=$,y.push(E)}}}}}}}}(),a.Mesh.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},a.Bone=function(e){a.Object3D.call(this),this.type="Bone",this.skin=e},a.Bone.prototype=Object.create(a.Object3D.prototype),a.Bone.prototype.constructor=a.Bone,a.Bone.prototype.copy=function(e){return a.Object3D.prototype.copy.call(this,e),this.skin=e.skin,this},a.Skeleton=function(e,t,n){if(this.useVertexTexture=void 0!==n?n:!0,this.identityMatrix=new a.Matrix4,e=e||[],this.bones=e.slice(0),this.useVertexTexture){var r=Math.sqrt(4*this.bones.length);r=a.Math.nextPowerOfTwo(Math.ceil(r)),r=Math.max(r,4),this.boneTextureWidth=r,this.boneTextureHeight=r,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new a.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,a.RGBAFormat,a.FloatType)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var i=0,o=this.bones.length;o>i;i++)this.boneInverses.push(new a.Matrix4)}},a.Skeleton.prototype.calculateInverses=function(){this.boneInverses=[];for(var e=0,t=this.bones.length;t>e;e++){var n=new a.Matrix4;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},a.Skeleton.prototype.pose=function(){for(var e,t=0,n=this.bones.length;n>t;t++)e=this.bones[t],e&&e.matrixWorld.getInverse(this.boneInverses[t]);for(var t=0,n=this.bones.length;n>t;t++)e=this.bones[t],e&&(e.parent?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},a.Skeleton.prototype.update=function(){var e=new a.Matrix4;return function(){for(var t=0,n=this.bones.length;n>t;t++){var r=this.bones[t]?this.bones[t].matrixWorld:this.identityMatrix;e.multiplyMatrices(r,this.boneInverses[t]),e.flattenToArrayOffset(this.boneMatrices,16*t)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),a.Skeleton.prototype.clone=function(){return new a.Skeleton(this.bones,this.boneInverses,this.useVertexTexture)},a.SkinnedMesh=function(e,t,n){a.Mesh.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new a.Matrix4,this.bindMatrixInverse=new a.Matrix4;var r=[];if(this.geometry&&void 0!==this.geometry.bones){for(var i,o,s=0,u=this.geometry.bones.length;u>s;++s)o=this.geometry.bones[s],i=new a.Bone(this),r.push(i),i.name=o.name,i.position.fromArray(o.pos),i.quaternion.fromArray(o.rotq),void 0!==o.scl&&i.scale.fromArray(o.scl);for(var s=0,u=this.geometry.bones.length;u>s;++s)o=this.geometry.bones[s],-1!==o.parent&&null!==o.parent?r[o.parent].add(r[s]):this.add(r[s])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new a.Skeleton(r,void 0,n),this.matrixWorld)},a.SkinnedMesh.prototype=Object.create(a.Mesh.prototype),a.SkinnedMesh.prototype.constructor=a.SkinnedMesh,a.SkinnedMesh.prototype.bind=function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},a.SkinnedMesh.prototype.pose=function(){this.skeleton.pose()},a.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof a.Geometry)for(var e=0;e<this.geometry.skinIndices.length;e++){var t=this.geometry.skinWeights[e],n=1/t.lengthManhattan();n!==1/0?t.multiplyScalar(n):t.set(1)}},a.SkinnedMesh.prototype.updateMatrixWorld=function(e){a.Mesh.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},a.SkinnedMesh.prototype.clone=function(){return new this.constructor(this.geometry,this.material,this.useVertexTexture).copy(this)},a.LOD=function(){a.Object3D.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}})},a.LOD.prototype=Object.create(a.Object3D.prototype),a.LOD.prototype.constructor=a.LOD,a.LOD.prototype.addLevel=function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);n.splice(r,0,{distance:t,object:e}),this.add(e)},a.LOD.prototype.getObjectForDistance=function(e){for(var t=this.levels,n=1,r=t.length;r>n&&!(e<t[n].distance);n++);return t[n-1].object},a.LOD.prototype.raycast=function(){var e=new a.Vector3;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.origin.distanceTo(e);this.getObjectForDistance(r).raycast(t,n)}}(),a.LOD.prototype.update=function(){var e=new a.Vector3,t=new a.Vector3;return function(n){var r=this.levels;if(r.length>1){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var i=e.distanceTo(t);r[0].object.visible=!0;for(var o=1,a=r.length;a>o&&i>=r[o].distance;o++)r[o-1].object.visible=!1,r[o].object.visible=!0;for(;a>o;o++)r[o].object.visible=!1}}}(),a.LOD.prototype.copy=function(e){a.Object3D.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;r>n;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this},a.LOD.prototype.toJSON=function(e){var t=a.Object3D.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,r=0,i=n.length;i>r;r++){var o=n[r];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t},a.Sprite=function(){var e=new Uint16Array([0,1,2,0,2,3]),t=new Float32Array([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0]),n=new Float32Array([0,0,1,0,1,1,0,1]),r=new a.BufferGeometry;return r.setIndex(new a.BufferAttribute(e,1)),r.addAttribute("position",new a.BufferAttribute(t,3)),r.addAttribute("uv",new a.BufferAttribute(n,2)),function(e){a.Object3D.call(this),this.type="Sprite",this.geometry=r,this.material=void 0!==e?e:new a.SpriteMaterial}}(),a.Sprite.prototype=Object.create(a.Object3D.prototype),a.Sprite.prototype.constructor=a.Sprite,a.Sprite.prototype.raycast=function(){var e=new a.Vector3;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.distanceSqToPoint(e),i=this.scale.x*this.scale.y;r>i||n.push({distance:Math.sqrt(r),point:this.position,face:null,object:this})}}(),a.Sprite.prototype.clone=function(){return new this.constructor(this.material).copy(this)},a.Particle=a.Sprite,a.LensFlare=function(e,t,n,r,i){a.Object3D.call(this),this.lensFlares=[],this.positionScreen=new a.Vector3,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,n,r,i)},a.LensFlare.prototype=Object.create(a.Object3D.prototype),a.LensFlare.prototype.constructor=a.LensFlare,a.LensFlare.prototype.add=function(e,t,n,r,i,o){void 0===t&&(t=-1),void 0===n&&(n=0),void 0===o&&(o=1),void 0===i&&(i=new a.Color(16777215)),void 0===r&&(r=a.NormalBlending),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:e,size:t,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:i,blending:r})},a.LensFlare.prototype.updateLensFlares=function(){var e,t,n=this.lensFlares.length,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(e=0;n>e;e++)t=this.lensFlares[e],t.x=this.positionScreen.x+r*t.distance,t.y=this.positionScreen.y+i*t.distance,t.wantedRotation=t.x*Math.PI*.25,t.rotation+=.25*(t.wantedRotation-t.rotation)},a.LensFlare.prototype.copy=function(e){a.Object3D.prototype.copy.call(this,e),this.positionScreen.copy(e.positionScreen),this.customUpdateCallback=e.customUpdateCallback;for(var t=0,n=e.lensFlares.length;n>t;t++)this.lensFlares.push(e.lensFlares[t]);return this},a.Scene=function(){a.Object3D.call(this),this.type="Scene",this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0},a.Scene.prototype=Object.create(a.Object3D.prototype),a.Scene.prototype.constructor=a.Scene,a.Scene.prototype.copy=function(e){return a.Object3D.prototype.copy.call(this,e),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},a.Fog=function(e,t,n){this.name="",this.color=new a.Color(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3},a.Fog.prototype.clone=function(){return new a.Fog(this.color.getHex(),this.near,this.far)},a.FogExp2=function(e,t){this.name="",this.color=new a.Color(e),this.density=void 0!==t?t:25e-5},a.FogExp2.prototype.clone=function(){return new a.FogExp2(this.color.getHex(),this.density)},a.ShaderChunk={},a.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n\n	diffuseColor.a *= texture2D( alphaMap, vUv ).g;\n\n#endif\n",a.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\n	uniform sampler2D alphaMap;\n\n#endif\n",a.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n\n	if ( diffuseColor.a < ALPHATEST ) discard;\n\n#endif\n",a.ShaderChunk.aomap_fragment="#ifdef USE_AOMAP\n\n	totalAmbientLight *= ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\n#endif\n",a.ShaderChunk.aomap_pars_fragment="#ifdef USE_AOMAP\n\n	uniform sampler2D aoMap;\n	uniform float aoMapIntensity;\n\n#endif",a.ShaderChunk.begin_vertex="\nvec3 transformed = vec3( position );\n",a.ShaderChunk.beginnormal_vertex="\nvec3 objectNormal = vec3( normal );\n",a.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n\n\n\n	vec2 dHdxy_fwd() {\n\n		vec2 dSTdx = dFdx( vUv );\n		vec2 dSTdy = dFdy( vUv );\n\n		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\n		return vec2( dBx, dBy );\n\n	}\n\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\n		vec3 vSigmaX = dFdx( surf_pos );\n		vec3 vSigmaY = dFdy( surf_pos );\n		vec3 vN = surf_norm;\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n\n		float fDet = dot( vSigmaX, R1 );\n\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n\n	}\n\n#endif\n",a.ShaderChunk.color_fragment="#ifdef USE_COLOR\n\n	diffuseColor.rgb *= vColor;\n\n#endif",a.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n\n	varying vec3 vColor;\n\n#endif\n",a.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n\n	varying vec3 vColor;\n\n#endif",a.ShaderChunk.color_vertex="#ifdef USE_COLOR\n\n	vColor.xyz = color.xyz;\n\n#endif",a.ShaderChunk.common="#define PI 3.14159\n#define PI2 6.28318\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\n\nvec3 transformDirection( in vec3 normal, in mat4 matrix ) {\n\n	return normalize( ( matrix * vec4( normal, 0.0 ) ).xyz );\n\n}\n\nvec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {\n\n	return normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );\n\n}\n\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n	float distance = dot( planeNormal, point - pointOnPlane );\n\n	return - distance * planeNormal + point;\n\n}\n\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n	return sign( dot( point - pointOnPlane, planeNormal ) );\n\n}\n\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n\n}\n\nfloat calcLightAttenuation( float lightDistance, float cutoffDistance, float decayExponent ) {\n\n	if ( decayExponent > 0.0 ) {\n\n	  return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\n	}\n\n	return 1.0;\n\n}\n\nvec3 F_Schlick( in vec3 specularColor, in float dotLH ) {\n\n\n	float fresnel = exp2( ( -5.55437 * dotLH - 6.98316 ) * dotLH );\n\n	return ( 1.0 - specularColor ) * fresnel + specularColor;\n\n}\n\nfloat G_BlinnPhong_Implicit( /* in float dotNL, in float dotNV */ ) {\n\n\n	return 0.25;\n\n}\n\nfloat D_BlinnPhong( in float shininess, in float dotNH ) {\n\n\n	return ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n\n}\n\nvec3 BRDF_BlinnPhong( in vec3 specularColor, in float shininess, in vec3 normal, in vec3 lightDir, in vec3 viewDir ) {\n\n	vec3 halfDir = normalize( lightDir + viewDir );\n\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float dotLH = saturate( dot( lightDir, halfDir ) );\n\n	vec3 F = F_Schlick( specularColor, dotLH );\n\n	float G = G_BlinnPhong_Implicit( /* dotNL, dotNV */ );\n\n	float D = D_BlinnPhong( shininess, dotNH );\n\n	return F * G * D;\n\n}\n\nvec3 inputToLinear( in vec3 a ) {\n\n	#ifdef GAMMA_INPUT\n\n		return pow( a, vec3( float( GAMMA_FACTOR ) ) );\n\n	#else\n\n		return a;\n\n	#endif\n\n}\n\nvec3 linearToOutput( in vec3 a ) {\n\n	#ifdef GAMMA_OUTPUT\n\n		return pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );\n\n	#else\n\n		return a;\n\n	#endif\n\n}\n",a.ShaderChunk.defaultnormal_vertex="#ifdef FLIP_SIDED\n\n	objectNormal = -objectNormal;\n\n#endif\n\nvec3 transformedNormal = normalMatrix * objectNormal;\n",a.ShaderChunk.displacementmap_vertex="#ifdef USE_DISPLACEMENTMAP\n\n	transformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n\n#endif\n",a.ShaderChunk.displacementmap_pars_vertex="#ifdef USE_DISPLACEMENTMAP\n\n	uniform sampler2D displacementMap;\n	uniform float displacementScale;\n	uniform float displacementBias;\n\n#endif\n",a.ShaderChunk.emissivemap_fragment="#ifdef USE_EMISSIVEMAP\n\n	vec4 emissiveColor = texture2D( emissiveMap, vUv );\n\n	emissiveColor.rgb = inputToLinear( emissiveColor.rgb );\n\n	totalEmissiveLight *= emissiveColor.rgb;\n\n#endif\n",a.ShaderChunk.emissivemap_pars_fragment="#ifdef USE_EMISSIVEMAP\n\n	uniform sampler2D emissiveMap;\n\n#endif\n",a.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\n		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\n		#ifdef ENVMAP_MODE_REFLECTION\n\n			vec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\n		#else\n\n			vec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\n		#endif\n\n	#else\n\n		vec3 reflectVec = vReflect;\n\n	#endif\n\n	#ifdef DOUBLE_SIDED\n		float flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n	#else\n		float flipNormal = 1.0;\n	#endif\n\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\n	#elif defined( ENVMAP_TYPE_EQUIREC )\n		vec2 sampleUV;\n		sampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n		sampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n		vec4 envColor = texture2D( envMap, sampleUV );\n\n	#elif defined( ENVMAP_TYPE_SPHERE )\n		vec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n		vec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n	#endif\n\n	envColor.xyz = inputToLinear( envColor.xyz );\n\n	#ifdef ENVMAP_BLENDING_MULTIPLY\n\n		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\n	#elif defined( ENVMAP_BLENDING_MIX )\n\n		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\n	#elif defined( ENVMAP_BLENDING_ADD )\n\n		outgoingLight += envColor.xyz * specularStrength * reflectivity;\n\n	#endif\n\n#endif\n",a.ShaderChunk.envmap_pars_fragment="#ifdef USE_ENVMAP\n\n	uniform float reflectivity;\n	#ifdef ENVMAP_TYPE_CUBE\n		uniform samplerCube envMap;\n	#else\n		uniform sampler2D envMap;\n	#endif\n	uniform float flipEnvMap;\n\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n		uniform float refractionRatio;\n\n	#else\n\n		varying vec3 vReflect;\n\n	#endif\n\n#endif\n",a.ShaderChunk.envmap_pars_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n	varying vec3 vReflect;\n\n	uniform float refractionRatio;\n\n#endif\n",a.ShaderChunk.envmap_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n	vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\n	vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\n	#ifdef ENVMAP_MODE_REFLECTION\n\n		vReflect = reflect( cameraToVertex, worldNormal );\n\n	#else\n\n		vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\n	#endif\n\n#endif\n",a.ShaderChunk.fog_fragment="#ifdef USE_FOG\n\n	#ifdef USE_LOGDEPTHBUF_EXT\n\n		float depth = gl_FragDepthEXT / gl_FragCoord.w;\n\n	#else\n\n		float depth = gl_FragCoord.z / gl_FragCoord.w;\n\n	#endif\n\n	#ifdef FOG_EXP2\n\n		float fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\n	#else\n\n		float fogFactor = smoothstep( fogNear, fogFar, depth );\n\n	#endif\n	\n	outgoingLight = mix( outgoingLight, fogColor, fogFactor );\n\n#endif",a.ShaderChunk.fog_pars_fragment="#ifdef USE_FOG\n\n	uniform vec3 fogColor;\n\n	#ifdef FOG_EXP2\n\n		uniform float fogDensity;\n\n	#else\n\n		uniform float fogNear;\n		uniform float fogFar;\n	#endif\n\n#endif",a.ShaderChunk.hemilight_fragment="#if MAX_HEMI_LIGHTS > 0\n\n	for ( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n		vec3 lightDir = hemisphereLightDirection[ i ];\n\n		float dotProduct = dot( normal, lightDir );\n\n		float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\n		vec3 lightColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n		totalAmbientLight += lightColor;\n\n	}\n\n#endif\n\n",a.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n\n	totalAmbientLight += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\n#endif\n",a.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\n	uniform sampler2D lightMap;\n	uniform float lightMapIntensity;\n\n#endif",a.ShaderChunk.lights_lambert_pars_vertex="#if MAX_DIR_LIGHTS > 0\n\n	uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n	uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n	uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n	uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n	uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n	uniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n	uniform float pointLightDecay[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n	uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightDecay[ MAX_SPOT_LIGHTS ];\n\n#endif\n",a.ShaderChunk.lights_lambert_vertex="vLightFront = vec3( 0.0 );\n\n#ifdef DOUBLE_SIDED\n\n	vLightBack = vec3( 0.0 );\n\n#endif\n\nvec3 normal = normalize( transformedNormal );\n\n#if MAX_POINT_LIGHTS > 0\n\n	for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n		vec3 lightColor = pointLightColor[ i ];\n\n		vec3 lVector = pointLightPosition[ i ] - mvPosition.xyz;\n		vec3 lightDir = normalize( lVector );\n\n\n		float attenuation = calcLightAttenuation( length( lVector ), pointLightDistance[ i ], pointLightDecay[ i ] );\n\n\n		float dotProduct = dot( normal, lightDir );\n\n		vLightFront += lightColor * attenuation * saturate( dotProduct );\n\n		#ifdef DOUBLE_SIDED\n\n			vLightBack += lightColor * attenuation * saturate( - dotProduct );\n\n		#endif\n\n	}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n	for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n		vec3 lightColor = spotLightColor[ i ];\n\n		vec3 lightPosition = spotLightPosition[ i ];\n		vec3 lVector = lightPosition - mvPosition.xyz;\n		vec3 lightDir = normalize( lVector );\n\n		float spotEffect = dot( spotLightDirection[ i ], lightDir );\n\n		if ( spotEffect > spotLightAngleCos[ i ] ) {\n\n			spotEffect = saturate( pow( saturate( spotEffect ), spotLightExponent[ i ] ) );\n\n\n			float attenuation = calcLightAttenuation( length( lVector ), spotLightDistance[ i ], spotLightDecay[ i ] );\n\n			attenuation *= spotEffect;\n\n\n			float dotProduct = dot( normal, lightDir );\n\n			vLightFront += lightColor * attenuation * saturate( dotProduct );\n\n			#ifdef DOUBLE_SIDED\n\n				vLightBack += lightColor * attenuation * saturate( - dotProduct );\n\n			#endif\n\n		}\n\n	}\n\n#endif\n\n#if MAX_DIR_LIGHTS > 0\n\n	for ( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n		vec3 lightColor = directionalLightColor[ i ];\n\n		vec3 lightDir = directionalLightDirection[ i ];\n\n\n		float dotProduct = dot( normal, lightDir );\n\n		vLightFront += lightColor * saturate( dotProduct );\n\n		#ifdef DOUBLE_SIDED\n\n			vLightBack += lightColor * saturate( - dotProduct );\n\n		#endif\n\n	}\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n	for ( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n		vec3 lightDir = hemisphereLightDirection[ i ];\n\n\n		float dotProduct = dot( normal, lightDir );\n\n		float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\n		vLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n		#ifdef DOUBLE_SIDED\n\n			float hemiDiffuseWeightBack = - 0.5 * dotProduct + 0.5;\n\n			vLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );\n\n		#endif\n\n	}\n\n#endif\n",a.ShaderChunk.lights_phong_fragment="vec3 viewDir = normalize( vViewPosition );\n\nvec3 totalDiffuseLight = vec3( 0.0 );\nvec3 totalSpecularLight = vec3( 0.0 );\n\n#if MAX_POINT_LIGHTS > 0\n\n	for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n		vec3 lightColor = pointLightColor[ i ];\n\n		vec3 lightPosition = pointLightPosition[ i ];\n		vec3 lVector = lightPosition + vViewPosition.xyz;\n		vec3 lightDir = normalize( lVector );\n\n\n		float attenuation = calcLightAttenuation( length( lVector ), pointLightDistance[ i ], pointLightDecay[ i ] );\n\n\n		float cosineTerm = saturate( dot( normal, lightDir ) );\n\n		totalDiffuseLight += lightColor * attenuation * cosineTerm;\n\n\n		vec3 brdf = BRDF_BlinnPhong( specular, shininess, normal, lightDir, viewDir );\n\n		totalSpecularLight += brdf * specularStrength * lightColor * attenuation * cosineTerm;\n\n\n	}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n	for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n		vec3 lightColor = spotLightColor[ i ];\n\n		vec3 lightPosition = spotLightPosition[ i ];\n		vec3 lVector = lightPosition + vViewPosition.xyz;\n		vec3 lightDir = normalize( lVector );\n\n		float spotEffect = dot( spotLightDirection[ i ], lightDir );\n\n		if ( spotEffect > spotLightAngleCos[ i ] ) {\n\n			spotEffect = saturate( pow( saturate( spotEffect ), spotLightExponent[ i ] ) );\n\n\n			float attenuation = calcLightAttenuation( length( lVector ), spotLightDistance[ i ], spotLightDecay[ i ] );\n\n			attenuation *= spotEffect;\n\n\n			float cosineTerm = saturate( dot( normal, lightDir ) );\n\n			totalDiffuseLight += lightColor * attenuation * cosineTerm;\n\n\n			vec3 brdf = BRDF_BlinnPhong( specular, shininess, normal, lightDir, viewDir );\n\n			totalSpecularLight += brdf * specularStrength * lightColor * attenuation * cosineTerm;\n\n		}\n\n	}\n\n#endif\n\n#if MAX_DIR_LIGHTS > 0\n\n	for ( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n		vec3 lightColor = directionalLightColor[ i ];\n\n		vec3 lightDir = directionalLightDirection[ i ];\n\n\n		float cosineTerm = saturate( dot( normal, lightDir ) );\n\n		totalDiffuseLight += lightColor * cosineTerm;\n\n\n		vec3 brdf = BRDF_BlinnPhong( specular, shininess, normal, lightDir, viewDir );\n\n		totalSpecularLight += brdf * specularStrength * lightColor * cosineTerm;\n\n	}\n\n#endif\n",a.ShaderChunk.lights_phong_pars_fragment="uniform vec3 ambientLightColor;\n\n#if MAX_DIR_LIGHTS > 0\n\n	uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n	uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n	uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n	uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n\n	uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n	uniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n	uniform float pointLightDecay[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n	uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightDecay[ MAX_SPOT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_ENVMAP )\n\n	varying vec3 vWorldPosition;\n\n#endif\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n	varying vec3 vNormal;\n\n#endif\n",a.ShaderChunk.lights_phong_pars_vertex="#if MAX_SPOT_LIGHTS > 0 || defined( USE_ENVMAP )\n\n	varying vec3 vWorldPosition;\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n	uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n\n#endif\n",a.ShaderChunk.lights_phong_vertex="#if MAX_SPOT_LIGHTS > 0 || defined( USE_ENVMAP )\n\n	vWorldPosition = worldPosition.xyz;\n\n#endif\n",a.ShaderChunk.linear_to_gamma_fragment="\n	outgoingLight = linearToOutput( outgoingLight );\n",a.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\n	gl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n\n#endif",a.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n\n	uniform float logDepthBufFC;\n\n	#ifdef USE_LOGDEPTHBUF_EXT\n\n		varying float vFragDepth;\n\n	#endif\n\n#endif\n",a.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\n	#ifdef USE_LOGDEPTHBUF_EXT\n\n		varying float vFragDepth;\n\n	#endif\n\n	uniform float logDepthBufFC;\n\n#endif",a.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\n	gl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\n	#ifdef USE_LOGDEPTHBUF_EXT\n\n		vFragDepth = 1.0 + gl_Position.w;\n\n#else\n\n		gl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\n	#endif\n\n#endif",a.ShaderChunk.map_fragment="#ifdef USE_MAP\n\n	vec4 texelColor = texture2D( map, vUv );\n\n	texelColor.xyz = inputToLinear( texelColor.xyz );\n\n	diffuseColor *= texelColor;\n\n#endif\n",a.ShaderChunk.map_pars_fragment="#ifdef USE_MAP\n\n	uniform sampler2D map;\n\n#endif",a.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n\n	diffuseColor *= texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\n#endif\n",a.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n\n	uniform vec4 offsetRepeat;\n	uniform sampler2D map;\n\n#endif\n",a.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\n	objectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n	objectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n	objectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n	objectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n\n#endif\n",a.ShaderChunk.morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n\n	#ifndef USE_MORPHNORMALS\n\n	uniform float morphTargetInfluences[ 8 ];\n\n	#else\n\n	uniform float morphTargetInfluences[ 4 ];\n\n	#endif\n\n#endif",a.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\n	transformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n	transformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n	transformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n	transformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\n	#ifndef USE_MORPHNORMALS\n\n	transformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n	transformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n	transformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n	transformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\n	#endif\n\n#endif\n",a.ShaderChunk.normal_phong_fragment="#ifndef FLAT_SHADED\n\n	vec3 normal = normalize( vNormal );\n\n	#ifdef DOUBLE_SIDED\n\n		normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\n	#endif\n\n#else\n\n	vec3 fdx = dFdx( vViewPosition );\n	vec3 fdy = dFdy( vViewPosition );\n	vec3 normal = normalize( cross( fdx, fdy ) );\n\n#endif\n\n#ifdef USE_NORMALMAP\n\n	normal = perturbNormal2Arb( -vViewPosition, normal );\n\n#elif defined( USE_BUMPMAP )\n\n	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n\n#endif\n\n",
a.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\n	uniform sampler2D normalMap;\n	uniform vec2 normalScale;\n\n\n	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\n		vec3 q0 = dFdx( eye_pos.xyz );\n		vec3 q1 = dFdy( eye_pos.xyz );\n		vec2 st0 = dFdx( vUv.st );\n		vec2 st1 = dFdy( vUv.st );\n\n		vec3 S = normalize( q0 * st1.t - q1 * st0.t );\n		vec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n		vec3 N = normalize( surf_norm );\n\n		vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n		mapN.xy = normalScale * mapN.xy;\n		mat3 tsn = mat3( S, T, N );\n		return normalize( tsn * mapN );\n\n	}\n\n#endif\n",a.ShaderChunk.project_vertex="#ifdef USE_SKINNING\n\n	vec4 mvPosition = modelViewMatrix * skinned;\n\n#else\n\n	vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n\n#endif\n\ngl_Position = projectionMatrix * mvPosition;\n",a.ShaderChunk.shadowmap_fragment="#ifdef USE_SHADOWMAP\n\n	for ( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n		float texelSizeY =  1.0 / shadowMapSize[ i ].y;\n\n		float shadow = 0.0;\n\n#if defined( POINT_LIGHT_SHADOWS )\n\n		bool isPointLight = shadowDarkness[ i ] < 0.0;\n\n		if ( isPointLight ) {\n\n			float realShadowDarkness = abs( shadowDarkness[ i ] );\n\n			vec3 lightToPosition = vShadowCoord[ i ].xyz;\n\n	#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n			vec3 bd3D = normalize( lightToPosition );\n			float dp = length( lightToPosition );\n\n			adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D, texelSizeY ) ), shadowBias[ i ], shadow );\n\n\n	#if defined( SHADOWMAP_TYPE_PCF )\n			const float Dr = 1.25;\n	#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n			const float Dr = 2.25;\n	#endif\n\n			float os = Dr *  2.0 * texelSizeY;\n\n			const vec3 Gsd = vec3( - 1, 0, 1 );\n\n			adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zzz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n			adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zxz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n			adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xxz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n			adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xzz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n			adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zzx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n			adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zxx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n			adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xxx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n			adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xzx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n			adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zzy * os, texelSizeY ) ), shadowBias[ i ], shadow );\n			adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zxy * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\n			adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xxy * os, texelSizeY ) ), shadowBias[ i ], shadow );\n			adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xzy * os, texelSizeY ) ), shadowBias[ i ], shadow );\n			adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zyz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n			adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xyz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n			adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zyx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n			adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xyx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n			adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yzz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n			adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yxz * os, texelSizeY ) ), shadowBias[ i ], shadow );\n			adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yxx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n			adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yzx * os, texelSizeY ) ), shadowBias[ i ], shadow );\n\n			shadow *= realShadowDarkness * ( 1.0 / 21.0 );\n\n	#else \n			vec3 bd3D = normalize( lightToPosition );\n			float dp = length( lightToPosition );\n\n			adjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D, texelSizeY ) ), shadowBias[ i ], shadow );\n\n			shadow *= realShadowDarkness;\n\n	#endif\n\n		} else {\n\n#endif \n			float texelSizeX =  1.0 / shadowMapSize[ i ].x;\n\n			vec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\n\n\n			bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n			bool inFrustum = all( inFrustumVec );\n\n			bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n			bool frustumTest = all( frustumTestVec );\n\n			if ( frustumTest ) {\n\n	#if defined( SHADOWMAP_TYPE_PCF )\n\n\n				/*\n					for ( float y = -1.25; y <= 1.25; y += 1.25 )\n						for ( float x = -1.25; x <= 1.25; x += 1.25 ) {\n							vec4 rgbaDepth = texture2D( shadowMap[ i ], vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy );\n							float fDepth = unpackDepth( rgbaDepth );\n							if ( fDepth < shadowCoord.z )\n								shadow += 1.0;\n					}\n					shadow /= 9.0;\n				*/\n\n				shadowCoord.z += shadowBias[ i ];\n\n				const float ShadowDelta = 1.0 / 9.0;\n\n				float xPixelOffset = texelSizeX;\n				float yPixelOffset = texelSizeY;\n\n				float dx0 = - 1.25 * xPixelOffset;\n				float dy0 = - 1.25 * yPixelOffset;\n				float dx1 = 1.25 * xPixelOffset;\n				float dy1 = 1.25 * yPixelOffset;\n\n				float fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n				if ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\n\n				shadow *= shadowDarkness[ i ];\n\n	#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n\n				shadowCoord.z += shadowBias[ i ];\n\n				float xPixelOffset = texelSizeX;\n				float yPixelOffset = texelSizeY;\n\n				float dx0 = - 1.0 * xPixelOffset;\n				float dy0 = - 1.0 * yPixelOffset;\n				float dx1 = 1.0 * xPixelOffset;\n				float dy1 = 1.0 * yPixelOffset;\n\n				mat3 shadowKernel;\n				mat3 depthKernel;\n\n				depthKernel[ 0 ][ 0 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n				depthKernel[ 0 ][ 1 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n				depthKernel[ 0 ][ 2 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n				depthKernel[ 1 ][ 0 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n				depthKernel[ 1 ][ 1 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n				depthKernel[ 1 ][ 2 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n				depthKernel[ 2 ][ 0 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n				depthKernel[ 2 ][ 1 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n				depthKernel[ 2 ][ 2 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\n				vec3 shadowZ = vec3( shadowCoord.z );\n				shadowKernel[ 0 ] = vec3( lessThan( depthKernel[ 0 ], shadowZ ) );\n				shadowKernel[ 0 ] *= vec3( 0.25 );\n\n				shadowKernel[ 1 ] = vec3( lessThan( depthKernel[ 1 ], shadowZ ) );\n				shadowKernel[ 1 ] *= vec3( 0.25 );\n\n				shadowKernel[ 2 ] = vec3( lessThan( depthKernel[ 2 ], shadowZ ) );\n				shadowKernel[ 2 ] *= vec3( 0.25 );\n\n				vec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[ i ].xy );\n\n				shadowKernel[ 0 ] = mix( shadowKernel[ 1 ], shadowKernel[ 0 ], fractionalCoord.x );\n				shadowKernel[ 1 ] = mix( shadowKernel[ 2 ], shadowKernel[ 1 ], fractionalCoord.x );\n\n				vec4 shadowValues;\n				shadowValues.x = mix( shadowKernel[ 0 ][ 1 ], shadowKernel[ 0 ][ 0 ], fractionalCoord.y );\n				shadowValues.y = mix( shadowKernel[ 0 ][ 2 ], shadowKernel[ 0 ][ 1 ], fractionalCoord.y );\n				shadowValues.z = mix( shadowKernel[ 1 ][ 1 ], shadowKernel[ 1 ][ 0 ], fractionalCoord.y );\n				shadowValues.w = mix( shadowKernel[ 1 ][ 2 ], shadowKernel[ 1 ][ 1 ], fractionalCoord.y );\n\n				shadow = dot( shadowValues, vec4( 1.0 ) ) * shadowDarkness[ i ];\n\n	#else \n				shadowCoord.z += shadowBias[ i ];\n\n				vec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );\n				float fDepth = unpackDepth( rgbaDepth );\n\n				if ( fDepth < shadowCoord.z )\n					shadow = shadowDarkness[ i ];\n\n	#endif\n\n			}\n\n#ifdef SHADOWMAP_DEBUG\n\n			if ( inFrustum ) {\n\n				if ( i == 0 ) {\n\n					outgoingLight *= vec3( 1.0, 0.5, 0.0 );\n\n				} else if ( i == 1 ) {\n\n					outgoingLight *= vec3( 0.0, 1.0, 0.8 );\n\n				} else {\n\n					outgoingLight *= vec3( 0.0, 0.5, 1.0 );\n\n				}\n\n			}\n\n#endif\n\n#if defined( POINT_LIGHT_SHADOWS )\n\n		}\n\n#endif\n\n		shadowMask = shadowMask * vec3( 1.0 - shadow );\n\n	}\n\n#endif\n",a.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\n	uniform sampler2D shadowMap[ MAX_SHADOWS ];\n	uniform vec2 shadowMapSize[ MAX_SHADOWS ];\n\n	uniform float shadowDarkness[ MAX_SHADOWS ];\n	uniform float shadowBias[ MAX_SHADOWS ];\n\n	varying vec4 vShadowCoord[ MAX_SHADOWS ];\n\n	float unpackDepth( const in vec4 rgba_depth ) {\n\n		const vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n		float depth = dot( rgba_depth, bit_shift );\n		return depth;\n\n	}\n\n	#if defined(POINT_LIGHT_SHADOWS)\n\n\n		void adjustShadowValue1K( const float testDepth, const vec4 textureData, const float bias, inout float shadowValue ) {\n\n			const vec4 bitSh = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n			if ( testDepth >= dot( textureData, bitSh ) * 1000.0 + bias )\n				shadowValue += 1.0;\n\n		}\n\n\n		vec2 cubeToUV( vec3 v, float texelSizeY ) {\n\n\n			vec3 absV = abs( v );\n\n\n			float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n			absV *= scaleToCube;\n\n\n			v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\n\n\n			vec2 planar = v.xy;\n\n			float almostATexel = 1.5 * texelSizeY;\n			float almostOne = 1.0 - almostATexel;\n\n			if ( absV.z >= almostOne ) {\n\n				if ( v.z > 0.0 )\n					planar.x = 4.0 - v.x;\n\n			} else if ( absV.x >= almostOne ) {\n\n				float signX = sign( v.x );\n				planar.x = v.z * signX + 2.0 * signX;\n\n			} else if ( absV.y >= almostOne ) {\n\n				float signY = sign( v.y );\n				planar.x = v.x + 2.0 * signY + 2.0;\n				planar.y = v.z * signY - 2.0;\n\n			}\n\n\n			return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\n		}\n\n	#endif\n\n#endif\n",a.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\n	uniform float shadowDarkness[ MAX_SHADOWS ];\n	uniform mat4 shadowMatrix[ MAX_SHADOWS ];\n	varying vec4 vShadowCoord[ MAX_SHADOWS ];\n\n#endif",a.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n\n	for ( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n			vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\n\n	}\n\n#endif",a.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n\n	mat4 boneMatX = getBoneMatrix( skinIndex.x );\n	mat4 boneMatY = getBoneMatrix( skinIndex.y );\n	mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n	mat4 boneMatW = getBoneMatrix( skinIndex.w );\n\n#endif",a.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n\n	uniform mat4 bindMatrix;\n	uniform mat4 bindMatrixInverse;\n\n	#ifdef BONE_TEXTURE\n\n		uniform sampler2D boneTexture;\n		uniform int boneTextureWidth;\n		uniform int boneTextureHeight;\n\n		mat4 getBoneMatrix( const in float i ) {\n\n			float j = i * 4.0;\n			float x = mod( j, float( boneTextureWidth ) );\n			float y = floor( j / float( boneTextureWidth ) );\n\n			float dx = 1.0 / float( boneTextureWidth );\n			float dy = 1.0 / float( boneTextureHeight );\n\n			y = dy * ( y + 0.5 );\n\n			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\n			mat4 bone = mat4( v1, v2, v3, v4 );\n\n			return bone;\n\n		}\n\n	#else\n\n		uniform mat4 boneGlobalMatrices[ MAX_BONES ];\n\n		mat4 getBoneMatrix( const in float i ) {\n\n			mat4 bone = boneGlobalMatrices[ int(i) ];\n			return bone;\n\n		}\n\n	#endif\n\n#endif\n",a.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n\n	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\n	vec4 skinned = vec4( 0.0 );\n	skinned += boneMatX * skinVertex * skinWeight.x;\n	skinned += boneMatY * skinVertex * skinWeight.y;\n	skinned += boneMatZ * skinVertex * skinWeight.z;\n	skinned += boneMatW * skinVertex * skinWeight.w;\n	skinned  = bindMatrixInverse * skinned;\n\n#endif\n",a.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n\n	mat4 skinMatrix = mat4( 0.0 );\n	skinMatrix += skinWeight.x * boneMatX;\n	skinMatrix += skinWeight.y * boneMatY;\n	skinMatrix += skinWeight.z * boneMatZ;\n	skinMatrix += skinWeight.w * boneMatW;\n	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\n	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\n#endif\n",a.ShaderChunk.specularmap_fragment="float specularStrength;\n\n#ifdef USE_SPECULARMAP\n\n	vec4 texelSpecular = texture2D( specularMap, vUv );\n	specularStrength = texelSpecular.r;\n\n#else\n\n	specularStrength = 1.0;\n\n#endif",a.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\n	uniform sampler2D specularMap;\n\n#endif",a.ShaderChunk.uv2_pars_fragment="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n	varying vec2 vUv2;\n\n#endif",a.ShaderChunk.uv2_pars_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n	attribute vec2 uv2;\n	varying vec2 vUv2;\n\n#endif",a.ShaderChunk.uv2_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n	vUv2 = uv2;\n\n#endif",a.ShaderChunk.uv_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP )\n\n	varying vec2 vUv;\n\n#endif",a.ShaderChunk.uv_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP )\n\n	varying vec2 vUv;\n	uniform vec4 offsetRepeat;\n\n#endif\n",a.ShaderChunk.uv_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP )\n\n	vUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n\n#endif",a.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\n	#ifdef USE_SKINNING\n\n		vec4 worldPosition = modelMatrix * skinned;\n\n	#else\n\n		vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\n	#endif\n\n#endif\n",a.UniformsUtils={merge:function(e){for(var t={},n=0;n<e.length;n++){var r=this.clone(e[n]);for(var i in r)t[i]=r[i]}return t},clone:function(e){var t={};for(var n in e){t[n]={};for(var r in e[n]){var i=e[n][r];i instanceof a.Color||i instanceof a.Vector2||i instanceof a.Vector3||i instanceof a.Vector4||i instanceof a.Matrix3||i instanceof a.Matrix4||i instanceof a.Texture?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}},a.UniformsLib={common:{diffuse:{type:"c",value:new a.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new a.Vector4(0,0,1,1)},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"f",value:-1},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:.98}},aomap:{aoMap:{type:"t",value:null},aoMapIntensity:{type:"f",value:1}},lightmap:{lightMap:{type:"t",value:null},lightMapIntensity:{type:"f",value:1}},emissivemap:{emissiveMap:{type:"t",value:null}},bumpmap:{bumpMap:{type:"t",value:null},bumpScale:{type:"f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new a.Vector2(1,1)}},displacementmap:{displacementMap:{type:"t",value:null},displacementScale:{type:"f",value:1},displacementBias:{type:"f",value:0}},fog:{fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new a.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},hemisphereLightDirection:{type:"fv",value:[]},hemisphereLightSkyColor:{type:"fv",value:[]},hemisphereLightGroundColor:{type:"fv",value:[]},pointLightColor:{type:"fv",value:[]},pointLightPosition:{type:"fv",value:[]},pointLightDistance:{type:"fv1",value:[]},pointLightDecay:{type:"fv1",value:[]},spotLightColor:{type:"fv",value:[]},spotLightPosition:{type:"fv",value:[]},spotLightDirection:{type:"fv",value:[]},spotLightDistance:{type:"fv1",value:[]},spotLightAngleCos:{type:"fv1",value:[]},spotLightExponent:{type:"fv1",value:[]},spotLightDecay:{type:"fv1",value:[]}},points:{psColor:{type:"c",value:new a.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new a.Vector4(0,0,1,1)},fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new a.Color(16777215)}},shadowmap:{shadowMap:{type:"tv",value:[]},shadowMapSize:{type:"v2v",value:[]},shadowBias:{type:"fv1",value:[]},shadowDarkness:{type:"fv1",value:[]},shadowMatrix:{type:"m4v",value:[]}}},a.ShaderLib={basic:{uniforms:a.UniformsUtils.merge([a.UniformsLib.common,a.UniformsLib.aomap,a.UniformsLib.fog,a.UniformsLib.shadowmap]),vertexShader:[a.ShaderChunk.common,a.ShaderChunk.uv_pars_vertex,a.ShaderChunk.uv2_pars_vertex,a.ShaderChunk.envmap_pars_vertex,a.ShaderChunk.color_pars_vertex,a.ShaderChunk.morphtarget_pars_vertex,a.ShaderChunk.skinning_pars_vertex,a.ShaderChunk.shadowmap_pars_vertex,a.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",a.ShaderChunk.uv_vertex,a.ShaderChunk.uv2_vertex,a.ShaderChunk.color_vertex,a.ShaderChunk.skinbase_vertex,"	#ifdef USE_ENVMAP",a.ShaderChunk.beginnormal_vertex,a.ShaderChunk.morphnormal_vertex,a.ShaderChunk.skinnormal_vertex,a.ShaderChunk.defaultnormal_vertex,"	#endif",a.ShaderChunk.begin_vertex,a.ShaderChunk.morphtarget_vertex,a.ShaderChunk.skinning_vertex,a.ShaderChunk.project_vertex,a.ShaderChunk.logdepthbuf_vertex,a.ShaderChunk.worldpos_vertex,a.ShaderChunk.envmap_vertex,a.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;",a.ShaderChunk.common,a.ShaderChunk.color_pars_fragment,a.ShaderChunk.uv_pars_fragment,a.ShaderChunk.uv2_pars_fragment,a.ShaderChunk.map_pars_fragment,a.ShaderChunk.alphamap_pars_fragment,a.ShaderChunk.aomap_pars_fragment,a.ShaderChunk.envmap_pars_fragment,a.ShaderChunk.fog_pars_fragment,a.ShaderChunk.shadowmap_pars_fragment,a.ShaderChunk.specularmap_pars_fragment,a.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	vec3 outgoingLight = vec3( 0.0 );","	vec4 diffuseColor = vec4( diffuse, opacity );","	vec3 totalAmbientLight = vec3( 1.0 );","	vec3 shadowMask = vec3( 1.0 );",a.ShaderChunk.logdepthbuf_fragment,a.ShaderChunk.map_fragment,a.ShaderChunk.color_fragment,a.ShaderChunk.alphamap_fragment,a.ShaderChunk.alphatest_fragment,a.ShaderChunk.specularmap_fragment,a.ShaderChunk.aomap_fragment,a.ShaderChunk.shadowmap_fragment,"	outgoingLight = diffuseColor.rgb * totalAmbientLight * shadowMask;",a.ShaderChunk.envmap_fragment,a.ShaderChunk.linear_to_gamma_fragment,a.ShaderChunk.fog_fragment,"	gl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},lambert:{uniforms:a.UniformsUtils.merge([a.UniformsLib.common,a.UniformsLib.fog,a.UniformsLib.lights,a.UniformsLib.shadowmap,{emissive:{type:"c",value:new a.Color(0)}}]),vertexShader:["#define LAMBERT","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","#endif",a.ShaderChunk.common,a.ShaderChunk.uv_pars_vertex,a.ShaderChunk.uv2_pars_vertex,a.ShaderChunk.envmap_pars_vertex,a.ShaderChunk.lights_lambert_pars_vertex,a.ShaderChunk.color_pars_vertex,a.ShaderChunk.morphtarget_pars_vertex,a.ShaderChunk.skinning_pars_vertex,a.ShaderChunk.shadowmap_pars_vertex,a.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",a.ShaderChunk.uv_vertex,a.ShaderChunk.uv2_vertex,a.ShaderChunk.color_vertex,a.ShaderChunk.beginnormal_vertex,a.ShaderChunk.morphnormal_vertex,a.ShaderChunk.skinbase_vertex,a.ShaderChunk.skinnormal_vertex,a.ShaderChunk.defaultnormal_vertex,a.ShaderChunk.begin_vertex,a.ShaderChunk.morphtarget_vertex,a.ShaderChunk.skinning_vertex,a.ShaderChunk.project_vertex,a.ShaderChunk.logdepthbuf_vertex,a.ShaderChunk.worldpos_vertex,a.ShaderChunk.envmap_vertex,a.ShaderChunk.lights_lambert_vertex,a.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform vec3 emissive;","uniform float opacity;","uniform vec3 ambientLightColor;","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","#endif",a.ShaderChunk.common,a.ShaderChunk.color_pars_fragment,a.ShaderChunk.uv_pars_fragment,a.ShaderChunk.uv2_pars_fragment,a.ShaderChunk.map_pars_fragment,a.ShaderChunk.alphamap_pars_fragment,a.ShaderChunk.envmap_pars_fragment,a.ShaderChunk.fog_pars_fragment,a.ShaderChunk.shadowmap_pars_fragment,a.ShaderChunk.specularmap_pars_fragment,a.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	vec3 outgoingLight = vec3( 0.0 );","	vec4 diffuseColor = vec4( diffuse, opacity );","	vec3 totalAmbientLight = ambientLightColor;","	vec3 shadowMask = vec3( 1.0 );",a.ShaderChunk.logdepthbuf_fragment,a.ShaderChunk.map_fragment,a.ShaderChunk.color_fragment,a.ShaderChunk.alphamap_fragment,a.ShaderChunk.alphatest_fragment,a.ShaderChunk.specularmap_fragment,a.ShaderChunk.shadowmap_fragment,"	#ifdef DOUBLE_SIDED","		if ( gl_FrontFacing )","			outgoingLight += diffuseColor.rgb * ( vLightFront * shadowMask + totalAmbientLight ) + emissive;","		else","			outgoingLight += diffuseColor.rgb * ( vLightBack * shadowMask + totalAmbientLight ) + emissive;","	#else","		outgoingLight += diffuseColor.rgb * ( vLightFront * shadowMask + totalAmbientLight ) + emissive;","	#endif",a.ShaderChunk.envmap_fragment,a.ShaderChunk.linear_to_gamma_fragment,a.ShaderChunk.fog_fragment,"	gl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},phong:{uniforms:a.UniformsUtils.merge([a.UniformsLib.common,a.UniformsLib.aomap,a.UniformsLib.lightmap,a.UniformsLib.emissivemap,a.UniformsLib.bumpmap,a.UniformsLib.normalmap,a.UniformsLib.displacementmap,a.UniformsLib.fog,a.UniformsLib.lights,a.UniformsLib.shadowmap,{emissive:{type:"c",value:new a.Color(0)},specular:{type:"c",value:new a.Color(1118481)},shininess:{type:"f",value:30}}]),vertexShader:["#define PHONG","varying vec3 vViewPosition;","#ifndef FLAT_SHADED","	varying vec3 vNormal;","#endif",a.ShaderChunk.common,a.ShaderChunk.uv_pars_vertex,a.ShaderChunk.uv2_pars_vertex,a.ShaderChunk.displacementmap_pars_vertex,a.ShaderChunk.envmap_pars_vertex,a.ShaderChunk.lights_phong_pars_vertex,a.ShaderChunk.color_pars_vertex,a.ShaderChunk.morphtarget_pars_vertex,a.ShaderChunk.skinning_pars_vertex,a.ShaderChunk.shadowmap_pars_vertex,a.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",a.ShaderChunk.uv_vertex,a.ShaderChunk.uv2_vertex,a.ShaderChunk.color_vertex,a.ShaderChunk.beginnormal_vertex,a.ShaderChunk.morphnormal_vertex,a.ShaderChunk.skinbase_vertex,a.ShaderChunk.skinnormal_vertex,a.ShaderChunk.defaultnormal_vertex,"#ifndef FLAT_SHADED","	vNormal = normalize( transformedNormal );","#endif",a.ShaderChunk.begin_vertex,a.ShaderChunk.displacementmap_vertex,a.ShaderChunk.morphtarget_vertex,a.ShaderChunk.skinning_vertex,a.ShaderChunk.project_vertex,a.ShaderChunk.logdepthbuf_vertex,"	vViewPosition = - mvPosition.xyz;",a.ShaderChunk.worldpos_vertex,a.ShaderChunk.envmap_vertex,a.ShaderChunk.lights_phong_vertex,a.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["#define PHONG","uniform vec3 diffuse;","uniform vec3 emissive;","uniform vec3 specular;","uniform float shininess;","uniform float opacity;",a.ShaderChunk.common,a.ShaderChunk.color_pars_fragment,a.ShaderChunk.uv_pars_fragment,a.ShaderChunk.uv2_pars_fragment,a.ShaderChunk.map_pars_fragment,a.ShaderChunk.alphamap_pars_fragment,a.ShaderChunk.aomap_pars_fragment,a.ShaderChunk.lightmap_pars_fragment,a.ShaderChunk.emissivemap_pars_fragment,a.ShaderChunk.envmap_pars_fragment,a.ShaderChunk.fog_pars_fragment,a.ShaderChunk.lights_phong_pars_fragment,a.ShaderChunk.shadowmap_pars_fragment,a.ShaderChunk.bumpmap_pars_fragment,a.ShaderChunk.normalmap_pars_fragment,a.ShaderChunk.specularmap_pars_fragment,a.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	vec3 outgoingLight = vec3( 0.0 );","	vec4 diffuseColor = vec4( diffuse, opacity );","	vec3 totalAmbientLight = ambientLightColor;","	vec3 totalEmissiveLight = emissive;","	vec3 shadowMask = vec3( 1.0 );",a.ShaderChunk.logdepthbuf_fragment,a.ShaderChunk.map_fragment,a.ShaderChunk.color_fragment,a.ShaderChunk.alphamap_fragment,a.ShaderChunk.alphatest_fragment,a.ShaderChunk.specularmap_fragment,a.ShaderChunk.normal_phong_fragment,a.ShaderChunk.lightmap_fragment,a.ShaderChunk.hemilight_fragment,a.ShaderChunk.aomap_fragment,a.ShaderChunk.emissivemap_fragment,a.ShaderChunk.lights_phong_fragment,a.ShaderChunk.shadowmap_fragment,"totalDiffuseLight *= shadowMask;","totalSpecularLight *= shadowMask;","#ifdef METAL","	outgoingLight += diffuseColor.rgb * ( totalDiffuseLight + totalAmbientLight ) * specular + totalSpecularLight + totalEmissiveLight;","#else","	outgoingLight += diffuseColor.rgb * ( totalDiffuseLight + totalAmbientLight ) + totalSpecularLight + totalEmissiveLight;","#endif",a.ShaderChunk.envmap_fragment,a.ShaderChunk.linear_to_gamma_fragment,a.ShaderChunk.fog_fragment,"	gl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},points:{uniforms:a.UniformsUtils.merge([a.UniformsLib.points,a.UniformsLib.shadowmap]),vertexShader:["uniform float size;","uniform float scale;",a.ShaderChunk.common,a.ShaderChunk.color_pars_vertex,a.ShaderChunk.shadowmap_pars_vertex,a.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",a.ShaderChunk.color_vertex,"	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","	#ifdef USE_SIZEATTENUATION","		gl_PointSize = size * ( scale / length( mvPosition.xyz ) );","	#else","		gl_PointSize = size;","	#endif","	gl_Position = projectionMatrix * mvPosition;",a.ShaderChunk.logdepthbuf_vertex,a.ShaderChunk.worldpos_vertex,a.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 psColor;","uniform float opacity;",a.ShaderChunk.common,a.ShaderChunk.color_pars_fragment,a.ShaderChunk.map_particle_pars_fragment,a.ShaderChunk.fog_pars_fragment,a.ShaderChunk.shadowmap_pars_fragment,a.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	vec3 outgoingLight = vec3( 0.0 );","	vec4 diffuseColor = vec4( psColor, opacity );","	vec3 shadowMask = vec3( 1.0 );",a.ShaderChunk.logdepthbuf_fragment,a.ShaderChunk.map_particle_fragment,a.ShaderChunk.color_fragment,a.ShaderChunk.alphatest_fragment,a.ShaderChunk.shadowmap_fragment,"	outgoingLight = diffuseColor.rgb * shadowMask;",a.ShaderChunk.fog_fragment,"	gl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},dashed:{uniforms:a.UniformsUtils.merge([a.UniformsLib.common,a.UniformsLib.fog,{scale:{type:"f",value:1},dashSize:{type:"f",value:1},totalSize:{type:"f",value:2}}]),vertexShader:["uniform float scale;","attribute float lineDistance;","varying float vLineDistance;",a.ShaderChunk.common,a.ShaderChunk.color_pars_vertex,a.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",a.ShaderChunk.color_vertex,"	vLineDistance = scale * lineDistance;","	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","	gl_Position = projectionMatrix * mvPosition;",a.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","uniform float dashSize;","uniform float totalSize;","varying float vLineDistance;",a.ShaderChunk.common,a.ShaderChunk.color_pars_fragment,a.ShaderChunk.fog_pars_fragment,a.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	if ( mod( vLineDistance, totalSize ) > dashSize ) {","		discard;","	}","	vec3 outgoingLight = vec3( 0.0 );","	vec4 diffuseColor = vec4( diffuse, opacity );",a.ShaderChunk.logdepthbuf_fragment,a.ShaderChunk.color_fragment,"	outgoingLight = diffuseColor.rgb;",a.ShaderChunk.fog_fragment,"	gl_FragColor = vec4( outgoingLight, diffuseColor.a );","}"].join("\n")},depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2e3},opacity:{type:"f",value:1}},vertexShader:[a.ShaderChunk.common,a.ShaderChunk.morphtarget_pars_vertex,a.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",a.ShaderChunk.begin_vertex,a.ShaderChunk.morphtarget_vertex,a.ShaderChunk.project_vertex,a.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float mNear;","uniform float mFar;","uniform float opacity;",a.ShaderChunk.common,a.ShaderChunk.logdepthbuf_pars_fragment,"void main() {",a.ShaderChunk.logdepthbuf_fragment,"	#ifdef USE_LOGDEPTHBUF_EXT","		float depth = gl_FragDepthEXT / gl_FragCoord.w;","	#else","		float depth = gl_FragCoord.z / gl_FragCoord.w;","	#endif","	float color = 1.0 - smoothstep( mNear, mFar, depth );","	gl_FragColor = vec4( vec3( color ), opacity );","}"].join("\n")},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:["varying vec3 vNormal;",a.ShaderChunk.common,a.ShaderChunk.morphtarget_pars_vertex,a.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","	vNormal = normalize( normalMatrix * normal );",a.ShaderChunk.begin_vertex,a.ShaderChunk.morphtarget_vertex,a.ShaderChunk.project_vertex,a.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vNormal;",a.ShaderChunk.common,a.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	gl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );",a.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",a.ShaderChunk.common,a.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","	vWorldPosition = transformDirection( position, modelMatrix );","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",a.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform samplerCube tCube;","uniform float tFlip;","varying vec3 vWorldPosition;",a.ShaderChunk.common,a.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );",a.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")
},equirect:{uniforms:{tEquirect:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",a.ShaderChunk.common,a.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","	vWorldPosition = transformDirection( position, modelMatrix );","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",a.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","uniform float tFlip;","varying vec3 vWorldPosition;",a.ShaderChunk.common,a.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","vec3 direction = normalize( vWorldPosition );","vec2 sampleUV;","sampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );","sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","gl_FragColor = texture2D( tEquirect, sampleUV );",a.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},depthRGBA:{uniforms:{},vertexShader:[a.ShaderChunk.common,a.ShaderChunk.morphtarget_pars_vertex,a.ShaderChunk.skinning_pars_vertex,a.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",a.ShaderChunk.skinbase_vertex,a.ShaderChunk.begin_vertex,a.ShaderChunk.morphtarget_vertex,a.ShaderChunk.skinning_vertex,a.ShaderChunk.project_vertex,a.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:[a.ShaderChunk.common,a.ShaderChunk.logdepthbuf_pars_fragment,"vec4 pack_depth( const in float depth ) {","	const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );","	const vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","	vec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );","	res -= res.xxyz * bit_mask;","	return res;","}","void main() {",a.ShaderChunk.logdepthbuf_fragment,"	#ifdef USE_LOGDEPTHBUF_EXT","		gl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );","	#else","		gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );","	#endif","}"].join("\n")},distanceRGBA:{uniforms:{lightPos:{type:"v3",value:new a.Vector3(0,0,0)}},vertexShader:["varying vec4 vWorldPosition;",a.ShaderChunk.common,a.ShaderChunk.morphtarget_pars_vertex,a.ShaderChunk.skinning_pars_vertex,"void main() {",a.ShaderChunk.skinbase_vertex,a.ShaderChunk.begin_vertex,a.ShaderChunk.morphtarget_vertex,a.ShaderChunk.skinning_vertex,a.ShaderChunk.project_vertex,a.ShaderChunk.worldpos_vertex,"vWorldPosition = worldPosition;","}"].join("\n"),fragmentShader:["uniform vec3 lightPos;","varying vec4 vWorldPosition;",a.ShaderChunk.common,"vec4 pack1K ( float depth ) {","   depth /= 1000.0;","   const vec4 bitSh = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );","	const vec4 bitMsk = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","	vec4 res = fract( depth * bitSh );","	res -= res.xxyz * bitMsk;","	return res; ","}","float unpack1K ( vec4 color ) {","	const vec4 bitSh = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );","	return dot( color, bitSh ) * 1000.0;","}","void main () {","	gl_FragColor = pack1K( length( vWorldPosition.xyz - lightPos.xyz ) );","}"].join("\n")}},a.WebGLRenderer=function(e){function t(e,t,n,r){ae===!0&&(e*=r,t*=r,n*=r),Ue.clearColor(e,t,n,r)}function n(){Ge.init(),Ue.viewport(Me,Te,Ce,Ae),t(ue.r,ue.g,ue.b,ce)}function r(){be=null,Ee=null,_e="",xe=-1,Fe=!0,Ge.reset()}function i(e){e.preventDefault(),r(),n(),He.clear()}function o(e){var t=e.target;t.removeEventListener("dispose",o),c(t),Ne.textures--}function s(e){var t=e.target;t.removeEventListener("dispose",s),l(t),Ne.textures--}function u(e){var t=e.target;t.removeEventListener("dispose",u),h(t)}function c(e){var t=He.get(e);if(e.image&&t.__image__webglTextureCube)Ue.deleteTexture(t.__image__webglTextureCube);else{if(void 0===t.__webglInit)return;Ue.deleteTexture(t.__webglTexture)}He["delete"](e)}function l(e){var t=He.get(e),n=He.get(e.texture);if(e&&void 0!==n.__webglTexture){if(Ue.deleteTexture(n.__webglTexture),e instanceof a.WebGLRenderTargetCube)for(var r=0;6>r;r++)Ue.deleteFramebuffer(t.__webglFramebuffer[r]),Ue.deleteRenderbuffer(t.__webglRenderbuffer[r]);else Ue.deleteFramebuffer(t.__webglFramebuffer),Ue.deleteRenderbuffer(t.__webglRenderbuffer);He["delete"](e.texture),He["delete"](e)}}function h(e){f(e),He["delete"](e)}function f(e){var t=He.get(e).program;e.program=void 0,void 0!==t&&qe.releaseProgram(t)}function p(e,t,n,r){var i;if(n instanceof a.InstancedBufferGeometry&&(i=Ve.get("ANGLE_instanced_arrays"),null===i))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===r&&(r=0),Ge.initAttributes();var o=n.attributes,s=t.getAttributes(),u=e.defaultAttributeValues;for(var c in s){var l=s[c];if(l>=0){var h=o[c];if(void 0!==h){var f=h.itemSize,p=ze.getAttributeBuffer(h);if(h instanceof a.InterleavedBufferAttribute){var d=h.data,v=d.stride,m=h.offset;d instanceof a.InstancedInterleavedBuffer?(Ge.enableAttributeAndDivisor(l,d.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=d.meshPerAttribute*d.count)):Ge.enableAttribute(l),Ue.bindBuffer(Ue.ARRAY_BUFFER,p),Ue.vertexAttribPointer(l,f,Ue.FLOAT,!1,v*d.array.BYTES_PER_ELEMENT,(r*v+m)*d.array.BYTES_PER_ELEMENT)}else h instanceof a.InstancedBufferAttribute?(Ge.enableAttributeAndDivisor(l,h.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=h.meshPerAttribute*h.count)):Ge.enableAttribute(l),Ue.bindBuffer(Ue.ARRAY_BUFFER,p),Ue.vertexAttribPointer(l,f,Ue.FLOAT,!1,0,r*f*4)}else if(void 0!==u){var g=u[c];if(void 0!==g)switch(g.length){case 2:Ue.vertexAttrib2fv(l,g);break;case 3:Ue.vertexAttrib3fv(l,g);break;case 4:Ue.vertexAttrib4fv(l,g);break;default:Ue.vertexAttrib1fv(l,g)}}}}Ge.disableUnusedAttributes()}function d(e,t){return t[0]-e[0]}function v(e,t){return e.object.renderOrder!==t.object.renderOrder?e.object.renderOrder-t.object.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function m(e,t){return e.object.renderOrder!==t.object.renderOrder?e.object.renderOrder-t.object.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function g(e,t,n,r,i){var o,a;n.transparent?(o=pe,a=++de):(o=he,a=++fe);var s=o[a];void 0!==s?(s.id=e.id,s.object=e,s.geometry=t,s.material=n,s.z=Re.z,s.group=i):(s={id:e.id,object:e,geometry:t,material:n,z:Re.z,group:i},o.push(s))}function y(e,t){if(e.visible!==!1){if(0!==(e.channels.mask&t.channels.mask))if(e instanceof a.Light)le.push(e);else if(e instanceof a.Sprite)me.push(e);else if(e instanceof a.LensFlare)ge.push(e);else if(e instanceof a.ImmediateRenderObject)ye.sortObjects===!0&&(Re.setFromMatrixPosition(e.matrixWorld),Re.applyProjection(De)),g(e,null,e.material,Re.z,null);else if((e instanceof a.Mesh||e instanceof a.Line||e instanceof a.Points)&&(e instanceof a.SkinnedMesh&&e.skeleton.update(),e.frustumCulled===!1||Oe.intersectsObject(e)===!0)){var n=e.material;if(n.visible===!0){ye.sortObjects===!0&&(Re.setFromMatrixPosition(e.matrixWorld),Re.applyProjection(De));var r=ze.update(e);if(n instanceof a.MeshFaceMaterial)for(var i=r.groups,o=n.materials,s=0,u=i.length;u>s;s++){var c=i[s],l=o[c.materialIndex];l.visible===!0&&g(e,r,l,Re.z,c)}else g(e,r,n,Re.z,null)}}for(var h=e.children,s=0,u=h.length;u>s;s++)y(h[s],t)}}function b(e,t,n,r,i){for(var o=0,s=e.length;s>o;o++){var u=e[o],c=u.object,l=u.geometry,h=void 0===i?u.material:i,f=u.group;if(c.modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,c.matrixWorld),c.normalMatrix.getNormalMatrix(c.modelViewMatrix),c instanceof a.ImmediateRenderObject){x(h);var p=E(t,n,r,h,c);_e="",c.render(function(e){ye.renderBufferImmediate(e,p,h)})}else ye.renderBufferDirect(t,n,r,l,h,c,f)}}function w(e,t,n,r){var i=He.get(e),o=qe.getParameters(e,t,n,r),s=qe.getProgramCode(e,o),c=i.program,l=!0;if(void 0===c)e.addEventListener("dispose",u);else if(c.code!==s)f(e);else{if(void 0!==o.shaderID)return;l=!1}if(l){if(o.shaderID){var h=a.ShaderLib[o.shaderID];i.__webglShader={name:e.type,uniforms:a.UniformsUtils.clone(h.uniforms),vertexShader:h.vertexShader,fragmentShader:h.fragmentShader}}else i.__webglShader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.__webglShader=i.__webglShader,c=qe.acquireProgram(e,o,s),i.program=c,e.program=c}var p=c.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var d=0;d<ye.maxMorphTargets;d++)p["morphTarget"+d]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals)for(e.numSupportedMorphNormals=0,d=0;d<ye.maxMorphNormals;d++)p["morphNormal"+d]>=0&&e.numSupportedMorphNormals++;i.uniformsList=[];var v=i.program.getUniforms();for(var m in i.__webglShader.uniforms){var g=v[m];g&&i.uniformsList.push([i.__webglShader.uniforms[m],g])}}function x(e){_(e),e.transparent===!0?Ge.setBlending(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha):Ge.setBlending(a.NoBlending),Ge.setDepthFunc(e.depthFunc),Ge.setDepthTest(e.depthTest),Ge.setDepthWrite(e.depthWrite),Ge.setColorWrite(e.colorWrite),Ge.setPolygonOffset(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)}function _(e){e.side!==a.DoubleSide?Ge.enable(Ue.CULL_FACE):Ge.disable(Ue.CULL_FACE),Ge.setFlipSided(e.side===a.BackSide)}function E(e,t,n,r,i){Se=0;var o=He.get(r);!r.needsUpdate&&o.program||(w(r,t,n,i),r.needsUpdate=!1);var s=!1,u=!1,c=!1,l=o.program,h=l.getUniforms(),f=o.__webglShader.uniforms;if(l.id!==be&&(Ue.useProgram(l.program),be=l.id,s=!0,u=!0,c=!0),r.id!==xe&&(-1===xe&&(c=!0),xe=r.id,u=!0),(s||e!==Ee)&&(Ue.uniformMatrix4fv(h.projectionMatrix,!1,e.projectionMatrix.elements),We.logarithmicDepthBuffer&&Ue.uniform1f(h.logDepthBufFC,2/(Math.log(e.far+1)/Math.LN2)),e!==Ee&&(Ee=e),(r instanceof a.ShaderMaterial||r instanceof a.MeshPhongMaterial||r.envMap)&&void 0!==h.cameraPosition&&(Re.setFromMatrixPosition(e.matrixWorld),Ue.uniform3f(h.cameraPosition,Re.x,Re.y,Re.z)),(r instanceof a.MeshPhongMaterial||r instanceof a.MeshLambertMaterial||r instanceof a.MeshBasicMaterial||r instanceof a.ShaderMaterial||r.skinning)&&void 0!==h.viewMatrix&&Ue.uniformMatrix4fv(h.viewMatrix,!1,e.matrixWorldInverse.elements)),r.skinning)if(i.bindMatrix&&void 0!==h.bindMatrix&&Ue.uniformMatrix4fv(h.bindMatrix,!1,i.bindMatrix.elements),i.bindMatrixInverse&&void 0!==h.bindMatrixInverse&&Ue.uniformMatrix4fv(h.bindMatrixInverse,!1,i.bindMatrixInverse.elements),We.floatVertexTextures&&i.skeleton&&i.skeleton.useVertexTexture){if(void 0!==h.boneTexture){var p=L();Ue.uniform1i(h.boneTexture,p),ye.setTexture(i.skeleton.boneTexture,p)}void 0!==h.boneTextureWidth&&Ue.uniform1i(h.boneTextureWidth,i.skeleton.boneTextureWidth),void 0!==h.boneTextureHeight&&Ue.uniform1i(h.boneTextureHeight,i.skeleton.boneTextureHeight)}else i.skeleton&&i.skeleton.boneMatrices&&void 0!==h.boneGlobalMatrices&&Ue.uniformMatrix4fv(h.boneGlobalMatrices,!1,i.skeleton.boneMatrices);return u&&(n&&r.fog&&A(f,n),(r instanceof a.MeshPhongMaterial||r instanceof a.MeshLambertMaterial||r.lights)&&(Fe&&(c=!0,N(t,e),Fe=!1),c?(P(f,je),O(f,!0)):O(f,!1)),(r instanceof a.MeshBasicMaterial||r instanceof a.MeshLambertMaterial||r instanceof a.MeshPhongMaterial)&&S(f,r),r instanceof a.LineBasicMaterial?M(f,r):r instanceof a.LineDashedMaterial?(M(f,r),T(f,r)):r instanceof a.PointsMaterial?C(f,r):r instanceof a.MeshPhongMaterial?k(f,r):r instanceof a.MeshDepthMaterial?(f.mNear.value=e.near,f.mFar.value=e.far,f.opacity.value=r.opacity):r instanceof a.MeshNormalMaterial&&(f.opacity.value=r.opacity),i.receiveShadow&&!r._shadowPass&&D(f,t,e),F(o.uniformsList)),R(h,i),void 0!==h.modelMatrix&&Ue.uniformMatrix4fv(h.modelMatrix,!1,i.matrixWorld.elements),l}function S(e,t){e.opacity.value=t.opacity,e.diffuse.value=t.color,t.emissive&&(e.emissive.value=t.emissive),e.map.value=t.map,e.specularMap.value=t.specularMap,e.alphaMap.value=t.alphaMap,t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity);var n;if(t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n){n instanceof a.WebGLRenderTarget&&(n=n.texture);var r=n.offset,i=n.repeat;e.offsetRepeat.value.set(r.x,r.y,i.x,i.y)}e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap instanceof a.WebGLRenderTargetCube?1:-1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio}function M(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}function T(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function C(e,t){if(e.psColor.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size,e.scale.value=Q.height/2,e.map.value=t.map,null!==t.map){var n=t.map.offset,r=t.map.repeat;e.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}}function A(e,t){e.fogColor.value=t.color,t instanceof a.Fog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t instanceof a.FogExp2&&(e.fogDensity.value=t.density)}function k(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function P(e,t){e.ambientLightColor.value=t.ambient,e.directionalLightColor.value=t.directional.colors,e.directionalLightDirection.value=t.directional.positions,e.pointLightColor.value=t.point.colors,e.pointLightPosition.value=t.point.positions,e.pointLightDistance.value=t.point.distances,e.pointLightDecay.value=t.point.decays,e.spotLightColor.value=t.spot.colors,e.spotLightPosition.value=t.spot.positions,e.spotLightDistance.value=t.spot.distances,e.spotLightDirection.value=t.spot.directions,e.spotLightAngleCos.value=t.spot.anglesCos,e.spotLightExponent.value=t.spot.exponents,e.spotLightDecay.value=t.spot.decays,e.hemisphereLightSkyColor.value=t.hemi.skyColors,e.hemisphereLightGroundColor.value=t.hemi.groundColors,e.hemisphereLightDirection.value=t.hemi.positions}function O(e,t){e.ambientLightColor.needsUpdate=t,e.directionalLightColor.needsUpdate=t,e.directionalLightDirection.needsUpdate=t,e.pointLightColor.needsUpdate=t,e.pointLightPosition.needsUpdate=t,e.pointLightDistance.needsUpdate=t,e.pointLightDecay.needsUpdate=t,e.spotLightColor.needsUpdate=t,e.spotLightPosition.needsUpdate=t,e.spotLightDistance.needsUpdate=t,e.spotLightDirection.needsUpdate=t,e.spotLightAngleCos.needsUpdate=t,e.spotLightExponent.needsUpdate=t,e.spotLightDecay.needsUpdate=t,e.hemisphereLightSkyColor.needsUpdate=t,e.hemisphereLightGroundColor.needsUpdate=t,e.hemisphereLightDirection.needsUpdate=t}function D(e,t,n){if(e.shadowMatrix)for(var r=0,i=0,o=t.length;o>i;i++){var s=t[i];if(s.castShadow===!0&&(s instanceof a.PointLight||s instanceof a.SpotLight||s instanceof a.DirectionalLight)){var u=s.shadow;s instanceof a.PointLight?(Re.setFromMatrixPosition(s.matrixWorld).negate(),u.matrix.identity().setPosition(Re),e.shadowDarkness.value[r]=-u.darkness):e.shadowDarkness.value[r]=u.darkness,e.shadowMatrix.value[r]=u.matrix,e.shadowMap.value[r]=u.map,e.shadowMapSize.value[r]=u.mapSize,e.shadowBias.value[r]=u.bias,r++}}}function R(e,t){Ue.uniformMatrix4fv(e.modelViewMatrix,!1,t.modelViewMatrix.elements),e.normalMatrix&&Ue.uniformMatrix3fv(e.normalMatrix,!1,t.normalMatrix.elements)}function L(){var e=Se;return e>=We.maxTextures&&console.warn("WebGLRenderer: trying to use "+e+" texture units while this GPU supports only "+We.maxTextures),Se+=1,e}function F(e){for(var t,n,r=0,i=e.length;i>r;r++){var o=e[r][0];if(o.needsUpdate!==!1){var s=o.type,u=o.value,c=e[r][1];switch(s){case"1i":Ue.uniform1i(c,u);break;case"1f":Ue.uniform1f(c,u);break;case"2f":Ue.uniform2f(c,u[0],u[1]);break;case"3f":Ue.uniform3f(c,u[0],u[1],u[2]);break;case"4f":Ue.uniform4f(c,u[0],u[1],u[2],u[3]);break;case"1iv":Ue.uniform1iv(c,u);break;case"3iv":Ue.uniform3iv(c,u);break;case"1fv":Ue.uniform1fv(c,u);break;case"2fv":Ue.uniform2fv(c,u);break;case"3fv":Ue.uniform3fv(c,u);break;case"4fv":Ue.uniform4fv(c,u);break;case"Matrix3fv":Ue.uniformMatrix3fv(c,!1,u);break;case"Matrix4fv":Ue.uniformMatrix4fv(c,!1,u);break;case"i":Ue.uniform1i(c,u);break;case"f":Ue.uniform1f(c,u);break;case"v2":Ue.uniform2f(c,u.x,u.y);break;case"v3":Ue.uniform3f(c,u.x,u.y,u.z);break;case"v4":Ue.uniform4f(c,u.x,u.y,u.z,u.w);break;case"c":Ue.uniform3f(c,u.r,u.g,u.b);break;case"iv1":Ue.uniform1iv(c,u);break;case"iv":Ue.uniform3iv(c,u);break;case"fv1":Ue.uniform1fv(c,u);break;case"fv":Ue.uniform3fv(c,u);break;case"v2v":void 0===o._array&&(o._array=new Float32Array(2*u.length));for(var l=0,h=0,f=u.length;f>l;l++,h+=2)o._array[h+0]=u[l].x,o._array[h+1]=u[l].y;Ue.uniform2fv(c,o._array);break;case"v3v":void 0===o._array&&(o._array=new Float32Array(3*u.length));for(var l=0,p=0,f=u.length;f>l;l++,p+=3)o._array[p+0]=u[l].x,o._array[p+1]=u[l].y,o._array[p+2]=u[l].z;Ue.uniform3fv(c,o._array);break;case"v4v":void 0===o._array&&(o._array=new Float32Array(4*u.length));for(var l=0,d=0,f=u.length;f>l;l++,d+=4)o._array[d+0]=u[l].x,o._array[d+1]=u[l].y,o._array[d+2]=u[l].z,o._array[d+3]=u[l].w;Ue.uniform4fv(c,o._array);break;case"m3":Ue.uniformMatrix3fv(c,!1,u.elements);break;case"m3v":void 0===o._array&&(o._array=new Float32Array(9*u.length));for(var l=0,f=u.length;f>l;l++)u[l].flattenToArrayOffset(o._array,9*l);Ue.uniformMatrix3fv(c,!1,o._array);break;case"m4":Ue.uniformMatrix4fv(c,!1,u.elements);break;case"m4v":void 0===o._array&&(o._array=new Float32Array(16*u.length));for(var l=0,f=u.length;f>l;l++)u[l].flattenToArrayOffset(o._array,16*l);Ue.uniformMatrix4fv(c,!1,o._array);break;case"t":if(t=u,n=L(),Ue.uniform1i(c,n),!t)continue;t instanceof a.CubeTexture||Array.isArray(t.image)&&6===t.image.length?G(t,n):t instanceof a.WebGLRenderTargetCube?H(t.texture,n):t instanceof a.WebGLRenderTarget?ye.setTexture(t.texture,n):ye.setTexture(t,n);break;case"tv":void 0===o._array&&(o._array=[]);for(var l=0,f=o.value.length;f>l;l++)o._array[l]=L();Ue.uniform1iv(c,o._array);for(var l=0,f=o.value.length;f>l;l++)t=o.value[l],n=o._array[l],t&&(t instanceof a.CubeTexture||t.image instanceof Array&&6===t.image.length?G(t,n):t instanceof a.WebGLRenderTarget?ye.setTexture(t.texture,n):t instanceof a.WebGLRenderTargetCube?H(t.texture,n):ye.setTexture(t,n));break;default:console.warn("THREE.WebGLRenderer: Unknown uniform type: "+s)}}}}function j(e,t,n,r){e[t+0]=n.r*r,e[t+1]=n.g*r,e[t+2]=n.b*r}function N(e,t){var n,r,i,o,s,u,c,l,h=0,f=0,p=0,d=je,v=t.matrixWorldInverse,m=d.directional.colors,g=d.directional.positions,y=d.point.colors,b=d.point.positions,w=d.point.distances,x=d.point.decays,_=d.spot.colors,E=d.spot.positions,S=d.spot.distances,M=d.spot.directions,T=d.spot.anglesCos,C=d.spot.exponents,A=d.spot.decays,k=d.hemi.skyColors,P=d.hemi.groundColors,O=d.hemi.positions,D=0,R=0,L=0,F=0,N=0,I=0,U=0,B=0,$=0,V=0,W=0,G=0;for(n=0,r=e.length;r>n;n++)if(i=e[n],o=i.color,c=i.intensity,l=i.distance,i instanceof a.AmbientLight){if(!i.visible)continue;h+=o.r,f+=o.g,p+=o.b}else if(i instanceof a.DirectionalLight){if(N+=1,!i.visible)continue;Le.setFromMatrixPosition(i.matrixWorld),Re.setFromMatrixPosition(i.target.matrixWorld),Le.sub(Re),Le.transformDirection(v),$=3*D,g[$+0]=Le.x,g[$+1]=Le.y,g[$+2]=Le.z,j(m,$,o,c),D+=1}else if(i instanceof a.PointLight){if(I+=1,!i.visible)continue;V=3*R,j(y,V,o,c),Re.setFromMatrixPosition(i.matrixWorld),Re.applyMatrix4(v),b[V+0]=Re.x,b[V+1]=Re.y,b[V+2]=Re.z,w[R]=l,x[R]=0===i.distance?0:i.decay,R+=1}else if(i instanceof a.SpotLight){if(U+=1,!i.visible)continue;W=3*L,j(_,W,o,c),Le.setFromMatrixPosition(i.matrixWorld),Re.copy(Le).applyMatrix4(v),E[W+0]=Re.x,E[W+1]=Re.y,E[W+2]=Re.z,S[L]=l,Re.setFromMatrixPosition(i.target.matrixWorld),Le.sub(Re),Le.transformDirection(v),M[W+0]=Le.x,M[W+1]=Le.y,M[W+2]=Le.z,T[L]=Math.cos(i.angle),C[L]=i.exponent,A[L]=0===i.distance?0:i.decay,L+=1}else if(i instanceof a.HemisphereLight){if(B+=1,!i.visible)continue;Le.setFromMatrixPosition(i.matrixWorld),Le.transformDirection(v),G=3*F,O[G+0]=Le.x,O[G+1]=Le.y,O[G+2]=Le.z,s=i.color,u=i.groundColor,j(k,G,s,c),j(P,G,u,c),F+=1}for(n=3*D,r=Math.max(m.length,3*N);r>n;n++)m[n]=0;for(n=3*R,r=Math.max(y.length,3*I);r>n;n++)y[n]=0;for(n=3*L,r=Math.max(_.length,3*U);r>n;n++)_[n]=0;for(n=3*F,r=Math.max(k.length,3*B);r>n;n++)k[n]=0;for(n=3*F,r=Math.max(P.length,3*B);r>n;n++)P[n]=0;d.directional.length=D,d.point.length=R,d.spot.length=L,d.hemi.length=F,d.ambient[0]=h,d.ambient[1]=f,d.ambient[2]=p}function I(e,t,n){var r;if(n?(Ue.texParameteri(e,Ue.TEXTURE_WRAP_S,Y(t.wrapS)),Ue.texParameteri(e,Ue.TEXTURE_WRAP_T,Y(t.wrapT)),Ue.texParameteri(e,Ue.TEXTURE_MAG_FILTER,Y(t.magFilter)),Ue.texParameteri(e,Ue.TEXTURE_MIN_FILTER,Y(t.minFilter))):(Ue.texParameteri(e,Ue.TEXTURE_WRAP_S,Ue.CLAMP_TO_EDGE),Ue.texParameteri(e,Ue.TEXTURE_WRAP_T,Ue.CLAMP_TO_EDGE),t.wrapS===a.ClampToEdgeWrapping&&t.wrapT===a.ClampToEdgeWrapping||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",t),Ue.texParameteri(e,Ue.TEXTURE_MAG_FILTER,K(t.magFilter)),Ue.texParameteri(e,Ue.TEXTURE_MIN_FILTER,K(t.minFilter)),t.minFilter!==a.NearestFilter&&t.minFilter!==a.LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",t)),r=Ve.get("EXT_texture_filter_anisotropic")){if(t.type===a.FloatType&&null===Ve.get("OES_texture_float_linear"))return;if(t.type===a.HalfFloatType&&null===Ve.get("OES_texture_half_float_linear"))return;(t.anisotropy>1||He.get(t).__currentAnisotropy)&&(Ue.texParameterf(e,r.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(t.anisotropy,ye.getMaxAnisotropy())),He.get(t).__currentAnisotropy=t.anisotropy)}}function U(e,t,n){void 0===e.__webglInit&&(e.__webglInit=!0,t.addEventListener("dispose",o),e.__webglTexture=Ue.createTexture(),Ne.textures++),Ge.activeTexture(Ue.TEXTURE0+n),Ge.bindTexture(Ue.TEXTURE_2D,e.__webglTexture),Ue.pixelStorei(Ue.UNPACK_FLIP_Y_WEBGL,t.flipY),Ue.pixelStorei(Ue.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),Ue.pixelStorei(Ue.UNPACK_ALIGNMENT,t.unpackAlignment),t.image=B(t.image,We.maxTextureSize),V(t)&&$(t.image)===!1&&(t.image=W(t.image));var r=t.image,i=$(r),s=Y(t.format),u=Y(t.type);I(Ue.TEXTURE_2D,t,i);var c,l=t.mipmaps;if(t instanceof a.DataTexture)if(l.length>0&&i){for(var h=0,f=l.length;f>h;h++)c=l[h],Ge.texImage2D(Ue.TEXTURE_2D,h,s,c.width,c.height,0,s,u,c.data);t.generateMipmaps=!1}else Ge.texImage2D(Ue.TEXTURE_2D,0,s,r.width,r.height,0,s,u,r.data);else if(t instanceof a.CompressedTexture)for(var h=0,f=l.length;f>h;h++)c=l[h],t.format!==a.RGBAFormat&&t.format!==a.RGBFormat?Ge.getCompressedTextureFormats().indexOf(s)>-1?Ge.compressedTexImage2D(Ue.TEXTURE_2D,h,s,c.width,c.height,0,c.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ge.texImage2D(Ue.TEXTURE_2D,h,s,c.width,c.height,0,s,u,c.data);else if(l.length>0&&i){for(var h=0,f=l.length;f>h;h++)c=l[h],Ge.texImage2D(Ue.TEXTURE_2D,h,s,s,u,c);t.generateMipmaps=!1}else Ge.texImage2D(Ue.TEXTURE_2D,0,s,s,u,t.image);t.generateMipmaps&&i&&Ue.generateMipmap(Ue.TEXTURE_2D),e.__version=t.version,t.onUpdate&&t.onUpdate(t)}function B(e,t){if(e.width>t||e.height>t){var n=t/Math.max(e.width,e.height),r=document.createElement("canvas");r.width=Math.floor(e.width*n),r.height=Math.floor(e.height*n);var i=r.getContext("2d");return i.drawImage(e,0,0,e.width,e.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+r.width+"x"+r.height,e),r}return e}function $(e){return a.Math.isPowerOfTwo(e.width)&&a.Math.isPowerOfTwo(e.height)}function V(e){return e.wrapS!==a.ClampToEdgeWrapping||e.wrapT!==a.ClampToEdgeWrapping?!0:e.minFilter!==a.NearestFilter&&e.minFilter!==a.LinearFilter}function W(e){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement){var t=document.createElement("canvas");t.width=a.Math.nearestPowerOfTwo(e.width),t.height=a.Math.nearestPowerOfTwo(e.height);var n=t.getContext("2d");return n.drawImage(e,0,0,t.width,t.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+e.width+"x"+e.height+"). Resized to "+t.width+"x"+t.height,e),t}return e}function G(e,t){var n=He.get(e);if(6===e.image.length)if(e.version>0&&n.__version!==e.version){n.__image__webglTextureCube||(e.addEventListener("dispose",o),n.__image__webglTextureCube=Ue.createTexture(),Ne.textures++),Ge.activeTexture(Ue.TEXTURE0+t),Ge.bindTexture(Ue.TEXTURE_CUBE_MAP,n.__image__webglTextureCube),Ue.pixelStorei(Ue.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var r=e instanceof a.CompressedTexture,i=e.image[0]instanceof a.DataTexture,s=[],u=0;6>u;u++)!ye.autoScaleCubemaps||r||i?s[u]=i?e.image[u].image:e.image[u]:s[u]=B(e.image[u],We.maxCubemapSize);var c=s[0],l=$(c),h=Y(e.format),f=Y(e.type);I(Ue.TEXTURE_CUBE_MAP,e,l);for(var u=0;6>u;u++)if(r)for(var p,d=s[u].mipmaps,v=0,m=d.length;m>v;v++)p=d[v],e.format!==a.RGBAFormat&&e.format!==a.RGBFormat?Ge.getCompressedTextureFormats().indexOf(h)>-1?Ge.compressedTexImage2D(Ue.TEXTURE_CUBE_MAP_POSITIVE_X+u,v,h,p.width,p.height,0,p.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setCubeTexture()"):Ge.texImage2D(Ue.TEXTURE_CUBE_MAP_POSITIVE_X+u,v,h,p.width,p.height,0,h,f,p.data);else i?Ge.texImage2D(Ue.TEXTURE_CUBE_MAP_POSITIVE_X+u,0,h,s[u].width,s[u].height,0,h,f,s[u].data):Ge.texImage2D(Ue.TEXTURE_CUBE_MAP_POSITIVE_X+u,0,h,h,f,s[u]);e.generateMipmaps&&l&&Ue.generateMipmap(Ue.TEXTURE_CUBE_MAP),n.__version=e.version,e.onUpdate&&e.onUpdate(e)}else Ge.activeTexture(Ue.TEXTURE0+t),Ge.bindTexture(Ue.TEXTURE_CUBE_MAP,n.__image__webglTextureCube)}function H(e,t){Ge.activeTexture(Ue.TEXTURE0+t),Ge.bindTexture(Ue.TEXTURE_CUBE_MAP,He.get(e).__webglTexture)}function z(e,t,n){Ue.bindFramebuffer(Ue.FRAMEBUFFER,e),Ue.framebufferTexture2D(Ue.FRAMEBUFFER,Ue.COLOR_ATTACHMENT0,n,He.get(t.texture).__webglTexture,0)}function q(e,t){Ue.bindRenderbuffer(Ue.RENDERBUFFER,e),t.depthBuffer&&!t.stencilBuffer?(Ue.renderbufferStorage(Ue.RENDERBUFFER,Ue.DEPTH_COMPONENT16,t.width,t.height),Ue.framebufferRenderbuffer(Ue.FRAMEBUFFER,Ue.DEPTH_ATTACHMENT,Ue.RENDERBUFFER,e)):t.depthBuffer&&t.stencilBuffer?(Ue.renderbufferStorage(Ue.RENDERBUFFER,Ue.DEPTH_STENCIL,t.width,t.height),Ue.framebufferRenderbuffer(Ue.FRAMEBUFFER,Ue.DEPTH_STENCIL_ATTACHMENT,Ue.RENDERBUFFER,e)):Ue.renderbufferStorage(Ue.RENDERBUFFER,Ue.RGBA4,t.width,t.height)}function X(e){var t=e instanceof a.WebGLRenderTargetCube?Ue.TEXTURE_CUBE_MAP:Ue.TEXTURE_2D,n=He.get(e.texture).__webglTexture;Ge.bindTexture(t,n),Ue.generateMipmap(t),Ge.bindTexture(t,null)}function K(e){return e===a.NearestFilter||e===a.NearestMipMapNearestFilter||e===a.NearestMipMapLinearFilter?Ue.NEAREST:Ue.LINEAR}function Y(e){var t;if(e===a.RepeatWrapping)return Ue.REPEAT;if(e===a.ClampToEdgeWrapping)return Ue.CLAMP_TO_EDGE;if(e===a.MirroredRepeatWrapping)return Ue.MIRRORED_REPEAT;if(e===a.NearestFilter)return Ue.NEAREST;if(e===a.NearestMipMapNearestFilter)return Ue.NEAREST_MIPMAP_NEAREST;if(e===a.NearestMipMapLinearFilter)return Ue.NEAREST_MIPMAP_LINEAR;if(e===a.LinearFilter)return Ue.LINEAR;if(e===a.LinearMipMapNearestFilter)return Ue.LINEAR_MIPMAP_NEAREST;if(e===a.LinearMipMapLinearFilter)return Ue.LINEAR_MIPMAP_LINEAR;if(e===a.UnsignedByteType)return Ue.UNSIGNED_BYTE;if(e===a.UnsignedShort4444Type)return Ue.UNSIGNED_SHORT_4_4_4_4;if(e===a.UnsignedShort5551Type)return Ue.UNSIGNED_SHORT_5_5_5_1;if(e===a.UnsignedShort565Type)return Ue.UNSIGNED_SHORT_5_6_5;if(e===a.ByteType)return Ue.BYTE;if(e===a.ShortType)return Ue.SHORT;if(e===a.UnsignedShortType)return Ue.UNSIGNED_SHORT;if(e===a.IntType)return Ue.INT;if(e===a.UnsignedIntType)return Ue.UNSIGNED_INT;if(e===a.FloatType)return Ue.FLOAT;if(t=Ve.get("OES_texture_half_float"),null!==t&&e===a.HalfFloatType)return t.HALF_FLOAT_OES;if(e===a.AlphaFormat)return Ue.ALPHA;if(e===a.RGBFormat)return Ue.RGB;if(e===a.RGBAFormat)return Ue.RGBA;if(e===a.LuminanceFormat)return Ue.LUMINANCE;if(e===a.LuminanceAlphaFormat)return Ue.LUMINANCE_ALPHA;if(e===a.AddEquation)return Ue.FUNC_ADD;if(e===a.SubtractEquation)return Ue.FUNC_SUBTRACT;if(e===a.ReverseSubtractEquation)return Ue.FUNC_REVERSE_SUBTRACT;if(e===a.ZeroFactor)return Ue.ZERO;if(e===a.OneFactor)return Ue.ONE;if(e===a.SrcColorFactor)return Ue.SRC_COLOR;if(e===a.OneMinusSrcColorFactor)return Ue.ONE_MINUS_SRC_COLOR;if(e===a.SrcAlphaFactor)return Ue.SRC_ALPHA;if(e===a.OneMinusSrcAlphaFactor)return Ue.ONE_MINUS_SRC_ALPHA;if(e===a.DstAlphaFactor)return Ue.DST_ALPHA;if(e===a.OneMinusDstAlphaFactor)return Ue.ONE_MINUS_DST_ALPHA;if(e===a.DstColorFactor)return Ue.DST_COLOR;if(e===a.OneMinusDstColorFactor)return Ue.ONE_MINUS_DST_COLOR;if(e===a.SrcAlphaSaturateFactor)return Ue.SRC_ALPHA_SATURATE;if(t=Ve.get("WEBGL_compressed_texture_s3tc"),null!==t){if(e===a.RGB_S3TC_DXT1_Format)return t.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===a.RGBA_S3TC_DXT1_Format)return t.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===a.RGBA_S3TC_DXT3_Format)return t.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===a.RGBA_S3TC_DXT5_Format)return t.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(t=Ve.get("WEBGL_compressed_texture_pvrtc"),null!==t){if(e===a.RGB_PVRTC_4BPPV1_Format)return t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===a.RGB_PVRTC_2BPPV1_Format)return t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===a.RGBA_PVRTC_4BPPV1_Format)return t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===a.RGBA_PVRTC_2BPPV1_Format)return t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t=Ve.get("EXT_blend_minmax"),null!==t){if(e===a.MinEquation)return t.MIN_EXT;if(e===a.MaxEquation)return t.MAX_EXT}return 0}console.log("THREE.WebGLRenderer",a.REVISION),e=e||{};var Q=void 0!==e.canvas?e.canvas:document.createElement("canvas"),J=void 0!==e.context?e.context:null,Z=Q.width,ee=Q.height,te=1,ne=void 0!==e.alpha?e.alpha:!1,re=void 0!==e.depth?e.depth:!0,ie=void 0!==e.stencil?e.stencil:!0,oe=void 0!==e.antialias?e.antialias:!1,ae=void 0!==e.premultipliedAlpha?e.premultipliedAlpha:!0,se=void 0!==e.preserveDrawingBuffer?e.preserveDrawingBuffer:!1,ue=new a.Color(0),ce=0,le=[],he=[],fe=-1,pe=[],de=-1,ve=new Float32Array(8),me=[],ge=[];this.domElement=Q,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.maxMorphTargets=8,this.maxMorphNormals=4,this.autoScaleCubemaps=!0;var ye=this,be=null,we=null,xe=-1,_e="",Ee=null,Se=0,Me=0,Te=0,Ce=Q.width,Ae=Q.height,ke=0,Pe=0,Oe=new a.Frustum,De=new a.Matrix4,Re=new a.Vector3,Le=new a.Vector3,Fe=!0,je={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[],decays:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[],decays:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},Ne={geometries:0,textures:0},Ie={calls:0,vertices:0,faces:0,points:0};this.info={render:Ie,memory:Ne,programs:null};var Ue;try{var Be={alpha:ne,depth:re,stencil:ie,antialias:oe,premultipliedAlpha:ae,preserveDrawingBuffer:se};if(Ue=J||Q.getContext("webgl",Be)||Q.getContext("experimental-webgl",Be),null===Ue)throw null!==Q.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";Q.addEventListener("webglcontextlost",i,!1)}catch($e){console.error("THREE.WebGLRenderer: "+$e)}var Ve=new a.WebGLExtensions(Ue);Ve.get("OES_texture_float"),Ve.get("OES_texture_float_linear"),Ve.get("OES_texture_half_float"),Ve.get("OES_texture_half_float_linear"),Ve.get("OES_standard_derivatives"),Ve.get("ANGLE_instanced_arrays"),Ve.get("OES_element_index_uint")&&(a.BufferGeometry.MaxIndex=4294967296);var We=new a.WebGLCapabilities(Ue,Ve,e),Ge=new a.WebGLState(Ue,Ve,Y),He=new a.WebGLProperties,ze=new a.WebGLObjects(Ue,He,this.info),qe=new a.WebGLPrograms(this,We);
this.info.programs=qe.programs;var Xe=new a.WebGLBufferRenderer(Ue,Ve,Ie),Ke=new a.WebGLIndexedBufferRenderer(Ue,Ve,Ie);n(),this.context=Ue,this.capabilities=We,this.extensions=Ve,this.state=Ge;var Ye=new a.WebGLShadowMap(this,le,ze);this.shadowMap=Ye;var Qe=new a.SpritePlugin(this,me),Je=new a.LensFlarePlugin(this,ge);this.getContext=function(){return Ue},this.getContextAttributes=function(){return Ue.getContextAttributes()},this.forceContextLoss=function(){Ve.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){var e;return function(){if(void 0!==e)return e;var t=Ve.get("EXT_texture_filter_anisotropic");return e=null!==t?Ue.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}}(),this.getPrecision=function(){return We.precision},this.getPixelRatio=function(){return te},this.setPixelRatio=function(e){void 0!==e&&(te=e)},this.getSize=function(){return{width:Z,height:ee}},this.setSize=function(e,t,n){Z=e,ee=t,Q.width=e*te,Q.height=t*te,n!==!1&&(Q.style.width=e+"px",Q.style.height=t+"px"),this.setViewport(0,0,e,t)},this.setViewport=function(e,t,n,r){Me=e*te,Te=t*te,Ce=n*te,Ae=r*te,Ue.viewport(Me,Te,Ce,Ae)},this.getViewport=function(e){e.x=Me/te,e.y=Te/te,e.z=Ce/te,e.w=Ae/te},this.setScissor=function(e,t,n,r){Ue.scissor(e*te,t*te,n*te,r*te)},this.enableScissorTest=function(e){Ge.setScissorTest(e)},this.getClearColor=function(){return ue},this.setClearColor=function(e,n){ue.set(e),ce=void 0!==n?n:1,t(ue.r,ue.g,ue.b,ce)},this.getClearAlpha=function(){return ce},this.setClearAlpha=function(e){ce=e,t(ue.r,ue.g,ue.b,ce)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=Ue.COLOR_BUFFER_BIT),(void 0===t||t)&&(r|=Ue.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=Ue.STENCIL_BUFFER_BIT),Ue.clear(r)},this.clearColor=function(){Ue.clear(Ue.COLOR_BUFFER_BIT)},this.clearDepth=function(){Ue.clear(Ue.DEPTH_BUFFER_BIT)},this.clearStencil=function(){Ue.clear(Ue.STENCIL_BUFFER_BIT)},this.clearTarget=function(e,t,n,r){this.setRenderTarget(e),this.clear(t,n,r)},this.resetGLState=r,this.dispose=function(){Q.removeEventListener("webglcontextlost",i,!1)},this.renderBufferImmediate=function(e,t,n){Ge.initAttributes();var r=He.get(e);e.hasPositions&&!r.position&&(r.position=Ue.createBuffer()),e.hasNormals&&!r.normal&&(r.normal=Ue.createBuffer()),e.hasUvs&&!r.uv&&(r.uv=Ue.createBuffer()),e.hasColors&&!r.color&&(r.color=Ue.createBuffer());var i=t.getAttributes();if(e.hasPositions&&(Ue.bindBuffer(Ue.ARRAY_BUFFER,r.position),Ue.bufferData(Ue.ARRAY_BUFFER,e.positionArray,Ue.DYNAMIC_DRAW),Ge.enableAttribute(i.position),Ue.vertexAttribPointer(i.position,3,Ue.FLOAT,!1,0,0)),e.hasNormals){if(Ue.bindBuffer(Ue.ARRAY_BUFFER,r.normal),"MeshPhongMaterial"!==n.type&&n.shading===a.FlatShading)for(var o=0,s=3*e.count;s>o;o+=9){var u=e.normalArray,c=(u[o+0]+u[o+3]+u[o+6])/3,l=(u[o+1]+u[o+4]+u[o+7])/3,h=(u[o+2]+u[o+5]+u[o+8])/3;u[o+0]=c,u[o+1]=l,u[o+2]=h,u[o+3]=c,u[o+4]=l,u[o+5]=h,u[o+6]=c,u[o+7]=l,u[o+8]=h}Ue.bufferData(Ue.ARRAY_BUFFER,e.normalArray,Ue.DYNAMIC_DRAW),Ge.enableAttribute(i.normal),Ue.vertexAttribPointer(i.normal,3,Ue.FLOAT,!1,0,0)}e.hasUvs&&n.map&&(Ue.bindBuffer(Ue.ARRAY_BUFFER,r.uv),Ue.bufferData(Ue.ARRAY_BUFFER,e.uvArray,Ue.DYNAMIC_DRAW),Ge.enableAttribute(i.uv),Ue.vertexAttribPointer(i.uv,2,Ue.FLOAT,!1,0,0)),e.hasColors&&n.vertexColors!==a.NoColors&&(Ue.bindBuffer(Ue.ARRAY_BUFFER,r.color),Ue.bufferData(Ue.ARRAY_BUFFER,e.colorArray,Ue.DYNAMIC_DRAW),Ge.enableAttribute(i.color),Ue.vertexAttribPointer(i.color,3,Ue.FLOAT,!1,0,0)),Ge.disableUnusedAttributes(),Ue.drawArrays(Ue.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,o,s){x(i);var u=E(e,t,n,i,o),c=!1,l=r.id+"_"+u.id+"_"+i.wireframe;l!==_e&&(_e=l,c=!0);var h=o.morphTargetInfluences;if(void 0!==h){for(var f=[],v=0,m=h.length;m>v;v++){var g=h[v];f.push([g,v])}f.sort(d),f.length>8&&(f.length=8);for(var y=r.morphAttributes,v=0,m=f.length;m>v;v++){var g=f[v];if(ve[v]=g[0],0!==g[0]){var b=g[1];i.morphTargets===!0&&y.position&&r.addAttribute("morphTarget"+v,y.position[b]),i.morphNormals===!0&&y.normal&&r.addAttribute("morphNormal"+v,y.normal[b])}else i.morphTargets===!0&&r.removeAttribute("morphTarget"+v),i.morphNormals===!0&&r.removeAttribute("morphNormal"+v)}var w=u.getUniforms();null!==w.morphTargetInfluences&&Ue.uniform1fv(w.morphTargetInfluences,ve),c=!0}var b=r.index,_=r.attributes.position;i.wireframe===!0&&(b=ze.getWireframeAttribute(r));var S;null!==b?(S=Ke,S.setIndex(b)):S=Xe,c&&(p(i,u,r),null!==b&&Ue.bindBuffer(Ue.ELEMENT_ARRAY_BUFFER,ze.getAttributeBuffer(b)));var M=0,T=1/0;null!==b?T=b.count:void 0!==_&&(T=_.count);var C=r.drawRange.start,A=r.drawRange.count,k=null!==s?s.start:0,P=null!==s?s.count:1/0,O=Math.max(M,C,k),D=Math.min(M+T,C+A,k+P)-1,R=Math.max(0,D-O+1);if(o instanceof a.Mesh)i.wireframe===!0?(Ge.setLineWidth(i.wireframeLinewidth*te),S.setMode(Ue.LINES)):S.setMode(Ue.TRIANGLES),r instanceof a.InstancedBufferGeometry&&r.maxInstancedCount>0?S.renderInstances(r):S.render(O,R);else if(o instanceof a.Line){var L=i.linewidth;void 0===L&&(L=1),Ge.setLineWidth(L*te),o instanceof a.LineSegments?S.setMode(Ue.LINES):S.setMode(Ue.LINE_STRIP),S.render(O,R)}else o instanceof a.Points&&(S.setMode(Ue.POINTS),S.render(O,R))},this.render=function(e,t,n,r){if(t instanceof a.Camera==!1)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");var i=e.fog;if(_e="",xe=-1,Ee=null,Fe=!0,e.autoUpdate===!0&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),t.matrixWorldInverse.getInverse(t.matrixWorld),De.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),Oe.setFromMatrix(De),le.length=0,fe=-1,de=-1,me.length=0,ge.length=0,y(e,t),he.length=fe+1,pe.length=de+1,ye.sortObjects===!0&&(he.sort(v),pe.sort(m)),Ye.render(e),Ie.calls=0,Ie.vertices=0,Ie.faces=0,Ie.points=0,this.setRenderTarget(n),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),e.overrideMaterial){var o=e.overrideMaterial;b(he,t,le,i,o),b(pe,t,le,i,o)}else Ge.setBlending(a.NoBlending),b(he,t,le,i),b(pe,t,le,i);if(Qe.render(e,t),Je.render(e,t,ke,Pe),n){var s=n.texture,u=$(n);s.generateMipmaps&&u&&s.minFilter!==a.NearestFilter&&s.minFilter!==a.LinearFilter&&X(n)}Ge.setDepthTest(!0),Ge.setDepthWrite(!0),Ge.setColorWrite(!0)},this.setFaceCulling=function(e,t){e===a.CullFaceNone?Ge.disable(Ue.CULL_FACE):(t===a.FrontFaceDirectionCW?Ue.frontFace(Ue.CW):Ue.frontFace(Ue.CCW),e===a.CullFaceBack?Ue.cullFace(Ue.BACK):e===a.CullFaceFront?Ue.cullFace(Ue.FRONT):Ue.cullFace(Ue.FRONT_AND_BACK),Ge.enable(Ue.CULL_FACE))},this.setTexture=function(e,t){var n=He.get(e);if(e.version>0&&n.__version!==e.version){var r=e.image;return void 0===r?void console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",e):r.complete===!1?void console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",e):void U(n,e,t)}Ge.activeTexture(Ue.TEXTURE0+t),Ge.bindTexture(Ue.TEXTURE_2D,n.__webglTexture)},this.setRenderTarget=function(e){var t=e instanceof a.WebGLRenderTargetCube;if(e&&void 0===He.get(e).__webglFramebuffer){var n=He.get(e),r=He.get(e.texture);void 0===e.depthBuffer&&(e.depthBuffer=!0),void 0===e.stencilBuffer&&(e.stencilBuffer=!0),e.addEventListener("dispose",s),r.__webglTexture=Ue.createTexture(),Ne.textures++;var i=$(e),o=Y(e.texture.format),u=Y(e.texture.type);if(t){n.__webglFramebuffer=[],n.__webglRenderbuffer=[],Ge.bindTexture(Ue.TEXTURE_CUBE_MAP,r.__webglTexture),I(Ue.TEXTURE_CUBE_MAP,e.texture,i);for(var c=0;6>c;c++)n.__webglFramebuffer[c]=Ue.createFramebuffer(),n.__webglRenderbuffer[c]=Ue.createRenderbuffer(),Ge.texImage2D(Ue.TEXTURE_CUBE_MAP_POSITIVE_X+c,0,o,e.width,e.height,0,o,u,null),z(n.__webglFramebuffer[c],e,Ue.TEXTURE_CUBE_MAP_POSITIVE_X+c),q(n.__webglRenderbuffer[c],e);e.texture.generateMipmaps&&i&&Ue.generateMipmap(Ue.TEXTURE_CUBE_MAP)}else n.__webglFramebuffer=Ue.createFramebuffer(),e.shareDepthFrom?n.__webglRenderbuffer=e.shareDepthFrom.__webglRenderbuffer:n.__webglRenderbuffer=Ue.createRenderbuffer(),Ge.bindTexture(Ue.TEXTURE_2D,r.__webglTexture),I(Ue.TEXTURE_2D,e.texture,i),Ge.texImage2D(Ue.TEXTURE_2D,0,o,e.width,e.height,0,o,u,null),z(n.__webglFramebuffer,e,Ue.TEXTURE_2D),e.shareDepthFrom?e.depthBuffer&&!e.stencilBuffer?Ue.framebufferRenderbuffer(Ue.FRAMEBUFFER,Ue.DEPTH_ATTACHMENT,Ue.RENDERBUFFER,n.__webglRenderbuffer):e.depthBuffer&&e.stencilBuffer&&Ue.framebufferRenderbuffer(Ue.FRAMEBUFFER,Ue.DEPTH_STENCIL_ATTACHMENT,Ue.RENDERBUFFER,n.__webglRenderbuffer):q(n.__webglRenderbuffer,e),e.texture.generateMipmaps&&i&&Ue.generateMipmap(Ue.TEXTURE_2D);t?Ge.bindTexture(Ue.TEXTURE_CUBE_MAP,null):Ge.bindTexture(Ue.TEXTURE_2D,null),Ue.bindRenderbuffer(Ue.RENDERBUFFER,null),Ue.bindFramebuffer(Ue.FRAMEBUFFER,null)}var l,h,f,p,d;if(e){var n=He.get(e);l=t?n.__webglFramebuffer[e.activeCubeFace]:n.__webglFramebuffer,h=e.width,f=e.height,p=0,d=0}else l=null,h=Ce,f=Ae,p=Me,d=Te;if(l!==we&&(Ue.bindFramebuffer(Ue.FRAMEBUFFER,l),Ue.viewport(p,d,h,f),we=l),t){var r=He.get(e.texture);Ue.framebufferTexture2D(Ue.FRAMEBUFFER,Ue.COLOR_ATTACHMENT0,Ue.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,r.__webglTexture,0)}ke=h,Pe=f},this.readRenderTargetPixels=function(e,t,n,r,i,o){if(e instanceof a.WebGLRenderTarget==!1)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");var s=He.get(e).__webglFramebuffer;if(s){var u=!1;s!==we&&(Ue.bindFramebuffer(Ue.FRAMEBUFFER,s),u=!0);try{var c=e.texture;if(c.format!==a.RGBAFormat&&Y(c.format)!==Ue.getParameter(Ue.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(c.type===a.UnsignedByteType||Y(c.type)===Ue.getParameter(Ue.IMPLEMENTATION_COLOR_READ_TYPE)||c.type===a.FloatType&&Ve.get("WEBGL_color_buffer_float")||c.type===a.HalfFloatType&&Ve.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Ue.checkFramebufferStatus(Ue.FRAMEBUFFER)===Ue.FRAMEBUFFER_COMPLETE?Ue.readPixels(t,n,r,i,Y(c.format),Y(c.type),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{u&&Ue.bindFramebuffer(Ue.FRAMEBUFFER,we)}}},this.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),Ve.get("OES_texture_float")},this.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),Ve.get("OES_texture_half_float")},this.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),Ve.get("OES_standard_derivatives")},this.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),Ve.get("WEBGL_compressed_texture_s3tc")},this.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),Ve.get("WEBGL_compressed_texture_pvrtc")},this.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),Ve.get("EXT_blend_minmax")},this.supportsVertexTextures=function(){return We.vertexTextures},this.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),Ve.get("ANGLE_instanced_arrays")},this.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},this.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},this.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},this.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},Object.defineProperties(this,{shadowMapEnabled:{get:function(){return Ye.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),Ye.enabled=e}},shadowMapType:{get:function(){return Ye.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),Ye.type=e}},shadowMapCullFace:{get:function(){return Ye.cullFace},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),Ye.cullFace=e}},shadowMapDebug:{get:function(){return Ye.debug},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapDebug is now .shadowMap.debug."),Ye.debug=e}}})},a.WebGLRenderTarget=function(e,t,n){this.uuid=a.Math.generateUUID(),this.width=e,this.height=t,n=n||{},void 0===n.minFilter&&(n.minFilter=a.LinearFilter),this.texture=new a.Texture(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy),this.depthBuffer=void 0!==n.depthBuffer?n.depthBuffer:!0,this.stencilBuffer=void 0!==n.stencilBuffer?n.stencilBuffer:!0,this.shareDepthFrom=void 0!==n.shareDepthFrom?n.shareDepthFrom:null},a.WebGLRenderTarget.prototype={constructor:a.WebGLRenderTarget,get wrapS(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set wrapS(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e},get wrapT(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set wrapT(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e},get magFilter(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set magFilter(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e},get minFilter(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set minFilter(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e},get anisotropy(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set anisotropy(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e},get offset(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set offset(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e},get repeat(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set repeat(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e},get format(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set format(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e},get type(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set type(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e},get generateMipmaps(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set generateMipmaps(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e},setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose())},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.shareDepthFrom=e.shareDepthFrom,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},a.EventDispatcher.prototype.apply(a.WebGLRenderTarget.prototype),a.WebGLRenderTargetCube=function(e,t,n){a.WebGLRenderTarget.call(this,e,t,n),this.activeCubeFace=0},a.WebGLRenderTargetCube.prototype=Object.create(a.WebGLRenderTarget.prototype),a.WebGLRenderTargetCube.prototype.constructor=a.WebGLRenderTargetCube,a.WebGLBufferRenderer=function(e,t,n){function r(e){s=e}function i(t,r){e.drawArrays(s,t,r),n.calls++,n.vertices+=r,s===e.TRIANGLES&&(n.faces+=r/3)}function o(e){var n=t.get("ANGLE_instanced_arrays");if(null===n)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");var r=e.attributes.position;r instanceof a.InterleavedBufferAttribute?n.drawArraysInstancedANGLE(s,0,r.data.count,e.maxInstancedCount):n.drawArraysInstancedANGLE(s,0,r.count,e.maxInstancedCount)}var s;this.setMode=r,this.render=i,this.renderInstances=o},a.WebGLIndexedBufferRenderer=function(e,t,n){function r(e){s=e}function i(n){n.array instanceof Uint32Array&&t.get("OES_element_index_uint")?(u=e.UNSIGNED_INT,c=4):(u=e.UNSIGNED_SHORT,c=2)}function o(t,r){e.drawElements(s,r,u,t*c),n.calls++,n.vertices+=r,s===e.TRIANGLES&&(n.faces+=r/3)}function a(e){var n=t.get("ANGLE_instanced_arrays");if(null===n)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");var r=e.index;n.drawElementsInstancedANGLE(s,r.array.length,u,0,e.maxInstancedCount)}var s,u,c;this.setMode=r,this.setIndex=i,this.render=o,this.renderInstances=a},a.WebGLExtensions=function(e){var t={};this.get=function(n){if(void 0!==t[n])return t[n];var r;switch(n){case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r}},a.WebGLCapabilities=function(e,t,n){function r(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}this.getMaxPrecision=r,this.precision=void 0!==n.precision?n.precision:"highp",this.logarithmicDepthBuffer=void 0!==n.logarithmicDepthBuffer?n.logarithmicDepthBuffer:!1,this.maxTextures=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.maxVertexTextures=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.maxCubemapSize=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),this.maxAttributes=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.maxVertexUniforms=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),this.maxVaryings=e.getParameter(e.MAX_VARYING_VECTORS),this.maxFragmentUniforms=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),this.vertexTextures=this.maxVertexTextures>0,this.floatFragmentTextures=!!t.get("OES_texture_float"),this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;var i=r(this.precision);i!==this.precision&&(console.warn("THREE.WebGLRenderer:",this.precision,"not supported, using",i,"instead."),this.precision=i),this.logarithmicDepthBuffer&&(this.logarithmicDepthBuffer=!!t.get("EXT_frag_depth"))},a.WebGLGeometries=function(e,t,n){function r(e){var t=e.geometry;if(void 0!==l[t.id])return l[t.id];t.addEventListener("dispose",i);var r;return t instanceof a.BufferGeometry?r=t:t instanceof a.Geometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new a.BufferGeometry).setFromObject(e)),r=t._bufferGeometry),l[t.id]=r,n.memory.geometries++,r}function i(e){var r=e.target,o=l[r.id];u(o.attributes),r.removeEventListener("dispose",i),delete l[r.id];var a=t.get(r);a.wireframe&&s(a.wireframe),n.memory.geometries--}function o(e){return e instanceof a.InterleavedBufferAttribute?t.get(e.data).__webglBuffer:t.get(e).__webglBuffer}function s(t){var n=o(t);void 0!==n&&(e.deleteBuffer(n),c(t))}function u(e){for(var t in e)s(e[t])}function c(e){e instanceof a.InterleavedBufferAttribute?t["delete"](e.data):t["delete"](e)}var l={};this.get=r},a.WebGLObjects=function(e,t,n){function r(t){var n=h.get(t);t.geometry instanceof a.Geometry&&n.updateFromObject(t);var r=n.index,o=n.attributes;null!==r&&i(r,e.ELEMENT_ARRAY_BUFFER);for(var s in o)i(o[s],e.ARRAY_BUFFER);var u=n.morphAttributes;for(var s in u)for(var c=u[s],l=0,f=c.length;f>l;l++)i(c[l],e.ARRAY_BUFFER);return n}function i(e,n){var r=e instanceof a.InterleavedBufferAttribute?e.data:e,i=t.get(r);void 0===i.__webglBuffer?o(i,r,n):i.version!==r.version&&s(i,r,n)}function o(t,n,r){t.__webglBuffer=e.createBuffer(),e.bindBuffer(r,t.__webglBuffer);var i=n.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW;e.bufferData(r,n.array,i),t.version=n.version}function s(t,n,r){e.bindBuffer(r,t.__webglBuffer),n.dynamic===!1||-1===n.updateRange.count?e.bufferSubData(r,0,n.array):0===n.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(r,n.updateRange.offset*n.array.BYTES_PER_ELEMENT,n.array.subarray(n.updateRange.offset,n.updateRange.offset+n.updateRange.count)),n.updateRange.count=0),t.version=n.version}function u(e){return e instanceof a.InterleavedBufferAttribute?t.get(e.data).__webglBuffer:t.get(e).__webglBuffer}function c(n){var r=t.get(n);if(void 0!==r.wireframe)return r.wireframe;var o=[],s=n.index,u=n.attributes,c=u.position;if(null!==s)for(var h={},f=s.array,p=0,d=f.length;d>p;p+=3){var v=f[p+0],m=f[p+1],g=f[p+2];l(h,v,m)&&o.push(v,m),l(h,m,g)&&o.push(m,g),l(h,g,v)&&o.push(g,v)}else for(var f=u.position.array,p=0,d=f.length/3-1;d>p;p+=3){var v=p+0,m=p+1,g=p+2;o.push(v,m,m,g,g,v)}var y=c.count>65535?Uint32Array:Uint16Array,b=new a.BufferAttribute(new y(o),1);return i(b,e.ELEMENT_ARRAY_BUFFER),r.wireframe=b,b}function l(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];return void 0===i?(e[t]=[n],!0):-1===i.indexOf(n)?(i.push(n),!0):!1}var h=new a.WebGLGeometries(e,t,n);this.getAttributeBuffer=u,this.getWireframeAttribute=c,this.update=r},a.WebGLProgram=function(){function e(e){var t=[];for(var n in e){var r=e[n];r!==!1&&t.push("#define "+n+" "+r)}return t.join("\n")}function t(e,t,n){for(var r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),o=0;i>o;o++){var a=e.getActiveUniform(t,o),s=a.name,u=e.getUniformLocation(t,s),c=s.lastIndexOf("[0]");-1!==c&&c===s.length-3&&(r[s.substr(0,c)]=u),r[s]=u}return r}function n(e,t,n){for(var r={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;i>o;o++){var a=e.getActiveAttrib(t,o),s=a.name;r[s]=e.getAttribLocation(t,s)}return r}function r(e){return""!==e}var i=0;return function(o,s,u,c){var l=o.context,h=u.defines,f=u.__webglShader.vertexShader,p=u.__webglShader.fragmentShader,d="SHADOWMAP_TYPE_BASIC";c.shadowMapType===a.PCFShadowMap?d="SHADOWMAP_TYPE_PCF":c.shadowMapType===a.PCFSoftShadowMap&&(d="SHADOWMAP_TYPE_PCF_SOFT");var v="ENVMAP_TYPE_CUBE",m="ENVMAP_MODE_REFLECTION",g="ENVMAP_BLENDING_MULTIPLY";if(c.envMap){switch(u.envMap.mapping){case a.CubeReflectionMapping:case a.CubeRefractionMapping:v="ENVMAP_TYPE_CUBE";break;case a.EquirectangularReflectionMapping:case a.EquirectangularRefractionMapping:v="ENVMAP_TYPE_EQUIREC";break;case a.SphericalReflectionMapping:v="ENVMAP_TYPE_SPHERE"}switch(u.envMap.mapping){case a.CubeRefractionMapping:case a.EquirectangularRefractionMapping:m="ENVMAP_MODE_REFRACTION"}switch(u.combine){case a.MultiplyOperation:g="ENVMAP_BLENDING_MULTIPLY";break;case a.MixOperation:g="ENVMAP_BLENDING_MIX";break;case a.AddOperation:g="ENVMAP_BLENDING_ADD"}}var y,b,w=o.gammaFactor>0?o.gammaFactor:1,x=e(h),_=l.createProgram();u instanceof a.RawShaderMaterial?(y="",b=""):(y=["precision "+c.precision+" float;","precision "+c.precision+" int;","#define SHADER_NAME "+u.__webglShader.name,x,c.supportsVertexTextures?"#define VERTEX_TEXTURES":"",o.gammaInput?"#define GAMMA_INPUT":"",o.gammaOutput?"#define GAMMA_OUTPUT":"","#define GAMMA_FACTOR "+w,"#define MAX_DIR_LIGHTS "+c.maxDirLights,"#define MAX_POINT_LIGHTS "+c.maxPointLights,"#define MAX_SPOT_LIGHTS "+c.maxSpotLights,"#define MAX_HEMI_LIGHTS "+c.maxHemiLights,"#define MAX_SHADOWS "+c.maxShadows,"#define MAX_BONES "+c.maxBones,c.map?"#define USE_MAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+m:"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.displacementMap&&c.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.vertexColors?"#define USE_COLOR":"",c.flatShading?"#define FLAT_SHADED":"",c.skinning?"#define USE_SKINNING":"",c.useVertexTexture?"#define BONE_TEXTURE":"",c.morphTargets?"#define USE_MORPHTARGETS":"",c.morphNormals&&c.flatShading===!1?"#define USE_MORPHNORMALS":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+d:"",c.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",c.pointLightShadows>0?"#define POINT_LIGHT_SHADOWS":"",c.sizeAttenuation?"#define USE_SIZEATTENUATION":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",c.logarithmicDepthBuffer&&o.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif","\n"].filter(r).join("\n"),b=[c.bumpMap||c.normalMap||c.flatShading||u.derivatives?"#extension GL_OES_standard_derivatives : enable":"",c.logarithmicDepthBuffer&&o.extensions.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"","precision "+c.precision+" float;","precision "+c.precision+" int;","#define SHADER_NAME "+u.__webglShader.name,x,"#define MAX_DIR_LIGHTS "+c.maxDirLights,"#define MAX_POINT_LIGHTS "+c.maxPointLights,"#define MAX_SPOT_LIGHTS "+c.maxSpotLights,"#define MAX_HEMI_LIGHTS "+c.maxHemiLights,"#define MAX_SHADOWS "+c.maxShadows,c.alphaTest?"#define ALPHATEST "+c.alphaTest:"",o.gammaInput?"#define GAMMA_INPUT":"",o.gammaOutput?"#define GAMMA_OUTPUT":"","#define GAMMA_FACTOR "+w,c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp?"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+v:"",c.envMap?"#define "+m:"",c.envMap?"#define "+g:"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.vertexColors?"#define USE_COLOR":"",c.flatShading?"#define FLAT_SHADED":"",c.metal?"#define METAL":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+d:"",c.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",c.pointLightShadows>0?"#define POINT_LIGHT_SHADOWS":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",c.logarithmicDepthBuffer&&o.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","\n"].filter(r).join("\n"));var E=y+f,S=b+p,M=a.WebGLShader(l,l.VERTEX_SHADER,E),T=a.WebGLShader(l,l.FRAGMENT_SHADER,S);l.attachShader(_,M),l.attachShader(_,T),void 0!==u.index0AttributeName?l.bindAttribLocation(_,0,u.index0AttributeName):c.morphTargets===!0&&l.bindAttribLocation(_,0,"position"),l.linkProgram(_);var C=l.getProgramInfoLog(_),A=l.getShaderInfoLog(M),k=l.getShaderInfoLog(T),P=!0,O=!0;l.getProgramParameter(_,l.LINK_STATUS)===!1?(P=!1,console.error("THREE.WebGLProgram: shader error: ",l.getError(),"gl.VALIDATE_STATUS",l.getProgramParameter(_,l.VALIDATE_STATUS),"gl.getProgramInfoLog",C,A,k)):""!==C?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",C):""!==A&&""!==k||(O=!1),O&&(this.diagnostics={runnable:P,material:u,programLog:C,vertexShader:{log:A,prefix:y},fragmentShader:{log:k,prefix:b}}),l.deleteShader(M),l.deleteShader(T);var D;this.getUniforms=function(){return void 0===D&&(D=t(l,_)),D};var R;return this.getAttributes=function(){return void 0===R&&(R=n(l,_)),R},this.destroy=function(){l.deleteProgram(_),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=i++,this.code=s,this.usedTimes=1,this.program=_,this.vertexShader=M,this.fragmentShader=T,this}}(),a.WebGLPrograms=function(e,t){function n(e){if(t.floatVertexTextures&&e&&e.skeleton&&e.skeleton.useVertexTexture)return 1024;var n=t.maxVertexUniforms,r=Math.floor((n-20)/4),i=r;return void 0!==e&&e instanceof a.SkinnedMesh&&(i=Math.min(e.skeleton.bones.length,i),i<e.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+e.skeleton.bones.length+", this GPU supports just "+i+" (try OpenGL instead of ANGLE)")),i}function r(e){for(var t=0,n=0,r=0,i=0,o=0,s=e.length;s>o;o++){var u=e[o];u.visible!==!1&&(u instanceof a.DirectionalLight&&t++,u instanceof a.PointLight&&n++,u instanceof a.SpotLight&&r++,u instanceof a.HemisphereLight&&i++)}return{directional:t,point:n,spot:r,hemi:i}}function i(e){for(var t=0,n=0,r=0,i=e.length;i>r;r++){var o=e[r];o.castShadow&&((o instanceof a.SpotLight||o instanceof a.DirectionalLight)&&t++,o instanceof a.PointLight&&(t++,n++))}return{maxShadows:t,pointLightShadows:n}}var o=[],s={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},u=["precision","supportsVertexTextures","map","envMap","envMapMode","lightMap","aoMap","emissiveMap","bumpMap","normalMap","displacementMap","specularMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","maxDirLights","maxPointLights","maxSpotLights","maxHemiLights","maxShadows","shadowMapEnabled","pointLightShadows","shadowMapType","shadowMapDebug","alphaTest","metal","doubleSided","flipSided"];
this.getParameters=function(o,u,c,l){var h=s[o.type],f=r(u),p=i(u),d=n(l),v=e.getPrecision();null!==o.precision&&(v=t.getMaxPrecision(o.precision),v!==o.precision&&console.warn("THREE.WebGLRenderer.initMaterial:",o.precision,"not supported, using",v,"instead."));var m={shaderID:h,precision:v,supportsVertexTextures:t.vertexTextures,map:!!o.map,envMap:!!o.envMap,envMapMode:o.envMap&&o.envMap.mapping,lightMap:!!o.lightMap,aoMap:!!o.aoMap,emissiveMap:!!o.emissiveMap,bumpMap:!!o.bumpMap,normalMap:!!o.normalMap,displacementMap:!!o.displacementMap,specularMap:!!o.specularMap,alphaMap:!!o.alphaMap,combine:o.combine,vertexColors:o.vertexColors,fog:c,useFog:o.fog,fogExp:c instanceof a.FogExp2,flatShading:o.shading===a.FlatShading,sizeAttenuation:o.sizeAttenuation,logarithmicDepthBuffer:t.logarithmicDepthBuffer,skinning:o.skinning,maxBones:d,useVertexTexture:t.floatVertexTextures&&l&&l.skeleton&&l.skeleton.useVertexTexture,morphTargets:o.morphTargets,morphNormals:o.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,maxDirLights:f.directional,maxPointLights:f.point,maxSpotLights:f.spot,maxHemiLights:f.hemi,maxShadows:p.maxShadows,pointLightShadows:p.pointLightShadows,shadowMapEnabled:e.shadowMap.enabled&&l.receiveShadow&&p.maxShadows>0,shadowMapType:e.shadowMap.type,shadowMapDebug:e.shadowMap.debug,alphaTest:o.alphaTest,metal:o.metal,doubleSided:o.side===a.DoubleSide,flipSided:o.side===a.BackSide};return m},this.getProgramCode=function(e,t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(var r in e.defines)n.push(r),n.push(e.defines[r]);for(var i=0;i<u.length;i++){var o=u[i];n.push(o),n.push(t[o])}return n.join()},this.acquireProgram=function(t,n,r){for(var i,s=0,u=o.length;u>s;s++){var c=o[s];if(c.code===r){i=c,++i.usedTimes;break}}return void 0===i&&(i=new a.WebGLProgram(e,r,t,n),o.push(i)),i},this.releaseProgram=function(e){if(0===--e.usedTimes){var t=o.indexOf(e);o[t]=o[o.length-1],o.pop(),e.destroy()}},this.programs=o},a.WebGLProperties=function(){var e={};this.get=function(t){var n=t.uuid,r=e[n];return void 0===r&&(r={},e[n]=r),r},this["delete"]=function(t){delete e[t.uuid]},this.clear=function(){e={}}},a.WebGLShader=function(){function e(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}return function(t,n,r){var i=t.createShader(n);return t.shaderSource(i,r),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)===!1&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(i)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",n===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(i),e(r)),i}}(),a.WebGLShadowMap=function(e,t,n){function r(e,t,n,r){var i=e.geometry,o=null,s=m,u=e.customDepthMaterial;if(n&&(s=g,u=e.customDistanceMaterial),u)o=u;else{var c=void 0!==i.morphTargets&&i.morphTargets.length>0&&t.morphTargets,l=e instanceof a.SkinnedMesh&&t.skinning,h=0;c&&(h|=p),l&&(h|=d),o=s[h]}return o.visible=t.visible,o.wireframe=t.wireframe,o.wireframeLinewidth=t.wireframeLinewidth,n&&void 0!==o.uniforms.lightPos&&o.uniforms.lightPos.value.copy(r),o}function i(e,t){if(e.visible!==!1){if((e instanceof a.Mesh||e instanceof a.Line||e instanceof a.Points)&&e.castShadow&&(e.frustumCulled===!1||u.intersectsObject(e)===!0)){var n=e.material;n.visible===!0&&(e.modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,e.matrixWorld),f.push(e))}for(var r=e.children,o=0,s=r.length;s>o;o++)i(r[o],t)}}for(var o=e.context,s=e.state,u=new a.Frustum,c=new a.Matrix4,l=(new a.Vector3,new a.Vector3,new a.Vector3),h=new a.Vector3,f=[],p=1,d=2,v=(p|d)+1,m=new Array(v),g=new Array(v),y=[new a.Vector3(1,0,0),new a.Vector3(-1,0,0),new a.Vector3(0,0,1),new a.Vector3(0,0,-1),new a.Vector3(0,1,0),new a.Vector3(0,-1,0)],b=[new a.Vector3(0,1,0),new a.Vector3(0,1,0),new a.Vector3(0,1,0),new a.Vector3(0,1,0),new a.Vector3(0,0,1),new a.Vector3(0,0,-1)],w=[new a.Vector4,new a.Vector4,new a.Vector4,new a.Vector4,new a.Vector4,new a.Vector4],x=new a.Vector4,_=a.ShaderLib.depthRGBA,E=a.UniformsUtils.clone(_.uniforms),S=a.ShaderLib.distanceRGBA,M=a.UniformsUtils.clone(S.uniforms),T=0;T!==v;++T){var C=0!==(T&p),A=0!==(T&d),k=new a.ShaderMaterial({uniforms:E,vertexShader:_.vertexShader,fragmentShader:_.fragmentShader,morphTargets:C,skinning:A});k._shadowPass=!0,m[T]=k;var P=new a.ShaderMaterial({uniforms:M,vertexShader:S.vertexShader,fragmentShader:S.fragmentShader,morphTargets:C,skinning:A});P._shadowPass=!0,g[T]=P}var O=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=a.PCFShadowMap,this.cullFace=a.CullFaceFront,this.render=function(p){var d,v;if(O.enabled!==!1&&(O.autoUpdate!==!1||O.needsUpdate!==!1)){o.clearColor(1,1,1,1),s.disable(o.BLEND),s.enable(o.CULL_FACE),o.frontFace(o.CCW),o.cullFace(O.cullFace===a.CullFaceFront?o.FRONT:o.BACK),s.setDepthTest(!0),e.getViewport(x);for(var m=0,g=t.length;g>m;m++){var _=t[m];if(_.castShadow===!0){var E=_.shadow,S=E.camera,M=E.mapSize;if(_ instanceof a.PointLight){d=6,v=!0;var T=M.x/4,C=M.y/2;w[0].set(2*T,C,T,C),w[1].set(0,C,T,C),w[2].set(3*T,C,T,C),w[3].set(T,C,T,C),w[4].set(3*T,0,T,C),w[5].set(T,0,T,C)}else d=1,v=!1;if(null===E.map){var A=a.LinearFilter;O.type===a.PCFSoftShadowMap&&(A=a.NearestFilter);var k={minFilter:A,magFilter:A,format:a.RGBAFormat};E.map=new a.WebGLRenderTarget(M.x,M.y,k),E.matrix=new a.Matrix4,_ instanceof a.SpotLight&&(S.aspect=M.x/M.y),S.updateProjectionMatrix()}var P=E.map,D=E.matrix;h.setFromMatrixPosition(_.matrixWorld),S.position.copy(h),e.setRenderTarget(P),e.clear();for(var R=0;d>R;R++){if(v){l.copy(S.position),l.add(y[R]),S.up.copy(b[R]),S.lookAt(l);var L=w[R];e.setViewport(L.x,L.y,L.z,L.w)}else l.setFromMatrixPosition(_.target.matrixWorld),S.lookAt(l);S.updateMatrixWorld(),S.matrixWorldInverse.getInverse(S.matrixWorld),D.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),D.multiply(S.projectionMatrix),D.multiply(S.matrixWorldInverse),c.multiplyMatrices(S.projectionMatrix,S.matrixWorldInverse),u.setFromMatrix(c),f.length=0,i(p,S);for(var F=0,j=f.length;j>F;F++){var N=f[F],I=n.update(N),U=N.material;if(U instanceof a.MeshFaceMaterial)for(var B=I.groups,$=U.materials,V=0,W=B.length;W>V;V++){var G=B[V],H=$[G.materialIndex];if(H.visible===!0){var z=r(N,H,v,h);e.renderBufferDirect(S,t,null,I,z,N,G)}}else{var z=r(N,U,v,h);e.renderBufferDirect(S,t,null,I,z,N,null)}}}e.resetGLState()}}e.setViewport(x.x,x.y,x.z,x.w);var q=e.getClearColor(),X=e.getClearAlpha();e.setClearColor(q,X),s.enable(o.BLEND),O.cullFace===a.CullFaceFront&&o.cullFace(o.BACK),e.resetGLState(),O.needsUpdate=!1}}},a.WebGLState=function(e,t,n){var r=this,i=new Uint8Array(16),o=new Uint8Array(16),s=new Uint8Array(16),u={},c=null,l=null,h=null,f=null,p=null,d=null,v=null,m=null,g=null,y=null,b=null,w=null,x=null,_=null,E=null,S=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),M=void 0,T={};this.init=function(){e.clearColor(0,0,0,1),e.clearDepth(1),e.clearStencil(0),this.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.frontFace(e.CCW),e.cullFace(e.BACK),this.enable(e.CULL_FACE),this.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA)},this.initAttributes=function(){for(var e=0,t=i.length;t>e;e++)i[e]=0},this.enableAttribute=function(n){if(i[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),0!==s[n]){var r=t.get("ANGLE_instanced_arrays");r.vertexAttribDivisorANGLE(n,0),s[n]=0}},this.enableAttributeAndDivisor=function(t,n,r){i[t]=1,0===o[t]&&(e.enableVertexAttribArray(t),o[t]=1),s[t]!==n&&(r.vertexAttribDivisorANGLE(t,n),s[t]=n)},this.disableUnusedAttributes=function(){for(var t=0,n=o.length;n>t;t++)o[t]!==i[t]&&(e.disableVertexAttribArray(t),o[t]=0)},this.enable=function(t){u[t]!==!0&&(e.enable(t),u[t]=!0)},this.disable=function(t){u[t]!==!1&&(e.disable(t),u[t]=!1)},this.getCompressedTextureFormats=function(){if(null===c&&(c=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")))for(var n=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)c.push(n[r]);return c},this.setBlending=function(t,r,i,o,s,u,c){t!==l&&(t===a.NoBlending?this.disable(e.BLEND):t===a.AdditiveBlending?(this.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE)):t===a.SubtractiveBlending?(this.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR)):t===a.MultiplyBlending?(this.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.SRC_COLOR)):t===a.CustomBlending?this.enable(e.BLEND):(this.enable(e.BLEND),e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)),l=t),t===a.CustomBlending?(s=s||r,u=u||i,c=c||o,r===h&&s===d||(e.blendEquationSeparate(n(r),n(s)),h=r,d=s),i===f&&o===p&&u===v&&c===m||(e.blendFuncSeparate(n(i),n(o),n(u),n(c)),f=i,p=o,v=u,m=c)):(h=null,f=null,p=null,d=null,v=null,m=null)},this.setDepthFunc=function(t){if(g!==t){if(t)switch(t){case a.NeverDepth:e.depthFunc(e.NEVER);break;case a.AlwaysDepth:e.depthFunc(e.ALWAYS);break;case a.LessDepth:e.depthFunc(e.LESS);break;case a.LessEqualDepth:e.depthFunc(e.LEQUAL);break;case a.EqualDepth:e.depthFunc(e.EQUAL);break;case a.GreaterEqualDepth:e.depthFunc(e.GEQUAL);break;case a.GreaterDepth:e.depthFunc(e.GREATER);break;case a.NotEqualDepth:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);g=t}},this.setDepthTest=function(t){t?this.enable(e.DEPTH_TEST):this.disable(e.DEPTH_TEST)},this.setDepthWrite=function(t){y!==t&&(e.depthMask(t),y=t)},this.setColorWrite=function(t){b!==t&&(e.colorMask(t,t,t,t),b=t)},this.setFlipSided=function(t){w!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),w=t)},this.setLineWidth=function(t){t!==x&&(e.lineWidth(t),x=t)},this.setPolygonOffset=function(t,n,r){t?this.enable(e.POLYGON_OFFSET_FILL):this.disable(e.POLYGON_OFFSET_FILL),!t||_===n&&E===r||(e.polygonOffset(n,r),_=n,E=r)},this.setScissorTest=function(t){t?this.enable(e.SCISSOR_TEST):this.disable(e.SCISSOR_TEST)},this.activeTexture=function(t){void 0===t&&(t=e.TEXTURE0+S-1),M!==t&&(e.activeTexture(t),M=t)},this.bindTexture=function(t,n){void 0===M&&r.activeTexture();var i=T[M];void 0===i&&(i={type:void 0,texture:void 0},T[M]=i),i.type===t&&i.texture===n||(e.bindTexture(t,n),i.type=t,i.texture=n)},this.compressedTexImage2D=function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error(t)}},this.texImage2D=function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error(t)}},this.reset=function(){for(var t=0;t<o.length;t++)1===o[t]&&(e.disableVertexAttribArray(t),o[t]=0);u={},c=null,l=null,y=null,b=null,w=null}},a.LensFlarePlugin=function(e,t){function n(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),t=new Uint16Array([0,1,2,0,2,3]);i=p.createBuffer(),o=p.createBuffer(),p.bindBuffer(p.ARRAY_BUFFER,i),p.bufferData(p.ARRAY_BUFFER,e,p.STATIC_DRAW),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,o),p.bufferData(p.ELEMENT_ARRAY_BUFFER,t,p.STATIC_DRAW),h=p.createTexture(),f=p.createTexture(),d.bindTexture(p.TEXTURE_2D,h),p.texImage2D(p.TEXTURE_2D,0,p.RGB,16,16,0,p.RGB,p.UNSIGNED_BYTE,null),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST),d.bindTexture(p.TEXTURE_2D,f),p.texImage2D(p.TEXTURE_2D,0,p.RGBA,16,16,0,p.RGBA,p.UNSIGNED_BYTE,null),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST),l=p.getParameter(p.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;var n;n=l?{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")}:{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["precision mediump float;","uniform lowp int renderType;","uniform sampler2D map;","uniform sampler2D occlusionMap;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;","visibility = ( 1.0 - visibility / 4.0 );","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * visibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},s=r(n),u={vertex:p.getAttribLocation(s,"position"),uv:p.getAttribLocation(s,"uv")},c={renderType:p.getUniformLocation(s,"renderType"),map:p.getUniformLocation(s,"map"),occlusionMap:p.getUniformLocation(s,"occlusionMap"),opacity:p.getUniformLocation(s,"opacity"),color:p.getUniformLocation(s,"color"),scale:p.getUniformLocation(s,"scale"),rotation:p.getUniformLocation(s,"rotation"),screenPosition:p.getUniformLocation(s,"screenPosition")}}function r(t){var n=p.createProgram(),r=p.createShader(p.FRAGMENT_SHADER),i=p.createShader(p.VERTEX_SHADER),o="precision "+e.getPrecision()+" float;\n";return p.shaderSource(r,o+t.fragmentShader),p.shaderSource(i,o+t.vertexShader),p.compileShader(r),p.compileShader(i),p.attachShader(n,r),p.attachShader(n,i),p.linkProgram(n),n}var i,o,s,u,c,l,h,f,p=e.context,d=e.state;this.render=function(r,v,m,g){if(0!==t.length){var y=new a.Vector3,b=g/m,w=.5*m,x=.5*g,_=16/g,E=new a.Vector2(_*b,_),S=new a.Vector3(1,1,0),M=new a.Vector2(1,1);void 0===s&&n(),p.useProgram(s),d.initAttributes(),d.enableAttribute(u.vertex),d.enableAttribute(u.uv),d.disableUnusedAttributes(),p.uniform1i(c.occlusionMap,0),p.uniform1i(c.map,1),p.bindBuffer(p.ARRAY_BUFFER,i),p.vertexAttribPointer(u.vertex,2,p.FLOAT,!1,16,0),p.vertexAttribPointer(u.uv,2,p.FLOAT,!1,16,8),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,o),d.disable(p.CULL_FACE),p.depthMask(!1);for(var T=0,C=t.length;C>T;T++){_=16/g,E.set(_*b,_);var A=t[T];if(y.set(A.matrixWorld.elements[12],A.matrixWorld.elements[13],A.matrixWorld.elements[14]),y.applyMatrix4(v.matrixWorldInverse),y.applyProjection(v.projectionMatrix),S.copy(y),M.x=S.x*w+w,M.y=S.y*x+x,l||M.x>0&&M.x<m&&M.y>0&&M.y<g){d.activeTexture(p.TEXTURE0),d.bindTexture(p.TEXTURE_2D,null),d.activeTexture(p.TEXTURE1),d.bindTexture(p.TEXTURE_2D,h),p.copyTexImage2D(p.TEXTURE_2D,0,p.RGB,M.x-8,M.y-8,16,16,0),p.uniform1i(c.renderType,0),p.uniform2f(c.scale,E.x,E.y),p.uniform3f(c.screenPosition,S.x,S.y,S.z),d.disable(p.BLEND),d.enable(p.DEPTH_TEST),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0),d.activeTexture(p.TEXTURE0),d.bindTexture(p.TEXTURE_2D,f),p.copyTexImage2D(p.TEXTURE_2D,0,p.RGBA,M.x-8,M.y-8,16,16,0),p.uniform1i(c.renderType,1),d.disable(p.DEPTH_TEST),d.activeTexture(p.TEXTURE1),d.bindTexture(p.TEXTURE_2D,h),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0),A.positionScreen.copy(S),A.customUpdateCallback?A.customUpdateCallback(A):A.updateLensFlares(),p.uniform1i(c.renderType,2),d.enable(p.BLEND);for(var k=0,P=A.lensFlares.length;P>k;k++){var O=A.lensFlares[k];O.opacity>.001&&O.scale>.001&&(S.x=O.x,S.y=O.y,S.z=O.z,_=O.size*O.scale/g,E.x=_*b,E.y=_,p.uniform3f(c.screenPosition,S.x,S.y,S.z),p.uniform2f(c.scale,E.x,E.y),p.uniform1f(c.rotation,O.rotation),p.uniform1f(c.opacity,O.opacity),p.uniform3f(c.color,O.color.r,O.color.g,O.color.b),d.setBlending(O.blending,O.blendEquation,O.blendSrc,O.blendDst),e.setTexture(O.texture,1),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0))}}}d.enable(p.CULL_FACE),d.enable(p.DEPTH_TEST),p.depthMask(!0),e.resetGLState()}}},a.SpritePlugin=function(e,t){function n(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),t=new Uint16Array([0,1,2,0,2,3]);o=f.createBuffer(),s=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,o),f.bufferData(f.ARRAY_BUFFER,e,f.STATIC_DRAW),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,s),f.bufferData(f.ELEMENT_ARRAY_BUFFER,t,f.STATIC_DRAW),u=r(),c={position:f.getAttribLocation(u,"position"),uv:f.getAttribLocation(u,"uv")},l={uvOffset:f.getUniformLocation(u,"uvOffset"),uvScale:f.getUniformLocation(u,"uvScale"),rotation:f.getUniformLocation(u,"rotation"),scale:f.getUniformLocation(u,"scale"),color:f.getUniformLocation(u,"color"),map:f.getUniformLocation(u,"map"),opacity:f.getUniformLocation(u,"opacity"),modelViewMatrix:f.getUniformLocation(u,"modelViewMatrix"),projectionMatrix:f.getUniformLocation(u,"projectionMatrix"),fogType:f.getUniformLocation(u,"fogType"),fogDensity:f.getUniformLocation(u,"fogDensity"),fogNear:f.getUniformLocation(u,"fogNear"),fogFar:f.getUniformLocation(u,"fogFar"),fogColor:f.getUniformLocation(u,"fogColor"),alphaTest:f.getUniformLocation(u,"alphaTest")};var n=document.createElement("canvas");n.width=8,n.height=8;var i=n.getContext("2d");i.fillStyle="white",i.fillRect(0,0,8,8),h=new a.Texture(n),h.needsUpdate=!0}function r(){var t=f.createProgram(),n=f.createShader(f.VERTEX_SHADER),r=f.createShader(f.FRAGMENT_SHADER);return f.shaderSource(n,["precision "+e.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),f.shaderSource(r,["precision "+e.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),f.compileShader(n),f.compileShader(r),f.attachShader(t,n),f.attachShader(t,r),f.linkProgram(t),t}function i(e,t){return e.z!==t.z?t.z-e.z:t.id-e.id}var o,s,u,c,l,h,f=e.context,p=e.state,d=new a.Vector3,v=new a.Quaternion,m=new a.Vector3;this.render=function(r,g){if(0!==t.length){void 0===u&&n(),f.useProgram(u),p.initAttributes(),p.enableAttribute(c.position),p.enableAttribute(c.uv),p.disableUnusedAttributes(),p.disable(f.CULL_FACE),p.enable(f.BLEND),f.bindBuffer(f.ARRAY_BUFFER,o),f.vertexAttribPointer(c.position,2,f.FLOAT,!1,16,0),f.vertexAttribPointer(c.uv,2,f.FLOAT,!1,16,8),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,s),f.uniformMatrix4fv(l.projectionMatrix,!1,g.projectionMatrix.elements),p.activeTexture(f.TEXTURE0),f.uniform1i(l.map,0);var y=0,b=0,w=r.fog;w?(f.uniform3f(l.fogColor,w.color.r,w.color.g,w.color.b),w instanceof a.Fog?(f.uniform1f(l.fogNear,w.near),f.uniform1f(l.fogFar,w.far),f.uniform1i(l.fogType,1),y=1,b=1):w instanceof a.FogExp2&&(f.uniform1f(l.fogDensity,w.density),f.uniform1i(l.fogType,2),y=2,b=2)):(f.uniform1i(l.fogType,0),y=0,b=0);for(var x=0,_=t.length;_>x;x++){var E=t[x];E.modelViewMatrix.multiplyMatrices(g.matrixWorldInverse,E.matrixWorld),E.z=-E.modelViewMatrix.elements[14]}t.sort(i);for(var S=[],x=0,_=t.length;_>x;x++){var E=t[x],M=E.material;f.uniform1f(l.alphaTest,M.alphaTest),f.uniformMatrix4fv(l.modelViewMatrix,!1,E.modelViewMatrix.elements),E.matrixWorld.decompose(d,v,m),S[0]=m.x,S[1]=m.y;var T=0;r.fog&&M.fog&&(T=b),y!==T&&(f.uniform1i(l.fogType,T),y=T),null!==M.map?(f.uniform2f(l.uvOffset,M.map.offset.x,M.map.offset.y),f.uniform2f(l.uvScale,M.map.repeat.x,M.map.repeat.y)):(f.uniform2f(l.uvOffset,0,0),f.uniform2f(l.uvScale,1,1)),f.uniform1f(l.opacity,M.opacity),f.uniform3f(l.color,M.color.r,M.color.g,M.color.b),f.uniform1f(l.rotation,M.rotation),f.uniform2fv(l.scale,S),p.setBlending(M.blending,M.blendEquation,M.blendSrc,M.blendDst),p.setDepthTest(M.depthTest),p.setDepthWrite(M.depthWrite),M.map&&M.map.image&&M.map.image.width?e.setTexture(M.map,0):e.setTexture(h,0),f.drawElements(f.TRIANGLES,6,f.UNSIGNED_SHORT,0)}p.enable(f.CULL_FACE),e.resetGLState()}}},a.CurveUtils={tangentQuadraticBezier:function(e,t,n,r){return 2*(1-e)*(n-t)+2*e*(r-n)},tangentCubicBezier:function(e,t,n,r,i){return-3*t*(1-e)*(1-e)+3*n*(1-e)*(1-e)-6*e*n*(1-e)+6*e*r*(1-e)-3*e*e*r+3*e*e*i},tangentSpline:function(e,t,n,r,i){var o=6*e*e-6*e,a=3*e*e-4*e+1,s=-6*e*e+6*e,u=3*e*e-2*e;return o+a+s+u},interpolate:function(e,t,n,r,i){var o=.5*(n-e),a=.5*(r-t),s=i*i,u=i*s;return(2*t-2*n+o+a)*u+(-3*t+3*n-2*o-a)*s+o*i+t}},a.GeometryUtils={merge:function(e,t,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var r;t instanceof a.Mesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}},a.ImageUtils={crossOrigin:void 0,loadTexture:function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture is being deprecated. Use THREE.TextureLoader() instead.");var i=new a.TextureLoader;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},loadTextureCube:function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube is being deprecated. Use THREE.CubeTextureLoader() instead.");var i=new a.CubeTextureLoader;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}},a.SceneUtils={createMultiMaterialObject:function(e,t){for(var n=new a.Group,r=0,i=t.length;i>r;r++)n.add(new a.Mesh(e,t[r]));return n},detach:function(e,t,n){e.applyMatrix(t.matrixWorld),t.remove(e),n.add(e)},attach:function(e,t,n){var r=new a.Matrix4;r.getInverse(n.matrixWorld),e.applyMatrix(r),t.remove(e),n.add(e)}},a.ShapeUtils={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;t>i;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},triangulate:function(){function e(e,t,n,r,i,o){var a,s,u,c,l,h,f,p,d;if(s=e[o[t]].x,u=e[o[t]].y,c=e[o[n]].x,l=e[o[n]].y,h=e[o[r]].x,f=e[o[r]].y,Number.EPSILON>(c-s)*(f-u)-(l-u)*(h-s))return!1;var v,m,g,y,b,w,x,_,E,S,M,T,C,A,k;for(v=h-c,m=f-l,g=s-h,y=u-f,b=c-s,w=l-u,a=0;i>a;a++)if(p=e[o[a]].x,d=e[o[a]].y,!(p===s&&d===u||p===c&&d===l||p===h&&d===f)&&(x=p-s,_=d-u,E=p-c,S=d-l,M=p-h,T=d-f,k=v*S-m*E,C=b*_-w*x,A=g*T-y*M,k>=-Number.EPSILON&&A>=-Number.EPSILON&&C>=-Number.EPSILON))return!1;return!0}return function(t,n){var r=t.length;if(3>r)return null;var i,o,s,u=[],c=[],l=[];if(a.ShapeUtils.area(t)>0)for(o=0;r>o;o++)c[o]=o;else for(o=0;r>o;o++)c[o]=r-1-o;var h=r,f=2*h;for(o=h-1;h>2;){if(f--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),n?l:u;if(i=o,i>=h&&(i=0),o=i+1,o>=h&&(o=0),s=o+1,s>=h&&(s=0),e(t,i,o,s,h,c)){var p,d,v,m,g;for(p=c[i],d=c[o],v=c[s],u.push([t[p],t[d],t[v]]),l.push([c[i],c[o],c[s]]),m=o,g=o+1;h>g;m++,g++)c[m]=c[g];h--,f=2*h}}return n?l:u}}(),triangulateShape:function(e,t){function n(e,t,n){return e.x!==t.x?e.x<t.x?e.x<=n.x&&n.x<=t.x:t.x<=n.x&&n.x<=e.x:e.y<t.y?e.y<=n.y&&n.y<=t.y:t.y<=n.y&&n.y<=e.y}function r(e,t,r,i,o){var a=t.x-e.x,s=t.y-e.y,u=i.x-r.x,c=i.y-r.y,l=e.x-r.x,h=e.y-r.y,f=s*u-a*c,p=s*l-a*h;if(Math.abs(f)>Number.EPSILON){var d;if(f>0){if(0>p||p>f)return[];if(d=c*l-u*h,0>d||d>f)return[]}else{if(p>0||f>p)return[];if(d=c*l-u*h,d>0||f>d)return[]}if(0===d)return!o||0!==p&&p!==f?[e]:[];if(d===f)return!o||0!==p&&p!==f?[t]:[];if(0===p)return[r];if(p===f)return[i];var v=d/f;return[{x:e.x+v*a,y:e.y+v*s}]}if(0!==p||c*l!==u*h)return[];var m=0===a&&0===s,g=0===u&&0===c;if(m&&g)return e.x!==r.x||e.y!==r.y?[]:[e];if(m)return n(r,i,e)?[e]:[];if(g)return n(e,t,r)?[r]:[];var y,b,w,x,_,E,S,M;return 0!==a?(e.x<t.x?(y=e,w=e.x,b=t,x=t.x):(y=t,w=t.x,b=e,x=e.x),r.x<i.x?(_=r,S=r.x,E=i,M=i.x):(_=i,S=i.x,E=r,M=r.x)):(e.y<t.y?(y=e,w=e.y,b=t,x=t.y):(y=t,w=t.y,b=e,x=e.y),r.y<i.y?(_=r,S=r.y,E=i,M=i.y):(_=i,S=i.y,E=r,M=r.y)),S>=w?S>x?[]:x===S?o?[]:[_]:M>=x?[_,b]:[_,E]:w>M?[]:w===M?o?[]:[y]:M>=x?[y,b]:[y,E]}function i(e,t,n,r){var i=t.x-e.x,o=t.y-e.y,a=n.x-e.x,s=n.y-e.y,u=r.x-e.x,c=r.y-e.y,l=i*s-o*a,h=i*c-o*u;if(Math.abs(l)>Number.EPSILON){var f=u*s-c*a;return l>0?h>=0&&f>=0:h>=0||f>=0}return h>0}function o(e,t){function n(e,t){var n=y.length-1,r=e-1;0>r&&(r=n);var o=e+1;o>n&&(o=0);var a=i(y[e],y[r],y[o],s[t]);if(!a)return!1;var u=s.length-1,c=t-1;0>c&&(c=u);var l=t+1;return l>u&&(l=0),a=i(s[t],s[c],s[l],y[e]),!!a}function o(e,t){var n,i,o;for(n=0;n<y.length;n++)if(i=n+1,i%=y.length,o=r(e,t,y[n],y[i],!0),o.length>0)return!0;return!1}function a(e,n){var i,o,a,s,u;for(i=0;i<b.length;i++)for(o=t[b[i]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,u=r(e,n,o[a],o[s],!0),u.length>0)return!0;return!1}for(var s,u,c,l,h,f,p,d,v,m,g,y=e.concat(),b=[],w=[],x=0,_=t.length;_>x;x++)b.push(x);for(var E=0,S=2*b.length;b.length>0;){if(S--,0>S){console.log("Infinite Loop! Holes left:"+b.length+", Probably Hole outside Shape!");break}for(c=E;c<y.length;c++){l=y[c],u=-1;for(var x=0;x<b.length;x++)if(f=b[x],p=l.x+":"+l.y+":"+f,void 0===w[p]){s=t[f];for(var M=0;M<s.length;M++)if(h=s[M],n(c,M)&&!o(l,h)&&!a(l,h)){u=M,b.splice(x,1),d=y.slice(0,c+1),v=y.slice(c),m=s.slice(u),g=s.slice(0,u+1),y=d.concat(m).concat(g).concat(v),E=c;break}if(u>=0)break;w[p]=!0}if(u>=0)break}}return y}for(var s,u,c,l,h,f,p={},d=e.concat(),v=0,m=t.length;m>v;v++)Array.prototype.push.apply(d,t[v]);for(s=0,u=d.length;u>s;s++)h=d[s].x+":"+d[s].y,void 0!==p[h]&&console.warn("THREE.Shape: Duplicate point",h),p[h]=s;var g=o(e,t),y=a.ShapeUtils.triangulate(g,!1);for(s=0,u=y.length;u>s;s++)for(l=y[s],c=0;3>c;c++)h=l[c].x+":"+l[c].y,f=p[h],void 0!==f&&(l[c]=f);return y.concat()},isClockWise:function(e){return a.ShapeUtils.area(e)<0},b2:function(){function e(e,t){var n=1-e;return n*n*t}function t(e,t){return 2*(1-e)*e*t}function n(e,t){return e*e*t}return function(r,i,o,a){return e(r,i)+t(r,o)+n(r,a)}}(),b3:function(){function e(e,t){var n=1-e;return n*n*n*t}function t(e,t){var n=1-e;return 3*n*n*e*t}function n(e,t){var n=1-e;return 3*n*e*e*t}function r(e,t){return e*e*e*t}return function(i,o,a,s,u){return e(i,o)+t(i,a)+n(i,s)+r(i,u)}}()},a.Audio=function(e){a.Object3D.call(this),this.type="Audio",this.context=e.context,this.source=this.context.createBufferSource(),this.source.onended=this.onEnded.bind(this),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.panner=this.context.createPanner(),this.panner.connect(this.gain),this.autoplay=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1},a.Audio.prototype=Object.create(a.Object3D.prototype),a.Audio.prototype.constructor=a.Audio,a.Audio.prototype.load=function(e){var t=this,n=new XMLHttpRequest;return n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(e){t.context.decodeAudioData(this.response,function(e){t.source.buffer=e,t.autoplay&&t.play()})},n.send(),this},a.Audio.prototype.play=function(){if(this.isPlaying===!0)return void console.warn("THREE.Audio: Audio is already playing.");var e=this.context.createBufferSource();e.buffer=this.source.buffer,e.loop=this.source.loop,e.onended=this.source.onended,e.start(0,this.startTime),e.playbackRate.value=this.playbackRate,this.isPlaying=!0,this.source=e,this.connect()},a.Audio.prototype.pause=function(){this.source.stop(),this.startTime=this.context.currentTime},a.Audio.prototype.stop=function(){this.source.stop(),this.startTime=0},a.Audio.prototype.connect=function(){void 0!==this.filter?(this.source.connect(this.filter),this.filter.connect(this.panner)):this.source.connect(this.panner)},a.Audio.prototype.disconnect=function(){void 0!==this.filter?(this.source.disconnect(this.filter),this.filter.disconnect(this.panner)):this.source.disconnect(this.panner)},a.Audio.prototype.setFilter=function(e){this.isPlaying===!0?(this.disconnect(),this.filter=e,this.connect()):this.filter=e},a.Audio.prototype.getFilter=function(){return this.filter},a.Audio.prototype.setPlaybackRate=function(e){this.playbackRate=e,this.isPlaying===!0&&(this.source.playbackRate.value=this.playbackRate)},a.Audio.prototype.getPlaybackRate=function(){return this.playbackRate},a.Audio.prototype.onEnded=function(){this.isPlaying=!1},a.Audio.prototype.setLoop=function(e){this.source.loop=e},a.Audio.prototype.getLoop=function(){return this.source.loop},a.Audio.prototype.setRefDistance=function(e){this.panner.refDistance=e},a.Audio.prototype.getRefDistance=function(){return this.panner.refDistance},a.Audio.prototype.setRolloffFactor=function(e){this.panner.rolloffFactor=e},a.Audio.prototype.getRolloffFactor=function(){return this.panner.rolloffFactor},a.Audio.prototype.setVolume=function(e){this.gain.gain.value=e;
},a.Audio.prototype.getVolume=function(){return this.gain.gain.value},a.Audio.prototype.updateMatrixWorld=function(){var e=new a.Vector3;return function(t){a.Object3D.prototype.updateMatrixWorld.call(this,t),e.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(e.x,e.y,e.z)}}(),a.AudioListener=function(){a.Object3D.call(this),this.type="AudioListener",this.context=new(window.AudioContext||window.webkitAudioContext)},a.AudioListener.prototype=Object.create(a.Object3D.prototype),a.AudioListener.prototype.constructor=a.AudioListener,a.AudioListener.prototype.updateMatrixWorld=function(){var e=new a.Vector3,t=new a.Quaternion,n=new a.Vector3,r=new a.Vector3;return function(i){a.Object3D.prototype.updateMatrixWorld.call(this,i);var o=this.context.listener,s=this.up;this.matrixWorld.decompose(e,t,n),r.set(0,0,-1).applyQuaternion(t),o.setPosition(e.x,e.y,e.z),o.setOrientation(r.x,r.y,r.z,s.x,s.y,s.z)}}(),a.Curve=function(){},a.Curve.prototype={constructor:a.Curve,getPoint:function(e){return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},getPointAt:function(e){var t=this.getUtoTmapping(e);return this.getPoint(t)},getPoints:function(e){e||(e=5);var t,n=[];for(t=0;e>=t;t++)n.push(this.getPoint(t/e));return n},getSpacedPoints:function(e){e||(e=5);var t,n=[];for(t=0;e>=t;t++)n.push(this.getPointAt(t/e));return n},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e||(e=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;e>=n;n++)t=this.getPoint(n/e),o+=t.distanceTo(i),r.push(o),i=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,o=r.length;n=t?t:e*r[o-1];for(var a,s=0,u=o-1;u>=s;)if(i=Math.floor(s+(u-s)/2),a=r[i]-n,0>a)s=i+1;else{if(!(a>0)){u=i;break}u=i-1}if(i=u,r[i]===n){var c=i/(o-1);return c}var l=r[i],h=r[i+1],f=h-l,p=(n-l)/f,c=(i+p)/(o-1);return c},getTangent:function(e){var t=1e-4,n=e-t,r=e+t;0>n&&(n=0),r>1&&(r=1);var i=this.getPoint(n),o=this.getPoint(r),a=o.clone().sub(i);return a.normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)}},a.Curve.Utils=a.CurveUtils,a.Curve.create=function(e,t){return e.prototype=Object.create(a.Curve.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},a.CurvePath=function(){this.curves=[],this.autoClose=!1},a.CurvePath.prototype=Object.create(a.Curve.prototype),a.CurvePath.prototype.constructor=a.CurvePath,a.CurvePath.prototype.add=function(e){this.curves.push(e)},a.CurvePath.prototype.closePath=function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new a.LineCurve(t,e))},a.CurvePath.prototype.getPoint=function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,o=this.curves[r],a=1-i/o.getLength();return o.getPointAt(a)}r++}return null},a.CurvePath.prototype.getLength=function(){var e=this.getCurveLengths();return e[e.length-1]},a.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;r>n;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},a.CurvePath.prototype.createPointsGeometry=function(e){var t=this.getPoints(e,!0);return this.createGeometry(t)},a.CurvePath.prototype.createSpacedPointsGeometry=function(e){var t=this.getSpacedPoints(e,!0);return this.createGeometry(t)},a.CurvePath.prototype.createGeometry=function(e){for(var t=new a.Geometry,n=0,r=e.length;r>n;n++){var i=e[n];t.vertices.push(new a.Vector3(i.x,i.y,i.z||0))}return t},a.Path=function(e){a.CurvePath.call(this),this.actions=[],e&&this.fromPoints(e)},a.Path.prototype=Object.create(a.CurvePath.prototype),a.Path.prototype.constructor=a.Path,a.Path.prototype.fromPoints=function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;n>t;t++)this.lineTo(e[t].x,e[t].y)},a.Path.prototype.moveTo=function(e,t){this.actions.push({action:"moveTo",args:[e,t]})},a.Path.prototype.lineTo=function(e,t){var n=this.actions[this.actions.length-1].args,r=n[n.length-2],i=n[n.length-1],o=new a.LineCurve(new a.Vector2(r,i),new a.Vector2(e,t));this.curves.push(o),this.actions.push({action:"lineTo",args:[e,t]})},a.Path.prototype.quadraticCurveTo=function(e,t,n,r){var i=this.actions[this.actions.length-1].args,o=i[i.length-2],s=i[i.length-1],u=new a.QuadraticBezierCurve(new a.Vector2(o,s),new a.Vector2(e,t),new a.Vector2(n,r));this.curves.push(u),this.actions.push({action:"quadraticCurveTo",args:[e,t,n,r]})},a.Path.prototype.bezierCurveTo=function(e,t,n,r,i,o){var s=this.actions[this.actions.length-1].args,u=s[s.length-2],c=s[s.length-1],l=new a.CubicBezierCurve(new a.Vector2(u,c),new a.Vector2(e,t),new a.Vector2(n,r),new a.Vector2(i,o));this.curves.push(l),this.actions.push({action:"bezierCurveTo",args:[e,t,n,r,i,o]})},a.Path.prototype.splineThru=function(e){var t=Array.prototype.slice.call(arguments),n=this.actions[this.actions.length-1].args,r=n[n.length-2],i=n[n.length-1],o=[new a.Vector2(r,i)];Array.prototype.push.apply(o,e);var s=new a.SplineCurve(o);this.curves.push(s),this.actions.push({action:"splineThru",args:t})},a.Path.prototype.arc=function(e,t,n,r,i,o){var a=this.actions[this.actions.length-1].args,s=a[a.length-2],u=a[a.length-1];this.absarc(e+s,t+u,n,r,i,o)},a.Path.prototype.absarc=function(e,t,n,r,i,o){this.absellipse(e,t,n,n,r,i,o)},a.Path.prototype.ellipse=function(e,t,n,r,i,o,a,s){var u=this.actions[this.actions.length-1].args,c=u[u.length-2],l=u[u.length-1];this.absellipse(e+c,t+l,n,r,i,o,a,s)},a.Path.prototype.absellipse=function(e,t,n,r,i,o,s,u){var c=[e,t,n,r,i,o,s,u||0],l=new a.EllipseCurve(e,t,n,r,i,o,s,u);this.curves.push(l);var h=l.getPoint(1);c.push(h.x),c.push(h.y),this.actions.push({action:"ellipse",args:c})},a.Path.prototype.getSpacedPoints=function(e,t){e||(e=40);for(var n=[],r=0;e>r;r++)n.push(this.getPoint(r/e));return n},a.Path.prototype.getPoints=function(e,t){e=e||12;for(var n,r,i,o,s,u,c,l,h,f,p,d=a.ShapeUtils.b2,v=a.ShapeUtils.b3,m=[],g=0,y=this.actions.length;y>g;g++){var b=this.actions[g],w=b.action,x=b.args;switch(w){case"moveTo":m.push(new a.Vector2(x[0],x[1]));break;case"lineTo":m.push(new a.Vector2(x[0],x[1]));break;case"quadraticCurveTo":n=x[2],r=x[3],s=x[0],u=x[1],m.length>0?(h=m[m.length-1],c=h.x,l=h.y):(h=this.actions[g-1].args,c=h[h.length-2],l=h[h.length-1]);for(var _=1;e>=_;_++){var E=_/e;f=d(E,c,s,n),p=d(E,l,u,r),m.push(new a.Vector2(f,p))}break;case"bezierCurveTo":n=x[4],r=x[5],s=x[0],u=x[1],i=x[2],o=x[3],m.length>0?(h=m[m.length-1],c=h.x,l=h.y):(h=this.actions[g-1].args,c=h[h.length-2],l=h[h.length-1]);for(var _=1;e>=_;_++){var E=_/e;f=v(E,c,s,i,n),p=v(E,l,u,o,r),m.push(new a.Vector2(f,p))}break;case"splineThru":h=this.actions[g-1].args;var S=new a.Vector2(h[h.length-2],h[h.length-1]),M=[S],T=e*x[0].length;M=M.concat(x[0]);for(var C=new a.SplineCurve(M),_=1;T>=_;_++)m.push(C.getPointAt(_/T));break;case"arc":for(var A,k=x[0],P=x[1],O=x[2],D=x[3],R=x[4],L=!!x[5],F=R-D,j=2*e,_=1;j>=_;_++){var E=_/j;L||(E=1-E),A=D+E*F,f=k+O*Math.cos(A),p=P+O*Math.sin(A),m.push(new a.Vector2(f,p))}break;case"ellipse":var A,N,I,k=x[0],P=x[1],U=x[2],B=x[3],D=x[4],R=x[5],L=!!x[6],$=x[7],F=R-D,j=2*e;0!==$&&(N=Math.cos($),I=Math.sin($));for(var _=1;j>=_;_++){var E=_/j;if(L||(E=1-E),A=D+E*F,f=k+U*Math.cos(A),p=P+B*Math.sin(A),0!==$){var V=f,W=p;f=(V-k)*N-(W-P)*I+k,p=(V-k)*I+(W-P)*N+P}m.push(new a.Vector2(f,p))}}}var G=m[m.length-1];return Math.abs(G.x-m[0].x)<Number.EPSILON&&Math.abs(G.y-m[0].y)<Number.EPSILON&&m.splice(m.length-1,1),t&&m.push(m[0]),m},a.Path.prototype.toShapes=function(e,t){function n(e){for(var t=[],n=new a.Path,r=0,i=e.length;i>r;r++){var o=e[r],s=o.args,u=o.action;"moveTo"===u&&0!==n.actions.length&&(t.push(n),n=new a.Path),n[u].apply(n,s)}return 0!==n.actions.length&&t.push(n),t}function r(e){for(var t=[],n=0,r=e.length;r>n;n++){var i=e[n],o=new a.Shape;o.actions=i.actions,o.curves=i.curves,t.push(o)}return t}function i(e,t){for(var n=t.length,r=!1,i=n-1,o=0;n>o;i=o++){var a=t[i],s=t[o],u=s.x-a.x,c=s.y-a.y;if(Math.abs(c)>Number.EPSILON){if(0>c&&(a=t[o],u=-u,s=t[i],c=-c),e.y<a.y||e.y>s.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var l=c*(e.x-a.x)-u*(e.y-a.y);if(0===l)return!0;if(0>l)continue;r=!r}}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return r}var o=a.ShapeUtils.isClockWise,s=n(this.actions);if(0===s.length)return[];if(t===!0)return r(s);var u,c,l,h=[];if(1===s.length)return c=s[0],l=new a.Shape,l.actions=c.actions,l.curves=c.curves,h.push(l),h;var f=!o(s[0].getPoints());f=e?!f:f;var p,d=[],v=[],m=[],g=0;v[g]=void 0,m[g]=[];for(var y=0,b=s.length;b>y;y++)c=s[y],p=c.getPoints(),u=o(p),u=e?!u:u,u?(!f&&v[g]&&g++,v[g]={s:new a.Shape,p:p},v[g].s.actions=c.actions,v[g].s.curves=c.curves,f&&g++,m[g]=[]):m[g].push({h:c,p:p[0]});if(!v[0])return r(s);if(v.length>1){for(var w=!1,x=[],_=0,E=v.length;E>_;_++)d[_]=[];for(var _=0,E=v.length;E>_;_++)for(var S=m[_],M=0;M<S.length;M++){for(var T=S[M],C=!0,A=0;A<v.length;A++)i(T.p,v[A].p)&&(_!==A&&x.push({froms:_,tos:A,hole:M}),C?(C=!1,d[A].push(T)):w=!0);C&&d[_].push(T)}x.length>0&&(w||(m=d))}for(var k,y=0,P=v.length;P>y;y++){l=v[y].s,h.push(l),k=m[y];for(var O=0,D=k.length;D>O;O++)l.holes.push(k[O].h)}return h},a.Shape=function(){a.Path.apply(this,arguments),this.holes=[]},a.Shape.prototype=Object.create(a.Path.prototype),a.Shape.prototype.constructor=a.Shape,a.Shape.prototype.extrude=function(e){return new a.ExtrudeGeometry(this,e)},a.Shape.prototype.makeGeometry=function(e){return new a.ShapeGeometry(this,e)},a.Shape.prototype.getPointsHoles=function(e){for(var t=[],n=0,r=this.holes.length;r>n;n++)t[n]=this.holes[n].getPoints(e);return t},a.Shape.prototype.extractAllPoints=function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},a.Shape.prototype.extractPoints=function(e){return this.extractAllPoints(e)},a.Shape.Utils=a.ShapeUtils,a.LineCurve=function(e,t){this.v1=e,this.v2=t},a.LineCurve.prototype=Object.create(a.Curve.prototype),a.LineCurve.prototype.constructor=a.LineCurve,a.LineCurve.prototype.getPoint=function(e){var t=this.v2.clone().sub(this.v1);return t.multiplyScalar(e).add(this.v1),t},a.LineCurve.prototype.getPointAt=function(e){return this.getPoint(e)},a.LineCurve.prototype.getTangent=function(e){var t=this.v2.clone().sub(this.v1);return t.normalize()},a.QuadraticBezierCurve=function(e,t,n){this.v0=e,this.v1=t,this.v2=n},a.QuadraticBezierCurve.prototype=Object.create(a.Curve.prototype),a.QuadraticBezierCurve.prototype.constructor=a.QuadraticBezierCurve,a.QuadraticBezierCurve.prototype.getPoint=function(e){var t=a.ShapeUtils.b2;return new a.Vector2(t(e,this.v0.x,this.v1.x,this.v2.x),t(e,this.v0.y,this.v1.y,this.v2.y))},a.QuadraticBezierCurve.prototype.getTangent=function(e){var t=a.CurveUtils.tangentQuadraticBezier;return new a.Vector2(t(e,this.v0.x,this.v1.x,this.v2.x),t(e,this.v0.y,this.v1.y,this.v2.y)).normalize()},a.CubicBezierCurve=function(e,t,n,r){this.v0=e,this.v1=t,this.v2=n,this.v3=r},a.CubicBezierCurve.prototype=Object.create(a.Curve.prototype),a.CubicBezierCurve.prototype.constructor=a.CubicBezierCurve,a.CubicBezierCurve.prototype.getPoint=function(e){var t=a.ShapeUtils.b3;return new a.Vector2(t(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y))},a.CubicBezierCurve.prototype.getTangent=function(e){var t=a.CurveUtils.tangentCubicBezier;return new a.Vector2(t(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize()},a.SplineCurve=function(e){this.points=void 0==e?[]:e},a.SplineCurve.prototype=Object.create(a.Curve.prototype),a.SplineCurve.prototype.constructor=a.SplineCurve,a.SplineCurve.prototype.getPoint=function(e){var t=this.points,n=(t.length-1)*e,r=Math.floor(n),i=n-r,o=t[0===r?r:r-1],s=t[r],u=t[r>t.length-2?t.length-1:r+1],c=t[r>t.length-3?t.length-1:r+2],l=a.CurveUtils.interpolate;return new a.Vector2(l(o.x,s.x,u.x,c.x,i),l(o.y,s.y,u.y,c.y,i))},a.EllipseCurve=function(e,t,n,r,i,o,a,s){this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s||0},a.EllipseCurve.prototype=Object.create(a.Curve.prototype),a.EllipseCurve.prototype.constructor=a.EllipseCurve,a.EllipseCurve.prototype.getPoint=function(e){var t=this.aEndAngle-this.aStartAngle;0>t&&(t+=2*Math.PI),t>2*Math.PI&&(t-=2*Math.PI);var n;n=this.aClockwise===!0?this.aEndAngle+(1-e)*(2*Math.PI-t):this.aStartAngle+e*t;var r=this.aX+this.xRadius*Math.cos(n),i=this.aY+this.yRadius*Math.sin(n);if(0!==this.aRotation){var o=Math.cos(this.aRotation),s=Math.sin(this.aRotation),u=r,c=i;r=(u-this.aX)*o-(c-this.aY)*s+this.aX,i=(u-this.aX)*s+(c-this.aY)*o+this.aY}return new a.Vector2(r,i)},a.ArcCurve=function(e,t,n,r,i,o){a.EllipseCurve.call(this,e,t,n,n,r,i,o)},a.ArcCurve.prototype=Object.create(a.EllipseCurve.prototype),a.ArcCurve.prototype.constructor=a.ArcCurve,a.LineCurve3=a.Curve.create(function(e,t){this.v1=e,this.v2=t},function(e){var t=new a.Vector3;return t.subVectors(this.v2,this.v1),t.multiplyScalar(e),t.add(this.v1),t}),a.QuadraticBezierCurve3=a.Curve.create(function(e,t,n){this.v0=e,this.v1=t,this.v2=n},function(e){var t=a.ShapeUtils.b2;return new a.Vector3(t(e,this.v0.x,this.v1.x,this.v2.x),t(e,this.v0.y,this.v1.y,this.v2.y),t(e,this.v0.z,this.v1.z,this.v2.z))}),a.CubicBezierCurve3=a.Curve.create(function(e,t,n,r){this.v0=e,this.v1=t,this.v2=n,this.v3=r},function(e){var t=a.ShapeUtils.b3;return new a.Vector3(t(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),t(e,this.v0.z,this.v1.z,this.v2.z,this.v3.z))}),a.SplineCurve3=a.Curve.create(function(e){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3"),this.points=void 0==e?[]:e},function(e){var t=this.points,n=(t.length-1)*e,r=Math.floor(n),i=n-r,o=t[0==r?r:r-1],s=t[r],u=t[r>t.length-2?t.length-1:r+1],c=t[r>t.length-3?t.length-1:r+2],l=a.CurveUtils.interpolate;return new a.Vector3(l(o.x,s.x,u.x,c.x,i),l(o.y,s.y,u.y,c.y,i),l(o.z,s.z,u.z,c.z,i))}),a.CatmullRomCurve3=function(){function e(){}var t=new a.Vector3,n=new e,r=new e,i=new e;return e.prototype.init=function(e,t,n,r){this.c0=e,this.c1=n,this.c2=-3*e+3*t-2*n-r,this.c3=2*e-2*t+n+r},e.prototype.initNonuniformCatmullRom=function(e,t,n,r,i,o,a){var s=(t-e)/i-(n-e)/(i+o)+(n-t)/o,u=(n-t)/o-(r-t)/(o+a)+(r-n)/a;s*=o,u*=o,this.init(t,n,s,u)},e.prototype.initCatmullRom=function(e,t,n,r,i){this.init(t,n,i*(n-e),i*(r-t))},e.prototype.calc=function(e){var t=e*e,n=t*e;return this.c0+this.c1*e+this.c2*t+this.c3*n},a.Curve.create(function(e){this.points=e||[]},function(e){var o,s,u,c,l=this.points;c=l.length,2>c&&console.log("duh, you need at least 2 points"),o=(c-1)*e,s=Math.floor(o),u=o-s,0===u&&s===c-1&&(s=c-2,u=1);var h,f,p,d;if(0===s?(t.subVectors(l[0],l[1]).add(l[0]),h=t):h=l[s-1],f=l[s],p=l[s+1],c>s+2?d=l[s+2]:(t.subVectors(l[c-1],l[c-2]).add(l[c-2]),d=t),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var v="chordal"===this.type?.5:.25,m=Math.pow(h.distanceToSquared(f),v),g=Math.pow(f.distanceToSquared(p),v),y=Math.pow(p.distanceToSquared(d),v);1e-4>g&&(g=1),1e-4>m&&(m=g),1e-4>y&&(y=g),n.initNonuniformCatmullRom(h.x,f.x,p.x,d.x,m,g,y),r.initNonuniformCatmullRom(h.y,f.y,p.y,d.y,m,g,y),i.initNonuniformCatmullRom(h.z,f.z,p.z,d.z,m,g,y)}else if("catmullrom"===this.type){var b=void 0!==this.tension?this.tension:.5;n.initCatmullRom(h.x,f.x,p.x,d.x,b),r.initCatmullRom(h.y,f.y,p.y,d.y,b),i.initCatmullRom(h.z,f.z,p.z,d.z,b)}var w=new a.Vector3(n.calc(u),r.calc(u),i.calc(u));return w})}(),a.ClosedSplineCurve3=a.Curve.create(function(e){this.points=void 0==e?[]:e},function(e){var t=this.points,n=(t.length-0)*e,r=Math.floor(n),i=n-r;r+=r>0?0:(Math.floor(Math.abs(r)/t.length)+1)*t.length;var o=t[(r-1)%t.length],s=t[r%t.length],u=t[(r+1)%t.length],c=t[(r+2)%t.length],l=a.CurveUtils.interpolate;return new a.Vector3(l(o.x,s.x,u.x,c.x,i),l(o.y,s.y,u.y,c.y,i),l(o.z,s.z,u.z,c.z,i))}),a.BoxGeometry=function(e,t,n,r,i,o){function s(e,t,n,r,i,o,s,c){var l,h,f,p=u.widthSegments,d=u.heightSegments,v=i/2,m=o/2,g=u.vertices.length;"x"===e&&"y"===t||"y"===e&&"x"===t?l="z":"x"===e&&"z"===t||"z"===e&&"x"===t?(l="y",d=u.depthSegments):("z"===e&&"y"===t||"y"===e&&"z"===t)&&(l="x",p=u.depthSegments);var y=p+1,b=d+1,w=i/p,x=o/d,_=new a.Vector3;for(_[l]=s>0?1:-1,f=0;b>f;f++)for(h=0;y>h;h++){var E=new a.Vector3;E[e]=(h*w-v)*n,E[t]=(f*x-m)*r,E[l]=s,u.vertices.push(E)}for(f=0;d>f;f++)for(h=0;p>h;h++){var S=h+y*f,M=h+y*(f+1),T=h+1+y*(f+1),C=h+1+y*f,A=new a.Vector2(h/p,1-f/d),k=new a.Vector2(h/p,1-(f+1)/d),P=new a.Vector2((h+1)/p,1-(f+1)/d),O=new a.Vector2((h+1)/p,1-f/d),D=new a.Face3(S+g,M+g,C+g);D.normal.copy(_),D.vertexNormals.push(_.clone(),_.clone(),_.clone()),D.materialIndex=c,u.faces.push(D),u.faceVertexUvs[0].push([A,k,O]),D=new a.Face3(M+g,T+g,C+g),D.normal.copy(_),D.vertexNormals.push(_.clone(),_.clone(),_.clone()),D.materialIndex=c,u.faces.push(D),u.faceVertexUvs[0].push([k.clone(),P,O.clone()])}}a.Geometry.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.widthSegments=r||1,this.heightSegments=i||1,this.depthSegments=o||1;var u=this,c=e/2,l=t/2,h=n/2;s("z","y",-1,-1,n,t,c,0),s("z","y",1,-1,n,t,-c,1),s("x","z",1,1,e,n,l,2),s("x","z",1,-1,e,n,-l,3),s("x","y",1,-1,e,t,h,4),s("x","y",-1,-1,e,t,-h,5),this.mergeVertices()},a.BoxGeometry.prototype=Object.create(a.Geometry.prototype),a.BoxGeometry.prototype.constructor=a.BoxGeometry,a.BoxGeometry.prototype.clone=function(){var e=this.parameters;return new a.BoxGeometry(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)},a.CubeGeometry=a.BoxGeometry,a.CircleGeometry=function(e,t,n,r){a.Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new a.CircleBufferGeometry(e,t,n,r))},a.CircleGeometry.prototype=Object.create(a.Geometry.prototype),a.CircleGeometry.prototype.constructor=a.CircleGeometry,a.CircleGeometry.prototype.clone=function(){var e=this.parameters;return new a.CircleGeometry(e.radius,e.segments,e.thetaStart,e.thetaLength)},a.CircleBufferGeometry=function(e,t,n,r){a.BufferGeometry.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||50,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i=t+2,o=new Float32Array(3*i),s=new Float32Array(3*i),u=new Float32Array(2*i);s[2]=1,u[0]=.5,u[1]=.5;for(var c=0,l=3,h=2;t>=c;c++,l+=3,h+=2){var f=n+c/t*r;o[l]=e*Math.cos(f),o[l+1]=e*Math.sin(f),s[l+2]=1,u[h]=(o[l]/e+1)/2,u[h+1]=(o[l+1]/e+1)/2}for(var p=[],l=1;t>=l;l++)p.push(l,l+1,0);this.setIndex(new a.BufferAttribute(new Uint16Array(p),1)),this.addAttribute("position",new a.BufferAttribute(o,3)),this.addAttribute("normal",new a.BufferAttribute(s,3)),this.addAttribute("uv",new a.BufferAttribute(u,2)),this.boundingSphere=new a.Sphere(new a.Vector3,e)},a.CircleBufferGeometry.prototype=Object.create(a.BufferGeometry.prototype),a.CircleBufferGeometry.prototype.constructor=a.CircleBufferGeometry,a.CircleBufferGeometry.prototype.clone=function(){var e=this.parameters;return new a.CircleBufferGeometry(e.radius,e.segments,e.thetaStart,e.thetaLength)},a.CylinderGeometry=function(e,t,n,r,i,o,s,u){a.Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:u},e=void 0!==e?e:20,t=void 0!==t?t:20,n=void 0!==n?n:100,r=r||8,i=i||1,o=void 0!==o?o:!1,s=void 0!==s?s:0,u=void 0!==u?u:2*Math.PI;var c,l,h=n/2,f=[],p=[];for(l=0;i>=l;l++){var d=[],v=[],m=l/i,g=m*(t-e)+e;for(c=0;r>=c;c++){var y=c/r,b=new a.Vector3;b.x=g*Math.sin(y*u+s),b.y=-m*n+h,b.z=g*Math.cos(y*u+s),this.vertices.push(b),d.push(this.vertices.length-1),v.push(new a.Vector2(y,1-m))}f.push(d),p.push(v)}var w,x,_=(t-e)/n;for(c=0;r>c;c++)for(0!==e?(w=this.vertices[f[0][c]].clone(),x=this.vertices[f[0][c+1]].clone()):(w=this.vertices[f[1][c]].clone(),x=this.vertices[f[1][c+1]].clone()),w.setY(Math.sqrt(w.x*w.x+w.z*w.z)*_).normalize(),x.setY(Math.sqrt(x.x*x.x+x.z*x.z)*_).normalize(),l=0;i>l;l++){var E=f[l][c],S=f[l+1][c],M=f[l+1][c+1],T=f[l][c+1],C=w.clone(),A=w.clone(),k=x.clone(),P=x.clone(),O=p[l][c].clone(),D=p[l+1][c].clone(),R=p[l+1][c+1].clone(),L=p[l][c+1].clone();this.faces.push(new a.Face3(E,S,T,[C,A,P])),this.faceVertexUvs[0].push([O,D,L]),this.faces.push(new a.Face3(S,M,T,[A.clone(),k,P.clone()])),this.faceVertexUvs[0].push([D.clone(),R,L.clone()])}if(o===!1&&e>0)for(this.vertices.push(new a.Vector3(0,h,0)),c=0;r>c;c++){var E=f[0][c],S=f[0][c+1],M=this.vertices.length-1,C=new a.Vector3(0,1,0),A=new a.Vector3(0,1,0),k=new a.Vector3(0,1,0),O=p[0][c].clone(),D=p[0][c+1].clone(),R=new a.Vector2(D.x,0);this.faces.push(new a.Face3(E,S,M,[C,A,k],void 0,1)),this.faceVertexUvs[0].push([O,D,R])}if(o===!1&&t>0)for(this.vertices.push(new a.Vector3(0,-h,0)),c=0;r>c;c++){var E=f[i][c+1],S=f[i][c],M=this.vertices.length-1,C=new a.Vector3(0,-1,0),A=new a.Vector3(0,-1,0),k=new a.Vector3(0,-1,0),O=p[i][c+1].clone(),D=p[i][c].clone(),R=new a.Vector2(D.x,1);this.faces.push(new a.Face3(E,S,M,[C,A,k],void 0,2)),this.faceVertexUvs[0].push([O,D,R])}this.computeFaceNormals()},a.CylinderGeometry.prototype=Object.create(a.Geometry.prototype),a.CylinderGeometry.prototype.constructor=a.CylinderGeometry,a.CylinderGeometry.prototype.clone=function(){var e=this.parameters;return new a.CylinderGeometry(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)},a.EdgesGeometry=function(e,t){function n(e,t){return e-t}a.BufferGeometry.call(this),t=void 0!==t?t:1;var r,i=Math.cos(a.Math.degToRad(t)),o=[0,0],s={},u=["a","b","c"];e instanceof a.BufferGeometry?(r=new a.Geometry,r.fromBufferGeometry(e)):r=e.clone(),r.mergeVertices(),r.computeFaceNormals();for(var c=r.vertices,l=r.faces,h=0,f=l.length;f>h;h++)for(var p=l[h],d=0;3>d;d++){o[0]=p[u[d]],o[1]=p[u[(d+1)%3]],o.sort(n);var v=o.toString();void 0===s[v]?s[v]={vert1:o[0],vert2:o[1],face1:h,face2:void 0}:s[v].face2=h}var m=[];for(var v in s){var g=s[v];if(void 0===g.face2||l[g.face1].normal.dot(l[g.face2].normal)<=i){var y=c[g.vert1];m.push(y.x),m.push(y.y),m.push(y.z),y=c[g.vert2],m.push(y.x),m.push(y.y),m.push(y.z)}}this.addAttribute("position",new a.BufferAttribute(new Float32Array(m),3))},a.EdgesGeometry.prototype=Object.create(a.BufferGeometry.prototype),a.EdgesGeometry.prototype.constructor=a.EdgesGeometry,a.ExtrudeGeometry=function(e,t){return"undefined"==typeof e?void(e=[]):(a.Geometry.call(this),this.type="ExtrudeGeometry",e=Array.isArray(e)?e:[e],this.addShapeList(e,t),void this.computeFaceNormals())},a.ExtrudeGeometry.prototype=Object.create(a.Geometry.prototype),a.ExtrudeGeometry.prototype.constructor=a.ExtrudeGeometry,a.ExtrudeGeometry.prototype.addShapeList=function(e,t){for(var n=e.length,r=0;n>r;r++){var i=e[r];this.addShape(i,t)}},a.ExtrudeGeometry.prototype.addShape=function(e,t){function n(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}function r(e,t,n){var r,i,o=1,s=e.x-t.x,u=e.y-t.y,c=n.x-e.x,l=n.y-e.y,h=s*s+u*u,f=s*l-u*c;if(Math.abs(f)>Number.EPSILON){var p=Math.sqrt(h),d=Math.sqrt(c*c+l*l),v=t.x-u/p,m=t.y+s/p,g=n.x-l/d,y=n.y+c/d,b=((g-v)*l-(y-m)*c)/(s*l-u*c);r=v+s*b-e.x,i=m+u*b-e.y;var w=r*r+i*i;if(2>=w)return new a.Vector2(r,i);o=Math.sqrt(w/2)}else{var x=!1;s>Number.EPSILON?c>Number.EPSILON&&(x=!0):s<-Number.EPSILON?c<-Number.EPSILON&&(x=!0):Math.sign(u)===Math.sign(l)&&(x=!0),x?(r=-u,i=s,o=Math.sqrt(h)):(r=s,i=u,o=Math.sqrt(h/2))}return new a.Vector2(r/o,i/o)}function i(){if(w){var e=0,t=W*e;for(z=0;G>z;z++)V=F[z],c(V[2]+t,V[1]+t,V[0]+t);for(e=_+2*b,t=W*e,z=0;G>z;z++)V=F[z],c(V[0]+t,V[1]+t,V[2]+t)}else{for(z=0;G>z;z++)V=F[z],c(V[2],V[1],V[0]);for(z=0;G>z;z++)V=F[z],c(V[0]+W*_,V[1]+W*_,V[2]+W*_)}}function o(){var e=0;for(s(j,e),e+=j.length,C=0,A=R.length;A>C;C++)T=R[C],s(T,e),e+=T.length}function s(e,t){var n,r;for(z=e.length;--z>=0;){n=z,r=z-1,0>r&&(r=e.length-1);var i=0,o=_+2*b;for(i=0;o>i;i++){var a=W*i,s=W*(i+1),u=t+n+a,c=t+r+a,h=t+r+s,f=t+n+s;l(u,c,h,f,e,i,o,n,r)}}}function u(e,t,n){k.vertices.push(new a.Vector3(e,t,n))}function c(e,t,n){e+=P,t+=P,n+=P,k.faces.push(new a.Face3(e,t,n,null,null,0));var r=M.generateTopUV(k,e,t,n);k.faceVertexUvs[0].push(r)}function l(e,t,n,r,i,o,s,u,c){e+=P,t+=P,n+=P,r+=P,k.faces.push(new a.Face3(e,t,r,null,null,1)),k.faces.push(new a.Face3(t,n,r,null,null,1));var l=M.generateSideWallUV(k,e,t,n,r);k.faceVertexUvs[0].push([l[0],l[1],l[3]]),k.faceVertexUvs[0].push([l[1],l[2],l[3]])}var h,f,p,d,v,m=void 0!==t.amount?t.amount:100,g=void 0!==t.bevelThickness?t.bevelThickness:6,y=void 0!==t.bevelSize?t.bevelSize:g-2,b=void 0!==t.bevelSegments?t.bevelSegments:3,w=void 0!==t.bevelEnabled?t.bevelEnabled:!0,x=void 0!==t.curveSegments?t.curveSegments:12,_=void 0!==t.steps?t.steps:1,E=t.extrudePath,S=!1,M=void 0!==t.UVGenerator?t.UVGenerator:a.ExtrudeGeometry.WorldUVGenerator;E&&(h=E.getSpacedPoints(_),S=!0,w=!1,f=void 0!==t.frames?t.frames:new a.TubeGeometry.FrenetFrames(E,_,!1),p=new a.Vector3,d=new a.Vector3,v=new a.Vector3),w||(b=0,g=0,y=0);var T,C,A,k=this,P=this.vertices.length,O=e.extractPoints(x),D=O.shape,R=O.holes,L=!a.ShapeUtils.isClockWise(D);if(L){for(D=D.reverse(),C=0,A=R.length;A>C;C++)T=R[C],a.ShapeUtils.isClockWise(T)&&(R[C]=T.reverse());L=!1}var F=a.ShapeUtils.triangulateShape(D,R),j=D;for(C=0,A=R.length;A>C;C++)T=R[C],D=D.concat(T);for(var N,I,U,B,$,V,W=D.length,G=F.length,H=[],z=0,q=j.length,X=q-1,K=z+1;q>z;z++,X++,K++)X===q&&(X=0),K===q&&(K=0),H[z]=r(j[z],j[X],j[K]);var Y,Q=[],J=H.concat();for(C=0,A=R.length;A>C;C++){for(T=R[C],Y=[],z=0,q=T.length,X=q-1,K=z+1;q>z;z++,X++,K++)X===q&&(X=0),K===q&&(K=0),Y[z]=r(T[z],T[X],T[K]);Q.push(Y),J=J.concat(Y)}for(N=0;b>N;N++){for(U=N/b,B=g*(1-U),I=y*Math.sin(U*Math.PI/2),z=0,q=j.length;q>z;z++)$=n(j[z],H[z],I),u($.x,$.y,-B);for(C=0,A=R.length;A>C;C++)for(T=R[C],Y=Q[C],z=0,q=T.length;q>z;z++)$=n(T[z],Y[z],I),u($.x,$.y,-B)}for(I=y,z=0;W>z;z++)$=w?n(D[z],J[z],I):D[z],S?(d.copy(f.normals[0]).multiplyScalar($.x),p.copy(f.binormals[0]).multiplyScalar($.y),v.copy(h[0]).add(d).add(p),u(v.x,v.y,v.z)):u($.x,$.y,0);var Z;for(Z=1;_>=Z;Z++)for(z=0;W>z;z++)$=w?n(D[z],J[z],I):D[z],S?(d.copy(f.normals[Z]).multiplyScalar($.x),p.copy(f.binormals[Z]).multiplyScalar($.y),v.copy(h[Z]).add(d).add(p),u(v.x,v.y,v.z)):u($.x,$.y,m/_*Z);for(N=b-1;N>=0;N--){for(U=N/b,B=g*(1-U),I=y*Math.sin(U*Math.PI/2),z=0,q=j.length;q>z;z++)$=n(j[z],H[z],I),u($.x,$.y,m+B);for(C=0,A=R.length;A>C;C++)for(T=R[C],Y=Q[C],z=0,q=T.length;q>z;z++)$=n(T[z],Y[z],I),S?u($.x,$.y+h[_-1].y,h[_-1].x+B):u($.x,$.y,m+B)}i(),o()},a.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(e,t,n,r){var i=e.vertices,o=i[t],s=i[n],u=i[r];return[new a.Vector2(o.x,o.y),new a.Vector2(s.x,s.y),new a.Vector2(u.x,u.y)]},generateSideWallUV:function(e,t,n,r,i){var o=e.vertices,s=o[t],u=o[n],c=o[r],l=o[i];return Math.abs(s.y-u.y)<.01?[new a.Vector2(s.x,1-s.z),new a.Vector2(u.x,1-u.z),new a.Vector2(c.x,1-c.z),new a.Vector2(l.x,1-l.z)]:[new a.Vector2(s.y,1-s.z),new a.Vector2(u.y,1-u.z),new a.Vector2(c.y,1-c.z),new a.Vector2(l.y,1-l.z)]}},a.ShapeGeometry=function(e,t){a.Geometry.call(this),this.type="ShapeGeometry",Array.isArray(e)===!1&&(e=[e]),this.addShapeList(e,t),this.computeFaceNormals()},a.ShapeGeometry.prototype=Object.create(a.Geometry.prototype),a.ShapeGeometry.prototype.constructor=a.ShapeGeometry,a.ShapeGeometry.prototype.addShapeList=function(e,t){for(var n=0,r=e.length;r>n;n++)this.addShape(e[n],t);return this},a.ShapeGeometry.prototype.addShape=function(e,t){void 0===t&&(t={});var n,r,i,o=void 0!==t.curveSegments?t.curveSegments:12,s=t.material,u=void 0===t.UVGenerator?a.ExtrudeGeometry.WorldUVGenerator:t.UVGenerator,c=this.vertices.length,l=e.extractPoints(o),h=l.shape,f=l.holes,p=!a.ShapeUtils.isClockWise(h);if(p){for(h=h.reverse(),n=0,r=f.length;r>n;n++)i=f[n],a.ShapeUtils.isClockWise(i)&&(f[n]=i.reverse());p=!1}var d=a.ShapeUtils.triangulateShape(h,f);for(n=0,r=f.length;r>n;n++)i=f[n],h=h.concat(i);var v,m,g=h.length,y=d.length;for(n=0;g>n;n++)v=h[n],this.vertices.push(new a.Vector3(v.x,v.y,0));for(n=0;y>n;n++){m=d[n];var b=m[0]+c,w=m[1]+c,x=m[2]+c;this.faces.push(new a.Face3(b,w,x,null,null,s)),this.faceVertexUvs[0].push(u.generateTopUV(this,b,w,x))}},a.LatheGeometry=function(e,t,n,r){a.Geometry.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=t||12,n=n||0,r=r||2*Math.PI;for(var i=1/(e.length-1),o=1/t,s=0,u=t;u>=s;s++)for(var c=n+s*o*r,l=Math.cos(c),h=Math.sin(c),f=0,p=e.length;p>f;f++){var d=e[f],v=new a.Vector3;v.x=l*d.x-h*d.y,v.y=h*d.x+l*d.y,v.z=d.z,this.vertices.push(v)}for(var m=e.length,s=0,u=t;u>s;s++)for(var f=0,p=e.length-1;p>f;f++){var g=f+m*s,y=g,b=g+m,l=g+1+m,w=g+1,x=s*o,_=f*i,E=x+o,S=_+i;this.faces.push(new a.Face3(y,b,w)),this.faceVertexUvs[0].push([new a.Vector2(x,_),new a.Vector2(E,_),new a.Vector2(x,S)]),this.faces.push(new a.Face3(b,l,w)),this.faceVertexUvs[0].push([new a.Vector2(E,_),new a.Vector2(E,S),new a.Vector2(x,S)])}this.mergeVertices(),this.computeFaceNormals(),this.computeVertexNormals()},a.LatheGeometry.prototype=Object.create(a.Geometry.prototype),a.LatheGeometry.prototype.constructor=a.LatheGeometry,a.PlaneGeometry=function(e,t,n,r){a.Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new a.PlaneBufferGeometry(e,t,n,r))},a.PlaneGeometry.prototype=Object.create(a.Geometry.prototype),a.PlaneGeometry.prototype.constructor=a.PlaneGeometry,a.PlaneGeometry.prototype.clone=function(){var e=this.parameters;return new a.PlaneGeometry(e.width,e.height,e.widthSegments,e.heightSegments)},a.PlaneBufferGeometry=function(e,t,n,r){a.BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};for(var i=e/2,o=t/2,s=Math.floor(n)||1,u=Math.floor(r)||1,c=s+1,l=u+1,h=e/s,f=t/u,p=new Float32Array(c*l*3),d=new Float32Array(c*l*3),v=new Float32Array(c*l*2),m=0,g=0,y=0;l>y;y++)for(var b=y*f-o,w=0;c>w;w++){var x=w*h-i;p[m]=x,p[m+1]=-b,d[m+2]=1,v[g]=w/s,v[g+1]=1-y/u,m+=3,g+=2}m=0;for(var _=new(p.length/3>65535?Uint32Array:Uint16Array)(s*u*6),y=0;u>y;y++)for(var w=0;s>w;w++){var E=w+c*y,S=w+c*(y+1),M=w+1+c*(y+1),T=w+1+c*y;_[m]=E,_[m+1]=S,_[m+2]=T,_[m+3]=S,_[m+4]=M,_[m+5]=T,m+=6}this.setIndex(new a.BufferAttribute(_,1)),this.addAttribute("position",new a.BufferAttribute(p,3)),this.addAttribute("normal",new a.BufferAttribute(d,3)),this.addAttribute("uv",new a.BufferAttribute(v,2))},a.PlaneBufferGeometry.prototype=Object.create(a.BufferGeometry.prototype),a.PlaneBufferGeometry.prototype.constructor=a.PlaneBufferGeometry,a.PlaneBufferGeometry.prototype.clone=function(){var e=this.parameters;return new a.PlaneBufferGeometry(e.width,e.height,e.widthSegments,e.heightSegments)},a.RingGeometry=function(e,t,n,r,i,o){a.Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},e=e||0,t=t||50,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8,r=void 0!==r?Math.max(1,r):8;var s,u,c=[],l=e,h=(t-e)/r;for(s=0;r+1>s;s++){for(u=0;n+1>u;u++){var f=new a.Vector3,p=i+u/n*o;f.x=l*Math.cos(p),f.y=l*Math.sin(p),this.vertices.push(f),c.push(new a.Vector2((f.x/t+1)/2,(f.y/t+1)/2))}l+=h}var d=new a.Vector3(0,0,1);for(s=0;r>s;s++){var v=s*(n+1);for(u=0;n>u;u++){var p=u+v,m=p,g=p+n+1,y=p+n+2;this.faces.push(new a.Face3(m,g,y,[d.clone(),d.clone(),d.clone()])),this.faceVertexUvs[0].push([c[m].clone(),c[g].clone(),c[y].clone()]),
m=p,g=p+n+2,y=p+1,this.faces.push(new a.Face3(m,g,y,[d.clone(),d.clone(),d.clone()])),this.faceVertexUvs[0].push([c[m].clone(),c[g].clone(),c[y].clone()])}}this.computeFaceNormals(),this.boundingSphere=new a.Sphere(new a.Vector3,l)},a.RingGeometry.prototype=Object.create(a.Geometry.prototype),a.RingGeometry.prototype.constructor=a.RingGeometry,a.RingGeometry.prototype.clone=function(){var e=this.parameters;return new a.RingGeometry(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)},a.SphereGeometry=function(e,t,n,r,i,o,s){a.Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new a.SphereBufferGeometry(e,t,n,r,i,o,s))},a.SphereGeometry.prototype=Object.create(a.Geometry.prototype),a.SphereGeometry.prototype.constructor=a.SphereGeometry,a.SphereGeometry.prototype.clone=function(){var e=this.parameters;return new a.SphereGeometry(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)},a.SphereBufferGeometry=function(e,t,n,r,i,o,s){a.BufferGeometry.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:s},e=e||50,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,s=void 0!==s?s:Math.PI;for(var u=o+s,c=(t+1)*(n+1),l=new a.BufferAttribute(new Float32Array(3*c),3),h=new a.BufferAttribute(new Float32Array(3*c),3),f=new a.BufferAttribute(new Float32Array(2*c),2),p=0,d=[],v=new a.Vector3,m=0;n>=m;m++){for(var g=[],y=m/n,b=0;t>=b;b++){var w=b/t,x=-e*Math.cos(r+w*i)*Math.sin(o+y*s),_=e*Math.cos(o+y*s),E=e*Math.sin(r+w*i)*Math.sin(o+y*s);v.set(x,_,E).normalize(),l.setXYZ(p,x,_,E),h.setXYZ(p,v.x,v.y,v.z),f.setXY(p,w,1-y),g.push(p),p++}d.push(g)}for(var S=[],m=0;n>m;m++)for(var b=0;t>b;b++){var M=d[m][b+1],T=d[m][b],C=d[m+1][b],A=d[m+1][b+1];(0!==m||o>0)&&S.push(M,T,A),(m!==n-1||u<Math.PI)&&S.push(T,C,A)}this.setIndex(new(l.count>65535?a.Uint32Attribute:a.Uint16Attribute)(S,1)),this.addAttribute("position",l),this.addAttribute("normal",h),this.addAttribute("uv",f),this.boundingSphere=new a.Sphere(new a.Vector3,e)},a.SphereBufferGeometry.prototype=Object.create(a.BufferGeometry.prototype),a.SphereBufferGeometry.prototype.constructor=a.SphereBufferGeometry,a.SphereBufferGeometry.prototype.clone=function(){var e=this.parameters;return new a.SphereBufferGeometry(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)},a.TorusGeometry=function(e,t,n,r,i){a.Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||100,t=t||40,n=n||8,r=r||6,i=i||2*Math.PI;for(var o=new a.Vector3,s=[],u=[],c=0;n>=c;c++)for(var l=0;r>=l;l++){var h=l/r*i,f=c/n*Math.PI*2;o.x=e*Math.cos(h),o.y=e*Math.sin(h);var p=new a.Vector3;p.x=(e+t*Math.cos(f))*Math.cos(h),p.y=(e+t*Math.cos(f))*Math.sin(h),p.z=t*Math.sin(f),this.vertices.push(p),s.push(new a.Vector2(l/r,c/n)),u.push(p.clone().sub(o).normalize())}for(var c=1;n>=c;c++)for(var l=1;r>=l;l++){var d=(r+1)*c+l-1,v=(r+1)*(c-1)+l-1,m=(r+1)*(c-1)+l,g=(r+1)*c+l,y=new a.Face3(d,v,g,[u[d].clone(),u[v].clone(),u[g].clone()]);this.faces.push(y),this.faceVertexUvs[0].push([s[d].clone(),s[v].clone(),s[g].clone()]),y=new a.Face3(v,m,g,[u[v].clone(),u[m].clone(),u[g].clone()]),this.faces.push(y),this.faceVertexUvs[0].push([s[v].clone(),s[m].clone(),s[g].clone()])}this.computeFaceNormals()},a.TorusGeometry.prototype=Object.create(a.Geometry.prototype),a.TorusGeometry.prototype.constructor=a.TorusGeometry,a.TorusGeometry.prototype.clone=function(){var e=this.parameters;return new a.TorusGeometry(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)},a.TorusKnotGeometry=function(e,t,n,r,i,o,s){function u(e,t,n,r,i){var o=Math.cos(e),s=Math.sin(e),u=t/n*e,c=Math.cos(u),l=r*(2+c)*.5*o,h=r*(2+c)*s*.5,f=i*r*Math.sin(u)*.5;return new a.Vector3(l,h,f)}a.Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,p:i,q:o,heightScale:s},e=e||100,t=t||40,n=n||64,r=r||8,i=i||2,o=o||3,s=s||1;for(var c=new Array(n),l=new a.Vector3,h=new a.Vector3,f=new a.Vector3,p=0;n>p;++p){c[p]=new Array(r);var d=p/n*2*i*Math.PI,v=u(d,o,i,e,s),m=u(d+.01,o,i,e,s);l.subVectors(m,v),h.addVectors(m,v),f.crossVectors(l,h),h.crossVectors(f,l),f.normalize(),h.normalize();for(var g=0;r>g;++g){var y=g/r*2*Math.PI,b=-t*Math.cos(y),w=t*Math.sin(y),x=new a.Vector3;x.x=v.x+b*h.x+w*f.x,x.y=v.y+b*h.y+w*f.y,x.z=v.z+b*h.z+w*f.z,c[p][g]=this.vertices.push(x)-1}}for(var p=0;n>p;++p)for(var g=0;r>g;++g){var _=(p+1)%n,E=(g+1)%r,S=c[p][g],M=c[_][g],T=c[_][E],C=c[p][E],A=new a.Vector2(p/n,g/r),k=new a.Vector2((p+1)/n,g/r),P=new a.Vector2((p+1)/n,(g+1)/r),O=new a.Vector2(p/n,(g+1)/r);this.faces.push(new a.Face3(S,M,C)),this.faceVertexUvs[0].push([A,k,O]),this.faces.push(new a.Face3(M,T,C)),this.faceVertexUvs[0].push([k.clone(),P,O.clone()])}this.computeFaceNormals(),this.computeVertexNormals()},a.TorusKnotGeometry.prototype=Object.create(a.Geometry.prototype),a.TorusKnotGeometry.prototype.constructor=a.TorusKnotGeometry,a.TorusKnotGeometry.prototype.clone=function(){var e=this.parameters;return new a.TorusKnotGeometry(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.p,e.q,e.heightScale)},a.TubeGeometry=function(e,t,n,r,i,o){function s(e,t,n){return P.vertices.push(new a.Vector3(e,t,n))-1}a.Geometry.call(this),this.type="TubeGeometry",this.parameters={path:e,segments:t,radius:n,radialSegments:r,closed:i,taper:o},t=t||64,n=n||1,r=r||8,i=i||!1,o=o||a.TubeGeometry.NoTaper;var u,c,l,h,f,p,d,v,m,g,y,b,w,x,_,E,S,M,T,C,A,k=[],P=this,O=t+1,D=new a.Vector3,R=new a.TubeGeometry.FrenetFrames(e,t,i),L=R.tangents,F=R.normals,j=R.binormals;for(this.tangents=L,this.normals=F,this.binormals=j,g=0;O>g;g++)for(k[g]=[],h=g/(O-1),m=e.getPointAt(h),u=L[g],c=F[g],l=j[g],p=n*o(h),y=0;r>y;y++)f=y/r*2*Math.PI,d=-p*Math.cos(f),v=p*Math.sin(f),D.copy(m),D.x+=d*c.x+v*l.x,D.y+=d*c.y+v*l.y,D.z+=d*c.z+v*l.z,k[g][y]=s(D.x,D.y,D.z);for(g=0;t>g;g++)for(y=0;r>y;y++)b=i?(g+1)%t:g+1,w=(y+1)%r,x=k[g][y],_=k[b][y],E=k[b][w],S=k[g][w],M=new a.Vector2(g/t,y/r),T=new a.Vector2((g+1)/t,y/r),C=new a.Vector2((g+1)/t,(y+1)/r),A=new a.Vector2(g/t,(y+1)/r),this.faces.push(new a.Face3(x,_,S)),this.faceVertexUvs[0].push([M,T,A]),this.faces.push(new a.Face3(_,E,S)),this.faceVertexUvs[0].push([T.clone(),C,A.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},a.TubeGeometry.prototype=Object.create(a.Geometry.prototype),a.TubeGeometry.prototype.constructor=a.TubeGeometry,a.TubeGeometry.prototype.clone=function(){return new this.constructor(this.parameters.path,this.parameters.segments,this.parameters.radius,this.parameters.radialSegments,this.parameters.closed,this.parameters.taper)},a.TubeGeometry.NoTaper=function(e){return 1},a.TubeGeometry.SinusoidalTaper=function(e){return Math.sin(Math.PI*e)},a.TubeGeometry.FrenetFrames=function(e,t,n){function r(){d[0]=new a.Vector3,v[0]=new a.Vector3,o=Number.MAX_VALUE,s=Math.abs(p[0].x),u=Math.abs(p[0].y),c=Math.abs(p[0].z),o>=s&&(o=s,f.set(1,0,0)),o>=u&&(o=u,f.set(0,1,0)),o>=c&&f.set(0,0,1),m.crossVectors(p[0],f).normalize(),d[0].crossVectors(p[0],m),v[0].crossVectors(p[0],d[0])}var i,o,s,u,c,l,h,f=new a.Vector3,p=[],d=[],v=[],m=new a.Vector3,g=new a.Matrix4,y=t+1;for(this.tangents=p,this.normals=d,this.binormals=v,l=0;y>l;l++)h=l/(y-1),p[l]=e.getTangentAt(h),p[l].normalize();for(r(),l=1;y>l;l++)d[l]=d[l-1].clone(),v[l]=v[l-1].clone(),m.crossVectors(p[l-1],p[l]),m.length()>Number.EPSILON&&(m.normalize(),i=Math.acos(a.Math.clamp(p[l-1].dot(p[l]),-1,1)),d[l].applyMatrix4(g.makeRotationAxis(m,i))),v[l].crossVectors(p[l],d[l]);if(n)for(i=Math.acos(a.Math.clamp(d[0].dot(d[y-1]),-1,1)),i/=y-1,p[0].dot(m.crossVectors(d[0],d[y-1]))>0&&(i=-i),l=1;y>l;l++)d[l].applyMatrix4(g.makeRotationAxis(p[l],i*l)),v[l].crossVectors(p[l],d[l])},a.PolyhedronGeometry=function(e,t,n,r){function i(e){var t=e.normalize().clone();t.index=h.vertices.push(t)-1;var n=u(e)/2/Math.PI+.5,r=c(e)/Math.PI+.5;return t.uv=new a.Vector2(n,1-r),t}function o(e,t,n,r){var i=new a.Face3(e.index,t.index,n.index,[e.clone(),t.clone(),n.clone()],void 0,r);h.faces.push(i),w.copy(e).add(t).add(n).divideScalar(3);var o=u(w);h.faceVertexUvs[0].push([l(e.uv,e,o),l(t.uv,t,o),l(n.uv,n,o)])}function s(e,t){for(var n=Math.pow(2,t),r=i(h.vertices[e.a]),a=i(h.vertices[e.b]),s=i(h.vertices[e.c]),u=[],c=e.materialIndex,l=0;n>=l;l++){u[l]=[];for(var f=i(r.clone().lerp(s,l/n)),p=i(a.clone().lerp(s,l/n)),d=n-l,v=0;d>=v;v++)0===v&&l===n?u[l][v]=f:u[l][v]=i(f.clone().lerp(p,v/d))}for(var l=0;n>l;l++)for(var v=0;2*(n-l)-1>v;v++){var m=Math.floor(v/2);v%2===0?o(u[l][m+1],u[l+1][m],u[l][m],c):o(u[l][m+1],u[l+1][m+1],u[l+1][m],c)}}function u(e){return Math.atan2(e.z,-e.x)}function c(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}function l(e,t,n){return 0>n&&1===e.x&&(e=new a.Vector2(e.x-1,e.y)),0===t.x&&0===t.z&&(e=new a.Vector2(n/2/Math.PI+.5,e.y)),e.clone()}a.Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1,r=r||0;for(var h=this,f=0,p=e.length;p>f;f+=3)i(new a.Vector3(e[f],e[f+1],e[f+2]));for(var d=this.vertices,v=[],f=0,m=0,p=t.length;p>f;f+=3,m++){var g=d[t[f]],y=d[t[f+1]],b=d[t[f+2]];v[m]=new a.Face3(g.index,y.index,b.index,[g.clone(),y.clone(),b.clone()],void 0,m)}for(var w=new a.Vector3,f=0,p=v.length;p>f;f++)s(v[f],r);for(var f=0,p=this.faceVertexUvs[0].length;p>f;f++){var x=this.faceVertexUvs[0][f],_=x[0].x,E=x[1].x,S=x[2].x,M=Math.max(_,E,S),T=Math.min(_,E,S);M>.9&&.1>T&&(.2>_&&(x[0].x+=1),.2>E&&(x[1].x+=1),.2>S&&(x[2].x+=1))}for(var f=0,p=this.vertices.length;p>f;f++)this.vertices[f].multiplyScalar(n);this.mergeVertices(),this.computeFaceNormals(),this.boundingSphere=new a.Sphere(new a.Vector3,n)},a.PolyhedronGeometry.prototype=Object.create(a.Geometry.prototype),a.PolyhedronGeometry.prototype.constructor=a.PolyhedronGeometry,a.PolyhedronGeometry.prototype.clone=function(){var e=this.parameters;return new a.PolyhedronGeometry(e.vertices,e.indices,e.radius,e.detail)},a.DodecahedronGeometry=function(e,t){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];a.PolyhedronGeometry.call(this,i,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}},a.DodecahedronGeometry.prototype=Object.create(a.PolyhedronGeometry.prototype),a.DodecahedronGeometry.prototype.constructor=a.DodecahedronGeometry,a.DodecahedronGeometry.prototype.clone=function(){var e=this.parameters;return new a.DodecahedronGeometry(e.radius,e.detail)},a.IcosahedronGeometry=function(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];a.PolyhedronGeometry.call(this,r,i,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}},a.IcosahedronGeometry.prototype=Object.create(a.PolyhedronGeometry.prototype),a.IcosahedronGeometry.prototype.constructor=a.IcosahedronGeometry,a.IcosahedronGeometry.prototype.clone=function(){var e=this.parameters;return new a.IcosahedronGeometry(e.radius,e.detail)},a.OctahedronGeometry=function(e,t){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];a.PolyhedronGeometry.call(this,n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}},a.OctahedronGeometry.prototype=Object.create(a.PolyhedronGeometry.prototype),a.OctahedronGeometry.prototype.constructor=a.OctahedronGeometry,a.OctahedronGeometry.prototype.clone=function(){var e=this.parameters;return new a.OctahedronGeometry(e.radius,e.detail)},a.TetrahedronGeometry=function(e,t){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];a.PolyhedronGeometry.call(this,n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}},a.TetrahedronGeometry.prototype=Object.create(a.PolyhedronGeometry.prototype),a.TetrahedronGeometry.prototype.constructor=a.TetrahedronGeometry,a.TetrahedronGeometry.prototype.clone=function(){var e=this.parameters;return new a.TetrahedronGeometry(e.radius,e.detail)},a.ParametricGeometry=function(e,t,n){a.Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n};var r,i,o,s,u,c=this.vertices,l=this.faces,h=this.faceVertexUvs[0],f=t+1;for(r=0;n>=r;r++)for(u=r/n,i=0;t>=i;i++)s=i/t,o=e(s,u),c.push(o);var p,d,v,m,g,y,b,w;for(r=0;n>r;r++)for(i=0;t>i;i++)p=r*f+i,d=r*f+i+1,v=(r+1)*f+i+1,m=(r+1)*f+i,g=new a.Vector2(i/t,r/n),y=new a.Vector2((i+1)/t,r/n),b=new a.Vector2((i+1)/t,(r+1)/n),w=new a.Vector2(i/t,(r+1)/n),l.push(new a.Face3(p,d,m)),h.push([g,y,w]),l.push(new a.Face3(d,v,m)),h.push([y.clone(),b,w.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},a.ParametricGeometry.prototype=Object.create(a.Geometry.prototype),a.ParametricGeometry.prototype.constructor=a.ParametricGeometry,a.WireframeGeometry=function(e){function t(e,t){return e-t}a.BufferGeometry.call(this);var n=[0,0],r={},i=["a","b","c"];if(e instanceof a.Geometry){for(var o=e.vertices,s=e.faces,u=0,c=new Uint32Array(6*s.length),l=0,h=s.length;h>l;l++)for(var f=s[l],p=0;3>p;p++){n[0]=f[i[p]],n[1]=f[i[(p+1)%3]],n.sort(t);var d=n.toString();void 0===r[d]&&(c[2*u]=n[0],c[2*u+1]=n[1],r[d]=!0,u++)}for(var v=new Float32Array(2*u*3),l=0,h=u;h>l;l++)for(var p=0;2>p;p++){var m=o[c[2*l+p]],g=6*l+3*p;v[g+0]=m.x,v[g+1]=m.y,v[g+2]=m.z}this.addAttribute("position",new a.BufferAttribute(v,3))}else if(e instanceof a.BufferGeometry)if(null!==e.index){var y=e.index.array,o=e.attributes.position,b=e.drawcalls,u=0;0===b.length&&e.addGroup(0,y.length);for(var c=new Uint32Array(2*y.length),w=0,x=b.length;x>w;++w)for(var _=b[w],E=_.start,S=_.count,l=E,M=E+S;M>l;l+=3)for(var p=0;3>p;p++){n[0]=y[l+p],n[1]=y[l+(p+1)%3],n.sort(t);var d=n.toString();void 0===r[d]&&(c[2*u]=n[0],c[2*u+1]=n[1],r[d]=!0,u++)}for(var v=new Float32Array(2*u*3),l=0,h=u;h>l;l++)for(var p=0;2>p;p++){var g=6*l+3*p,T=c[2*l+p];v[g+0]=o.getX(T),v[g+1]=o.getY(T),v[g+2]=o.getZ(T)}this.addAttribute("position",new a.BufferAttribute(v,3))}else{for(var o=e.attributes.position.array,u=o.length/3,C=u/3,v=new Float32Array(2*u*3),l=0,h=C;h>l;l++)for(var p=0;3>p;p++){var g=18*l+6*p,A=9*l+3*p;v[g+0]=o[A],v[g+1]=o[A+1],v[g+2]=o[A+2];var T=9*l+3*((p+1)%3);v[g+3]=o[T],v[g+4]=o[T+1],v[g+5]=o[T+2]}this.addAttribute("position",new a.BufferAttribute(v,3))}},a.WireframeGeometry.prototype=Object.create(a.BufferGeometry.prototype),a.WireframeGeometry.prototype.constructor=a.WireframeGeometry,a.AxisHelper=function(e){e=e||1;var t=new Float32Array([0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e]),n=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),r=new a.BufferGeometry;r.addAttribute("position",new a.BufferAttribute(t,3)),r.addAttribute("color",new a.BufferAttribute(n,3));var i=new a.LineBasicMaterial({vertexColors:a.VertexColors});a.LineSegments.call(this,r,i)},a.AxisHelper.prototype=Object.create(a.LineSegments.prototype),a.AxisHelper.prototype.constructor=a.AxisHelper,a.ArrowHelper=function(){var e=new a.Geometry;e.vertices.push(new a.Vector3(0,0,0),new a.Vector3(0,1,0));var t=new a.CylinderGeometry(0,.5,1,5,1);return t.translate(0,-.5,0),function(n,r,i,o,s,u){a.Object3D.call(this),void 0===o&&(o=16776960),void 0===i&&(i=1),void 0===s&&(s=.2*i),void 0===u&&(u=.2*s),this.position.copy(r),i>s&&(this.line=new a.Line(e,new a.LineBasicMaterial({color:o})),this.line.matrixAutoUpdate=!1,this.add(this.line)),this.cone=new a.Mesh(t,new a.MeshBasicMaterial({color:o})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(n),this.setLength(i,s,u)}}(),a.ArrowHelper.prototype=Object.create(a.Object3D.prototype),a.ArrowHelper.prototype.constructor=a.ArrowHelper,a.ArrowHelper.prototype.setDirection=function(){var e,t=new a.Vector3;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(n.z,0,-n.x).normalize(),e=Math.acos(n.y),this.quaternion.setFromAxisAngle(t,e))}}(),a.ArrowHelper.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),e>t&&(this.line.scale.set(1,e-t,1),this.line.updateMatrix()),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},a.ArrowHelper.prototype.setColor=function(e){void 0!==this.line&&this.line.material.color.set(e),this.cone.material.color.set(e)},a.BoxHelper=function(e){var t=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),r=new a.BufferGeometry;r.setIndex(new a.BufferAttribute(t,1)),r.addAttribute("position",new a.BufferAttribute(n,3)),a.LineSegments.call(this,r,new a.LineBasicMaterial({color:16776960})),void 0!==e&&this.update(e)},a.BoxHelper.prototype=Object.create(a.LineSegments.prototype),a.BoxHelper.prototype.constructor=a.BoxHelper,a.BoxHelper.prototype.update=function(){var e=new a.Box3;return function(t){if(e.setFromObject(t),!e.empty()){var n=e.min,r=e.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),a.BoundingBoxHelper=function(e,t){var n=void 0!==t?t:8947848;this.object=e,this.box=new a.Box3,a.Mesh.call(this,new a.BoxGeometry(1,1,1),new a.MeshBasicMaterial({color:n,wireframe:!0}))},a.BoundingBoxHelper.prototype=Object.create(a.Mesh.prototype),a.BoundingBoxHelper.prototype.constructor=a.BoundingBoxHelper,a.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object),this.box.size(this.scale),this.box.center(this.position)},a.CameraHelper=function(e){function t(e,t,r){n(e,r),n(t,r)}function n(e,t){r.vertices.push(new a.Vector3),r.colors.push(new a.Color(t)),void 0===o[e]&&(o[e]=[]),o[e].push(r.vertices.length-1)}var r=new a.Geometry,i=new a.LineBasicMaterial({color:16777215,vertexColors:a.FaceColors}),o={},s=16755200,u=16711680,c=43775,l=16777215,h=3355443;t("n1","n2",s),t("n2","n4",s),t("n4","n3",s),t("n3","n1",s),t("f1","f2",s),t("f2","f4",s),t("f4","f3",s),t("f3","f1",s),t("n1","f1",s),t("n2","f2",s),t("n3","f3",s),t("n4","f4",s),t("p","n1",u),t("p","n2",u),t("p","n3",u),t("p","n4",u),t("u1","u2",c),t("u2","u3",c),t("u3","u1",c),t("c","t",l),t("p","c",h),t("cn1","cn2",h),t("cn3","cn4",h),t("cf1","cf2",h),t("cf3","cf4",h),a.LineSegments.call(this,r,i),this.camera=e,this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()},a.CameraHelper.prototype=Object.create(a.LineSegments.prototype),a.CameraHelper.prototype.constructor=a.CameraHelper,a.CameraHelper.prototype.update=function(){function e(e,o,a,s){r.set(o,a,s).unproject(i);var u=n[e];if(void 0!==u)for(var c=0,l=u.length;l>c;c++)t.vertices[u[c]].copy(r)}var t,n,r=new a.Vector3,i=new a.Camera;return function(){t=this.geometry,n=this.pointMap;var r=1,o=1;i.projectionMatrix.copy(this.camera.projectionMatrix),e("c",0,0,-1),e("t",0,0,1),e("n1",-r,-o,-1),e("n2",r,-o,-1),e("n3",-r,o,-1),e("n4",r,o,-1),e("f1",-r,-o,1),e("f2",r,-o,1),e("f3",-r,o,1),e("f4",r,o,1),e("u1",.7*r,1.1*o,-1),e("u2",.7*-r,1.1*o,-1),e("u3",0,2*o,-1),e("cf1",-r,0,1),e("cf2",r,0,1),e("cf3",0,-o,1),e("cf4",0,o,1),e("cn1",-r,0,-1),e("cn2",r,0,-1),e("cn3",0,-o,-1),e("cn4",0,o,-1),t.verticesNeedUpdate=!0}}(),a.DirectionalLightHelper=function(e,t){a.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,t=t||1;var n=new a.Geometry;n.vertices.push(new a.Vector3(-t,t,0),new a.Vector3(t,t,0),new a.Vector3(t,-t,0),new a.Vector3(-t,-t,0),new a.Vector3(-t,t,0));var r=new a.LineBasicMaterial({fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightPlane=new a.Line(n,r),this.add(this.lightPlane),n=new a.Geometry,n.vertices.push(new a.Vector3,new a.Vector3),r=new a.LineBasicMaterial({fog:!1}),r.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine=new a.Line(n,r),this.add(this.targetLine),this.update()},a.DirectionalLightHelper.prototype=Object.create(a.Object3D.prototype),a.DirectionalLightHelper.prototype.constructor=a.DirectionalLightHelper,a.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},a.DirectionalLightHelper.prototype.update=function(){var e=new a.Vector3,t=new a.Vector3,n=new a.Vector3;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e),this.lightPlane.lookAt(n),this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine.geometry.vertices[1].copy(n),this.targetLine.geometry.verticesNeedUpdate=!0,this.targetLine.material.color.copy(this.lightPlane.material.color)}}(),a.EdgesHelper=function(e,t,n){var r=void 0!==t?t:16777215;a.LineSegments.call(this,new a.EdgesGeometry(e.geometry,n),new a.LineBasicMaterial({color:r})),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1},a.EdgesHelper.prototype=Object.create(a.LineSegments.prototype),a.EdgesHelper.prototype.constructor=a.EdgesHelper,a.FaceNormalsHelper=function(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,s=0,u=this.object.geometry;u instanceof a.Geometry?s=u.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var c=new a.BufferGeometry,l=new a.Float32Attribute(2*s*3,3);c.addAttribute("position",l),a.LineSegments.call(this,c,new a.LineBasicMaterial({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()},a.FaceNormalsHelper.prototype=Object.create(a.LineSegments.prototype),a.FaceNormalsHelper.prototype.constructor=a.FaceNormalsHelper,a.FaceNormalsHelper.prototype.update=function(){var e=new a.Vector3,t=new a.Vector3,n=new a.Matrix3;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,u=0,c=0,l=s.length;l>c;c++){var h=s[c],f=h.normal;e.copy(a[h.a]).add(a[h.b]).add(a[h.c]).divideScalar(3).applyMatrix4(r),t.copy(f).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),i.setXYZ(u,e.x,e.y,e.z),u+=1,i.setXYZ(u,t.x,t.y,t.z),u+=1}return i.needsUpdate=!0,this}}(),a.GridHelper=function(e,t){var n=new a.Geometry,r=new a.LineBasicMaterial({vertexColors:a.VertexColors});this.color1=new a.Color(4473924),this.color2=new a.Color(8947848);for(var i=-e;e>=i;i+=t){n.vertices.push(new a.Vector3(-e,0,i),new a.Vector3(e,0,i),new a.Vector3(i,0,-e),new a.Vector3(i,0,e));var o=0===i?this.color1:this.color2;n.colors.push(o,o,o,o)}a.LineSegments.call(this,n,r)},a.GridHelper.prototype=Object.create(a.LineSegments.prototype),a.GridHelper.prototype.constructor=a.GridHelper,a.GridHelper.prototype.setColors=function(e,t){this.color1.set(e),this.color2.set(t),this.geometry.colorsNeedUpdate=!0},a.HemisphereLightHelper=function(e,t){a.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new a.Color,new a.Color];var n=new a.SphereGeometry(t,4,2);n.rotateX(-Math.PI/2);for(var r=0,i=8;i>r;r++)n.faces[r].color=this.colors[4>r?0:1];var o=new a.MeshBasicMaterial({vertexColors:a.FaceColors,wireframe:!0});this.lightSphere=new a.Mesh(n,o),this.add(this.lightSphere),this.update()},a.HemisphereLightHelper.prototype=Object.create(a.Object3D.prototype),a.HemisphereLightHelper.prototype.constructor=a.HemisphereLightHelper,a.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},a.HemisphereLightHelper.prototype.update=function(){var e=new a.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}}(),a.PointLightHelper=function(e,t){this.light=e,this.light.updateMatrixWorld();var n=new a.SphereGeometry(t,4,2),r=new a.MeshBasicMaterial({wireframe:!0,fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),a.Mesh.call(this,n,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1},a.PointLightHelper.prototype=Object.create(a.Mesh.prototype),a.PointLightHelper.prototype.constructor=a.PointLightHelper,a.PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},a.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},a.SkeletonHelper=function(e){this.bones=this.getBoneList(e);for(var t=new a.Geometry,n=0;n<this.bones.length;n++){var r=this.bones[n];r.parent instanceof a.Bone&&(t.vertices.push(new a.Vector3),t.vertices.push(new a.Vector3),t.colors.push(new a.Color(0,0,1)),t.colors.push(new a.Color(0,1,0)))}t.dynamic=!0;var i=new a.LineBasicMaterial({vertexColors:a.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});a.LineSegments.call(this,t,i),this.root=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.update()},a.SkeletonHelper.prototype=Object.create(a.LineSegments.prototype),a.SkeletonHelper.prototype.constructor=a.SkeletonHelper,a.SkeletonHelper.prototype.getBoneList=function(e){var t=[];e instanceof a.Bone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,this.getBoneList(e.children[n]));return t},a.SkeletonHelper.prototype.update=function(){for(var e=this.geometry,t=(new a.Matrix4).getInverse(this.root.matrixWorld),n=new a.Matrix4,r=0,i=0;i<this.bones.length;i++){var o=this.bones[i];o.parent instanceof a.Bone&&(n.multiplyMatrices(t,o.matrixWorld),e.vertices[r].setFromMatrixPosition(n),n.multiplyMatrices(t,o.parent.matrixWorld),e.vertices[r+1].setFromMatrixPosition(n),r+=2)}e.verticesNeedUpdate=!0,e.computeBoundingSphere()},a.SpotLightHelper=function(e){a.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;var t=new a.CylinderGeometry(0,1,1,8,1,!0);t.translate(0,-.5,0),t.rotateX(-Math.PI/2);var n=new a.MeshBasicMaterial({wireframe:!0,fog:!1});this.cone=new a.Mesh(t,n),this.add(this.cone),this.update()},a.SpotLightHelper.prototype=Object.create(a.Object3D.prototype),a.SpotLightHelper.prototype.constructor=a.SpotLightHelper,a.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},a.SpotLightHelper.prototype.update=function(){var e=new a.Vector3,t=new a.Vector3;return function(){var n=this.light.distance?this.light.distance:1e4,r=n*Math.tan(this.light.angle);this.cone.scale.set(r,r,n),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),a.VertexNormalsHelper=function(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,s=0,u=this.object.geometry;u instanceof a.Geometry?s=3*u.faces.length:u instanceof a.BufferGeometry&&(s=u.attributes.normal.count);var c=new a.BufferGeometry,l=new a.Float32Attribute(2*s*3,3);c.addAttribute("position",l),a.LineSegments.call(this,c,new a.LineBasicMaterial({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()},a.VertexNormalsHelper.prototype=Object.create(a.LineSegments.prototype),a.VertexNormalsHelper.prototype.constructor=a.VertexNormalsHelper,a.VertexNormalsHelper.prototype.update=function(){var e=new a.Vector3,t=new a.Vector3,n=new a.Matrix3;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,s=this.object.geometry;if(s instanceof a.Geometry)for(var u=s.vertices,c=s.faces,l=0,h=0,f=c.length;f>h;h++)for(var p=c[h],d=0,v=p.vertexNormals.length;v>d;d++){var m=u[p[r[d]]],g=p.vertexNormals[d];e.copy(m).applyMatrix4(i),t.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(l,e.x,e.y,e.z),l+=1,o.setXYZ(l,t.x,t.y,t.z),l+=1}else if(s instanceof a.BufferGeometry)for(var y=s.attributes.position,b=s.attributes.normal,l=0,d=0,v=y.count;v>d;d++)e.set(y.getX(d),y.getY(d),y.getZ(d)).applyMatrix4(i),t.set(b.getX(d),b.getY(d),b.getZ(d)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),o.setXYZ(l,e.x,e.y,e.z),l+=1,o.setXYZ(l,t.x,t.y,t.z),l+=1;return o.needsUpdate=!0,this}}(),a.WireframeHelper=function(e,t){var n=void 0!==t?t:16777215;a.LineSegments.call(this,new a.WireframeGeometry(e.geometry),new a.LineBasicMaterial({color:n})),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1},a.WireframeHelper.prototype=Object.create(a.LineSegments.prototype),a.WireframeHelper.prototype.constructor=a.WireframeHelper,a.ImmediateRenderObject=function(e){a.Object3D.call(this),this.material=e,this.render=function(e){}},a.ImmediateRenderObject.prototype=Object.create(a.Object3D.prototype),a.ImmediateRenderObject.prototype.constructor=a.ImmediateRenderObject,a.MorphBlendMesh=function(e,t){a.Mesh.call(this,e,t),this.animationsMap={},this.animationsList=[];var n=this.geometry.morphTargets.length,r="__default",i=0,o=n-1,s=n/1;this.createAnimation(r,i,o,s),this.setAnimationWeight(r,1)},a.MorphBlendMesh.prototype=Object.create(a.Mesh.prototype),a.MorphBlendMesh.prototype.constructor=a.MorphBlendMesh,a.MorphBlendMesh.prototype.createAnimation=function(e,t,n,r){var i={start:t,end:n,length:n-t+1,fps:r,duration:(n-t)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[e]=i,this.animationsList.push(i)},a.MorphBlendMesh.prototype.autoCreateAnimations=function(e){for(var t,n=/([a-z]+)_?(\d+)/,r={},i=this.geometry,o=0,a=i.morphTargets.length;a>o;o++){var s=i.morphTargets[o],u=s.name.match(n);if(u&&u.length>1){var c=u[1];r[c]||(r[c]={start:1/0,end:-(1/0)});var l=r[c];o<l.start&&(l.start=o),o>l.end&&(l.end=o),t||(t=c)}}for(var c in r){var l=r[c];this.createAnimation(c,l.start,l.end,e)}this.firstAnimation=t},a.MorphBlendMesh.prototype.setAnimationDirectionForward=function(e){var t=this.animationsMap[e];t&&(t.direction=1,t.directionBackwards=!1)},a.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(e){var t=this.animationsMap[e];t&&(t.direction=-1,t.directionBackwards=!0)},a.MorphBlendMesh.prototype.setAnimationFPS=function(e,t){var n=this.animationsMap[e];n&&(n.fps=t,n.duration=(n.end-n.start)/n.fps)},a.MorphBlendMesh.prototype.setAnimationDuration=function(e,t){var n=this.animationsMap[e];n&&(n.duration=t,n.fps=(n.end-n.start)/n.duration)},a.MorphBlendMesh.prototype.setAnimationWeight=function(e,t){var n=this.animationsMap[e];n&&(n.weight=t)},a.MorphBlendMesh.prototype.setAnimationTime=function(e,t){var n=this.animationsMap[e];n&&(n.time=t)},a.MorphBlendMesh.prototype.getAnimationTime=function(e){var t=0,n=this.animationsMap[e];return n&&(t=n.time),t},a.MorphBlendMesh.prototype.getAnimationDuration=function(e){var t=-1,n=this.animationsMap[e];return n&&(t=n.duration),t},a.MorphBlendMesh.prototype.playAnimation=function(e){
var t=this.animationsMap[e];t?(t.time=0,t.active=!0):console.warn("THREE.MorphBlendMesh: animation["+e+"] undefined in .playAnimation()")},a.MorphBlendMesh.prototype.stopAnimation=function(e){var t=this.animationsMap[e];t&&(t.active=!1)},a.MorphBlendMesh.prototype.update=function(e){for(var t=0,n=this.animationsList.length;n>t;t++){var r=this.animationsList[t];if(r.active){var i=r.duration/r.length;r.time+=r.direction*e,r.mirroredLoop?(r.time>r.duration||r.time<0)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),r.time<0&&(r.time=0,r.directionBackwards=!1)):(r.time=r.time%r.duration,r.time<0&&(r.time+=r.duration));var o=r.start+a.Math.clamp(Math.floor(r.time/i),0,r.length-1),s=r.weight;o!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*s,this.morphTargetInfluences[o]=0,r.lastFrame=r.currentFrame,r.currentFrame=o);var u=r.time%i/i;r.directionBackwards&&(u=1-u),r.currentFrame!==r.lastFrame?(this.morphTargetInfluences[r.currentFrame]=u*s,this.morphTargetInfluences[r.lastFrame]=(1-u)*s):this.morphTargetInfluences[r.currentFrame]=s}}},"undefined"!=typeof e&&e.exports&&(t=e.exports=a),t.THREE=a},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader;return t.readAsArrayBuffer(e),a(t)}function u(e){var t=new FileReader;return t.readAsText(e),a(t)}function c(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(e){if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob?(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=o(this);return e?e:Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(e){var t=e.toUpperCase();return m.indexOf(t)>-1?t:e}function h(e,t){t=t||{};var n=t.body;if(h.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=l(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function f(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function p(e){var t=new i,n=(e.getAllResponseHeaders()||"").trim().split("\n");return n.forEach(function(e){var n=e.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();t.append(r,i)}),t}function d(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof i?t.headers:new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];i||(i=[],this.map[e]=i),i.push(r)},i.prototype["delete"]=function(e){delete this.map[t(e)]},i.prototype.get=function(e){var n=this.map[t(e)];return n?n[0]:null},i.prototype.getAll=function(e){return this.map[t(e)]||[]},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=[n(r)]},i.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){e.call(t,r,n,this)},this)},this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this)},c.call(h.prototype),c.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},d.error=function(){var e=new d(null,{status:0,statusText:""});return e.type="error",e};var g=[301,302,303,307,308];d.redirect=function(e,t){if(-1===g.indexOf(t))throw new RangeError("Invalid status code");return new d(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=h,e.Response=d,e.fetch=function(e,t){return new Promise(function(n,r){function i(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var o;o=h.prototype.isPrototypeOf(e)&&!t?e:new h(e,t);var a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:p(a),url:i()},t="response"in a?a.response:a.responseText;n(new d(t,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&v.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t){}]);